{
  "version": 3,
  "sources": ["../../obj/rdonly/Renderer/YDataRendererCommon.js", "../../obj/rdonly/Renderer/YAngularGauge.js", "../../obj/rdonly/Renderer/YDigitalDisplay.js", "../../obj/rdonly/Renderer/YGraph.js", "../../obj/rdonly/Renderer/YSolidGauge.js", "../../obj/rdonly/Api/yocto_api.js", "../../obj/rdonly/Api/yocto_api_html.js", "../../obj/rdonly/Api/yocto_network.js", "../../obj/rdonly/constants.js", "../../obj/rdonly/sensorManager.js", "../../obj/rdonly/formManager.js", "../../obj/rdonly/propertiesMngmt.js", "../../obj/rdonly/properties.js", "../../obj/rdonly/contextMenu.js", "../../obj/rdonly/ressources.js", "../../obj/rdonly/logForm.js", "../../obj/rdonly/rawDataForm.js", "../../obj/rdonly/windowManager.js", "../../obj/rdonly/webPage.js"],
  "sourcesContent": ["/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Renderer common functions\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nexport class Vector3 {\n    constructor(a, b, c) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n    }\n    static FromXYCoord(x, y) { return new Vector3(x, y, 1); }\n    multiplyByM(m) {\n        return new Vector3(m.a * this.a + m.b * this.b + m.c * this.c, m.d * this.a + m.e * this.b + m.f * this.c, m.g * this.a + m.h * this.b + m.i * this.c);\n    }\n    multiplyByN(n) {\n        return new Vector3(this.a * n, this.b * n, this.c * n);\n    }\n    AddV(v) {\n        return new Vector3(this.a + v.a, this.b + v.b, this.c + v.c);\n    }\n    SubstractV(v) {\n        return new Vector3(this.a - v.a, this.b - v.b, this.c - v.c);\n    }\n    toPointF() { return new PointF(this.a, this.b); }\n    toPoint() { return new Point(this.a, this.b); }\n}\nexport class Matrix3x3 {\n    // don't use the constructor directly but newMatrix, newTranslateMatrix, newRotateMatrix etc...\n    constructor(a, b, c, d, e, f, g, h, i, flags) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.e = e;\n        this.f = f;\n        this.g = g;\n        this.h = h;\n        this.i = i;\n        if ((b == 0) && (d == 0) && (a == 1) && (e == 1) && (i == 1) && (g == 0) && (h == 0)) {\n            flags |= Matrix3x3.Flag_TRANSLATION;\n            if ((c == 0) && (f == 0))\n                flags |= Matrix3x3.Flag_IDENTITY;\n        }\n        this.isTranslation = (flags & Matrix3x3.Flag_TRANSLATION) != 0;\n        this.isIdentity = (flags & Matrix3x3.Flag_IDENTITY) != 0;\n    }\n    clone() {\n        let flag = 0;\n        if (this.isTranslation)\n            flag |= Matrix3x3.Flag_TRANSLATION;\n        if (this.isIdentity)\n            flag |= Matrix3x3.Flag_IDENTITY;\n        return new Matrix3x3(this.a, this.b, this.c, this.d, this.e, this.f, this.g, this.h, this.i, flag);\n    }\n    get determinant() {\n        let detA = this.e * this.i - this.h * this.f;\n        let detB = this.d * this.i - this.g * this.f;\n        let detC = this.d * this.h - this.g * this.e;\n        return this.a * detA + -this.b * detB + this.c * detC;\n    }\n    get transpose() {\n        if (this.isIdentity)\n            return Matrix3x3.newIdentityMatrix();\n        return new Matrix3x3(this.a, this.d, this.g, this.b, this.e, this.h, this.c, this.f, this.i, Matrix3x3.Flag_NONE);\n    }\n    multiplyByV(v) {\n        if (this.isTranslation)\n            return new Vector3(this.c + v.a, this.f + v.b, 1);\n        return new Vector3(this.a * v.a + this.b * v.b + this.c * v.c, this.d * v.a + this.e * v.b + this.f * v.c, this.g * v.a + this.h * v.b + this.i * v.c);\n    }\n    static newMatrix(a, b, c, d, e, f, g, h, i) {\n        return new Matrix3x3(a, b, c, d, e, f, g, h, i, Matrix3x3.Flag_NONE);\n    }\n    static newTranslateMatrix(offsetX, offsetY) {\n        let flag = Matrix3x3.Flag_TRANSLATION;\n        if ((offsetX == 0) && (offsetY == 0))\n            flag |= Matrix3x3.Flag_IDENTITY;\n        return new Matrix3x3(1, 0, offsetX, 0, 1, offsetY, 0, 0, 1, flag);\n    }\n    static newRotateMatrix(AngleDeg) {\n        AngleDeg = Math.PI * AngleDeg / 180;\n        return new Matrix3x3(Math.cos(AngleDeg), -Math.sin(AngleDeg), 0, Math.sin(AngleDeg), -Math.cos(AngleDeg), 0, 0, 0, 1, Matrix3x3.Flag_NONE);\n    }\n    static newScaleMatrix(Coef) {\n        return new Matrix3x3(Coef, 0, 0, 0, Coef, 0, 0, 0, 1, Matrix3x3.Flag_NONE);\n    }\n    static newIdentityMatrix() {\n        return new Matrix3x3(1, 0, 0, 0, 1, 0, 0, 0, 1, Matrix3x3.Flag_IDENTITY | Matrix3x3.Flag_TRANSLATION);\n    }\n    toCSS() {\n        return \"matrix(\" + this.a.toString() + \",\" + this.d.toString() + \",\"\n            + this.b.toString() + \",\" + this.e.toString() + \",\"\n            + this.c.toString() + \",\" + this.f.toString() + \")\";\n    }\n    toString() {\n        return \"| \" + this.a.toFixed(2) + \" \" + this.b.toFixed(2) + \" \" + this.c.toFixed(2) + \" |\" + (this.isIdentity ? \" I\" : \"\") + \"\\n\"\n            + \"| \" + this.d.toFixed(2) + \" \" + this.e.toFixed(2) + \" \" + this.f.toFixed(2) + \" |\" + (this.isTranslation ? \" T\" : \"\") + \"\\n\"\n            + \"| \" + this.g.toFixed(2) + \" \" + this.g.toFixed(2) + \" \" + this.i.toFixed(2) + \" |\\n\";\n    }\n    multiplyByM(m) {\n        // | a b c |\n        // | d e f |\n        // | g h i |\n        if (this.isIdentity)\n            return m.clone();\n        if (m.isIdentity)\n            return this.clone();\n        if ((this.isTranslation) && (m.isTranslation))\n            return Matrix3x3.newTranslateMatrix(this.c + m.c, this.f + m.f);\n        return new Matrix3x3(this.a * m.a + this.b * m.d + this.c * m.g, this.a * m.b + this.b * m.e + this.c * m.h, this.a * m.c + this.b * m.f + this.c * m.i, this.d * m.a + this.e * m.d + this.f * m.g, this.d * m.b + this.e * m.e + this.f * m.h, this.d * m.c + this.e * m.f + this.f * m.i, this.g * m.a + this.h * m.d + this.i * m.g, this.g * m.b + this.h * m.e + this.i * m.h, this.g * m.c + this.h * m.f + this.i * m.i, Matrix3x3.Flag_NONE);\n    }\n    get inverse() {\n        // | a b c |   | a d g |\n        // | d e f |   | b e h |\n        // | g h i |   | c f i |\n        if (this.isIdentity)\n            return Matrix3x3.newIdentityMatrix();\n        if (this.isTranslation)\n            return Matrix3x3.newTranslateMatrix(-this.c, -this.f);\n        let det = this.determinant;\n        if (det == 0)\n            throw \"matrix cannot be inverted\";\n        let detA = this.e * this.i - this.f * this.h;\n        let detB = this.b * this.i - this.c * this.h;\n        let detC = this.b * this.f - this.c * this.e;\n        let detD = this.d * this.i - this.f * this.g;\n        let detE = this.a * this.i - this.c * this.g;\n        let detF = this.a * this.f - this.c * this.d;\n        let detG = this.d * this.h - this.e * this.g;\n        let detH = this.a * this.h - this.b * this.g;\n        let detI = this.a * this.e - this.b * this.d;\n        return new Matrix3x3(detA / det, -detB / det, detC / det, -detD / det, detE / det, -detF / det, detG / det, -detH / det, detI / det, Matrix3x3.Flag_NONE);\n    }\n    log() {\n        console.log(this.toString());\n    }\n}\nMatrix3x3.Flag_NONE = 0;\nMatrix3x3.Flag_IDENTITY = 1;\nMatrix3x3.Flag_TRANSLATION = 2;\n// enum emulation (javascript enum are so lame, we had to make ours)\n//  usage example\n//\n//  export class  HrzAlignment extends YDataRendering.YEnum\n//      { public static readonly LEFT   = new  YDataRendering.YEnumItem(\"LEFT\",\"Left\");\n//        public static readonly CENTER = new  YDataRendering.YEnumItem(\"CENTER\",\"Center\");\n//        public static readonly DECIMAL= new  YDataRendering.YEnumItem(\"DECIMAL\",\"Decimal\");\n//        public static readonly RIGHT  = new  YDataRendering.YEnumItem(\"RIGHT\",\"Right\");\n//     }\nexport class YEnum {\n    static fromString(container, value) {\n        let p = Object.getOwnPropertyNames(container);\n        for (let i = 0; i < p.length; i++) {\n            if (p[i] == value)\n                return container[value];\n        }\n        throw \"YEnum\" + value + \" is not a \" + container + \" value\";\n    }\n    static siblings(container) {\n        let res = [];\n        let p = Object.getOwnPropertyNames(container);\n        for (let i = 0; i < p.length; i++) {\n            if (container[p[i]] instanceof YEnumItem) {\n                res.push(container[p[i]]);\n            }\n        }\n        return res;\n    }\n}\nexport class YEnumItem {\n    constructor(value, humanreadable, container) {\n        this._value = value;\n        this._container = container;\n        this._humanreadable = humanreadable;\n    }\n    fromString(value) { return YEnum.fromString(this._container, value); }\n    get toString() { return this._value.toString(); }\n    get description() { return this._humanreadable; }\n    get sibblings() { return YEnum.siblings(this._container); }\n}\nexport class ViewPortSettings {\n    constructor() {\n        this.IRLx = 0;\n        this.IRLy = 0;\n        this.zoomx = 0;\n        this.zoomy = 0;\n        this.Lmargin = 0;\n        this.Rmargin = 0;\n        this.Tmargin = 0;\n        this.Bmargin = 0;\n        this.Width = 0;\n        this.Height = 0;\n        this.Capture = false;\n        this.IRLCaptureStartX = 0;\n        this.CaptureStartY = 0;\n        this.OriginalXAxisMin = 0;\n        this.OriginalXAxisMax = 0;\n        this.OriginalIRLx = 0;\n        this.OriginalLmargin = 0;\n        this.OriginalZoomx = 0;\n    }\n}\nexport class YFont {\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    get directParent() { return this._directParent; }\n    constructor(parentRenderer, directParent, size, fontChangeCallback) {\n        this._userData = null;\n        this._fontChangeCallback = null;\n        this._name = \"Arial\";\n        this._italic = false;\n        this._bold = false;\n        this._color = YColor.Black;\n        // if alternate color si set, then it will be used instead of regular color\n        this._alternateColor = null;\n        this._font = null;\n        this._brush = new YSolidBrush(YColor.Black);\n        this._parentRenderer = parentRenderer;\n        this._directParent = directParent;\n        this._fontChangeCallback = fontChangeCallback ? fontChangeCallback : null;\n        this._size = new Proportional(size ? size : 10, Proportional.ResizeRule.FIXED, parentRenderer, this, this.ResetFont);\n    }\n    ResetFont(source) {\n        this._font = null;\n        if (source != null)\n            this._parentRenderer.ProportionnalValueChanged(source);\n    }\n    get name() { return this._name; }\n    set name(value) {\n        this._name = value;\n        this.ResetFont(null);\n        this._parentRenderer.redraw();\n    }\n    get hasChanged() { return this._font == null; }\n    get size() { return this._size.value; }\n    set size(value) {\n        if (value <= 0)\n            throw new RangeError(\"Size must be a positive value\");\n        value = (Math.round(100 * value) / 100);\n        this._size.value = value;\n        this.ResetFont(null);\n        if (this._fontChangeCallback != null)\n            this._fontChangeCallback(this);\n        this._parentRenderer.redraw();\n    }\n    get italic() { return this._italic; }\n    set italic(value) {\n        if (this._italic != value) {\n            this._italic = value;\n            this.ResetFont(null);\n            this._parentRenderer.redraw();\n        }\n    }\n    get bold() { return this._bold; }\n    set bold(value) {\n        if (this._bold != value) {\n            this._bold = value;\n            this.ResetFont(null);\n            this._parentRenderer.redraw();\n        }\n    }\n    get color() { return this._color; }\n    set color(value) {\n        if (this._color != value) {\n            this._color = value;\n            this._brush = null;\n            this._parentRenderer.redraw();\n        }\n    }\n    get alternateColor() { return this._alternateColor; }\n    set alternateColor(value) {\n        if (this._alternateColor != value) {\n            this._alternateColor = value;\n            this._brush = null;\n            this._parentRenderer.redraw();\n        }\n    }\n    get fontObject() { return this._name ? this._name : \"Arial\"; }\n    get brush() {\n        if (this._brush == null)\n            this._brush = new YSolidBrush(this._alternateColor != null ? this._alternateColor : this._color);\n        return this._brush;\n    }\n    get sizeInPoints() { return this._size.value * 0.75; }\n    get sizeForCanvas() { return this._size.value * 1.15; }\n    get htmlCode() {\n        return (this._italic ? \"italic \" : \"\") + (this._bold ? \"bold \" : \"\") + this.sizeForCanvas.toString() + \"px \" + this._name;\n    }\n}\nexport class YSizeF {\n    constructor(font, st) {\n        this._w = 0;\n        this._h = 0;\n        this._lines = [];\n        this._linesCount = 0;\n        this._lineHeight = 0;\n        this._firstlineHeight = 0;\n        if (font != null) {\n            this._lineHeight = font.size * 1.25;\n            this._firstlineHeight = this._lineHeight * 0.75;\n            if (st.indexOf(\"\\n\") < 0) {\n                this._lines = [st];\n                this._linesCount = 1;\n            }\n            else {\n                this._lines = st.split(\"\\n\");\n                this._linesCount = this._lines.length;\n            }\n        }\n    }\n    get lines() { return this._lines; }\n    get linesCount() { return this._linesCount; }\n    get firstLineHeight() { return this._firstlineHeight; }\n    get lineHeight() { return this._lineHeight; }\n    get height() { return this._h; }\n    get width() { return this._w; }\n    set width(value) {\n        this._w = value;\n    }\n    set height(value) {\n        this._h = value;\n    }\n}\nexport class YTextRenderingHint {\n    constructor(value) {\n        this._value = 0;\n        this._value = value;\n    }\n    ;\n}\nYTextRenderingHint.SystemDefault = new YTextRenderingHint(0);\nYTextRenderingHint.SingleBitPerPixelGridFit = new YTextRenderingHint(1);\nYTextRenderingHint.SingleBitPerPixel = new YTextRenderingHint(2);\nYTextRenderingHint.AntiAliasGridFit = new YTextRenderingHint(3);\nYTextRenderingHint.AntiAlias = new YTextRenderingHint(4);\nYTextRenderingHint.ClearTypeGridFit = new YTextRenderingHint(5);\nexport class YSmoothingMode {\n    constructor(value) {\n        this._value = 0;\n        this._value = value;\n    }\n    ;\n}\nYSmoothingMode.Invalid = new YSmoothingMode(-1);\nYSmoothingMode.Default = new YSmoothingMode(0);\nYSmoothingMode.HighSpeed = new YSmoothingMode(1);\nYSmoothingMode.HighQuality = new YSmoothingMode(2);\nYSmoothingMode.None = new YSmoothingMode(3);\nYSmoothingMode.AntiAlias = new YSmoothingMode(4);\nclass YStringBuilder {\n    constructor() {\n        this._str = \"\";\n    }\n    AppendLine(s) { this._str += s + \"\\n\"; }\n    Append(s) { this._str += s; }\n    get contents() { return this._str; }\n}\nexport class YStringFormat {\n    get Alignment() { return this._Alignment; }\n    set Alignment(value) { this._Alignment = value; }\n    get LineAlignment() { return this._LineAlignment; }\n    set LineAlignment(value) { this._LineAlignment = value; }\n    get FormatFlags() { return this._formatFlags; }\n    set FormatFlags(value) { this._formatFlags = value; }\n    get Trimming() { return this._Trimming; }\n    set Trimming(value) { this._Trimming = value; }\n    constructor(clip) {\n        this._Alignment = 0 /* YStringFormat.StringAlignment.Near */;\n        this._LineAlignment = 0 /* YStringFormat.StringAlignment.Near */;\n        this._formatFlags = 0 /* YStringFormat.StringFormatFlags.default */;\n        this._Trimming = 0 /* YStringFormat.StringTrimming.None */;\n        this._clip = 16384 /* YStringFormat.StringFormatFlags.NoClip */;\n        this._clip = clip;\n    }\n}\nexport class YColor {\n    get name() { return this._name; }\n    set predefname(value) { this._name = value; }\n    static get predefinedColors() {\n        if (YColor._predefinedColors == null) {\n            YColor._predefinedColors = {};\n            let names = Object.getOwnPropertyNames(YColor);\n            for (let i = 0; i < names.length; i++) {\n                if (YColor[names[i]] instanceof YColor) {\n                    YColor._predefinedColors[names[i]] = YColor[names[i]];\n                    YColor._predefinedColors[names[i]].predefname = names[i];\n                }\n            }\n        }\n        return YColor._predefinedColors;\n    }\n    static FromString(value) {\n        let valueUpper = value.toUpperCase();\n        let propNames = Object.getOwnPropertyNames(YColor);\n        for (let i = 0; i < propNames.length; i++) {\n            if (propNames[i].toUpperCase() == valueUpper) {\n                if (YColor[propNames[i]] instanceof YColor) {\n                    return YColor[propNames[i]];\n                    //let o: object = Reflect.get(YColor, value);\n                    //if (o instanceof YColor) return o as YColor;\n                }\n            }\n        }\n        if ((value.length == 7) && (value.substr(0, 1).toUpperCase() == '#')) {\n            let r = parseInt(value.substr(1, 2), 16);\n            let g = parseInt(value.substr(3, 2), 16);\n            let b = parseInt(value.substr(5, 2), 16);\n            return new YColor(false, 255, r, g, b);\n        }\n        if (value.length == 12) {\n            if (value.substr(0, 4).toUpperCase() == 'RGB:') {\n                let alpha = parseInt(value.substr(4, 2), 16);\n                let r = parseInt(value.substr(6, 2), 16);\n                let g = parseInt(value.substr(8, 2), 16);\n                let b = parseInt(value.substr(10, 2), 16);\n                return new YColor(false, alpha, r, g, b);\n            }\n            else if (value.substr(0, 4).toUpperCase() == 'HSL:') {\n                let alpha = parseInt(value.substr(4, 2), 16);\n                let h = parseInt(value.substr(6, 2), 16);\n                let s = parseInt(value.substr(8, 2), 16);\n                let l = parseInt(value.substr(10, 2), 16);\n                return new YColor(true, alpha, h, s, l);\n            }\n        }\n        return null;\n        // return   YColor.Black;  // unknown color, sorry\n    }\n    static hex(v) {\n        let s = v.toString(16);\n        if (s.length <= 1)\n            return \"0\" + s;\n        return s;\n    }\n    toString() {\n        if (this.isHSLColor) {\n            return \"HSL:\" + (YColor.hex(this.transparency) + YColor.hex(this.h) + YColor.hex(this.s) + YColor.hex(this.l)).toUpperCase();\n        }\n        else { // might need some optimization\n            let propNames = Object.getOwnPropertyNames(YColor);\n            for (let i = 0; i < propNames.length; i++) {\n                let o = Reflect.get(YColor, propNames[i]);\n                let c = o;\n                if ((c.alpha == this.alpha) && (c.red == this.red) && (c.green == this.green) && (c.blue == this.blue))\n                    return propNames[i];\n            }\n        }\n        return \"RGB:\" + (YColor.hex(this.transparency) + YColor.hex(this.r) + YColor.hex(this.g) + YColor.hex(this.b)).toUpperCase();\n    }\n    get svgCode() { return \"rgb(\" + this.r.toString() + \", \" + this.g.toString() + \", \" + this.b.toString() + \")\"; }\n    get alphaCode() { return (this.transparency / 255.0).toFixed(3); }\n    static hsl2rgbInt(temp1, temp2, temp3) {\n        if (temp3 >= 170)\n            return ((temp1 + 127) / 255) >> 0;\n        if (temp3 > 42) {\n            if (temp3 <= 127)\n                return ((temp2 + 127) / 255) >> 0;\n            temp3 = 170 - temp3;\n        }\n        return ((temp1 * 255 + (temp2 - temp1) * (6 * temp3) + 32512) / 65025) >> 0;\n    }\n    hsl2rgb() {\n        let temp1;\n        let temp2;\n        let temp3;\n        this.rgbConvertionDone = true;\n        if (this.s == 0) {\n            this.r = this.l;\n            this.g = this.l;\n            this.b = this.l;\n            return;\n        }\n        if (this.l <= 127) {\n            temp2 = this.l * (255 + this.s);\n        }\n        else {\n            temp2 = (this.l + this.s) * (255) - this.l * this.s;\n        }\n        temp1 = (510) * this.l - temp2;\n        // R\n        temp3 = (this.h + 85);\n        if (temp3 > 255)\n            temp3 = temp3 - 255;\n        this.r = YColor.hsl2rgbInt(temp1, temp2, temp3);\n        // G\n        temp3 = this.h;\n        if (temp3 > 255)\n            temp3 = temp3 - 255;\n        this.g = YColor.hsl2rgbInt(temp1, temp2, temp3);\n        // B\n        if (this.h >= 85) {\n            temp3 = this.h - 85;\n        }\n        else {\n            temp3 = this.h + 170;\n        }\n        this.b = YColor.hsl2rgbInt(temp1, temp2, temp3);\n        if (this.r > 255)\n            this.r = 255; // just in case\n        if (this.g > 255)\n            this.g = 255;\n        if (this.b > 255)\n            this.b = 255;\n    }\n    computeHSL() {\n        let R = this.r;\n        let G = this.g;\n        let B = this.b;\n        let H;\n        let S;\n        let L;\n        let max = (R > G ? R : G);\n        let min = (R < G ? R : G);\n        let correction = 0;\n        let divisor = 0;\n        this.hslConvertionDone = true;\n        if (B > max)\n            max = B;\n        if (B < min)\n            min = B;\n        L = ((max + min + 1) / 2) >> 0;\n        if (max == min) {\n            this.h = 0;\n            this.s = 0;\n            this.l = L;\n            return;\n        }\n        correction = ((max + min) / 2) >> 0;\n        if (L <= 127) {\n            S = ((255 * (max - min) + correction) / (max + min)) >> 0;\n        }\n        else {\n            S = ((255 * (max - min) + 255 - correction) / (510 - (max + min))) >> 0;\n        }\n        correction = 3 * (max - min);\n        divisor = 2 * correction;\n        if (R == max) {\n            H = 0;\n            R = G;\n            G = B;\n        }\n        else if (G == max) {\n            H = 85;\n            G = R;\n            R = B;\n        }\n        else {\n            H = 170;\n        }\n        if (R >= G) {\n            H += ((255 * (R - G) + correction) / divisor) >> 0;\n        }\n        else {\n            H += 255 - ((255 * (G - R) - correction) / divisor) >> 0;\n        }\n        if (H > 255)\n            H -= 255;\n        if (S > 255)\n            S = 255; // just in case\n        if (L > 255)\n            L = 255;\n        this.h = H;\n        this.s = S;\n        this.l = L;\n    }\n    get hue() {\n        if (!this.hslConvertionDone)\n            this.computeHSL();\n        return this.h;\n    }\n    get saturation() {\n        if (!this.hslConvertionDone)\n            this.computeHSL();\n        return this.s;\n    }\n    get luminosity() {\n        if (!this.hslConvertionDone)\n            this.computeHSL();\n        return this.l;\n    }\n    get red() {\n        if (!this.rgbConvertionDone)\n            this.hsl2rgb();\n        return this.r;\n    }\n    get green() {\n        if (!this.rgbConvertionDone)\n            this.hsl2rgb();\n        return this.g;\n    }\n    get blue() {\n        if (!this.rgbConvertionDone)\n            this.hsl2rgb();\n        return this.b;\n    }\n    get alpha() {\n        return this.transparency;\n    }\n    static FromArgb(a, r, g, b) {\n        return new YColor(false, a, r, g, b);\n    }\n    static FromAhsl(a, h, s, l) {\n        return new YColor(true, a, h, s, l);\n    }\n    get isHSL() { return this.isHSLColor; }\n    get isRGB() { return !this.isHSLColor; }\n    equal(c) {\n        if (this.isHSLColor) {\n            if (!c.isHSLColor)\n                return false;\n            if (c.hue != this.hue)\n                return false;\n            if (c.saturation != this.saturation)\n                return false;\n            if (c.luminosity != this.luminosity)\n                return false;\n            if (c.alpha != this.alpha)\n                return false;\n        }\n        else {\n            if (c.isHSLColor)\n                return false;\n            if (c.red != this.red)\n                return false;\n            if (c.green != this.green)\n                return false;\n            if (c.blue != this.blue)\n                return false;\n            if (c.alpha != this.alpha)\n                return false;\n        }\n        return true;\n    }\n    clone() {\n        if (this.isHSLColor)\n            return new YColor(true, this.transparency, this.h, this.s, this.l, this.isPredefined);\n        return new YColor(false, this.transparency, this.r, this.g, this.b, this.isPredefined);\n    }\n    get isPredefined() { return this._isPredefined; }\n    constructor(isHsl, transparency, r_h, g_s, b_l, isPredefined) {\n        this.hslConvertionDone = false;\n        this.rgbConvertionDone = false;\n        this.transparency = 0;\n        this.r = 0;\n        this.g = 0;\n        this.b = 0;\n        this.h = 0;\n        this.s = 0;\n        this.l = 0;\n        this._name = \"\";\n        this._htmlcode = this.computeHTMLCode();\n        this.hslConvertionDone = isHsl;\n        this.isHSLColor = isHsl;\n        this.transparency = transparency;\n        this._isPredefined = isPredefined === true;\n        if (isHsl) {\n            this.h = r_h;\n            this.s = g_s;\n            this.l = b_l;\n            this.hsl2rgb();\n        }\n        else {\n            this.r = r_h;\n            this.g = g_s;\n            this.b = b_l;\n            this.rgbConvertionDone = true;\n        }\n        this._htmlcode = this.computeHTMLCode();\n    }\n    computeHTMLCode() {\n        let a = this.transparency / 255;\n        let r = this.r;\n        let g = this.g;\n        let b = this.b;\n        return \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + a.toFixed(3) + \")\";\n    }\n    get htmlCode() { return this._htmlcode; }\n}\nYColor.AliceBlue = new YColor(false, 0xFF, 0xF0, 0xF8, 0xFF, true);\nYColor.AntiqueWhite = new YColor(false, 0xFF, 0xFA, 0xEB, 0xD7, true);\nYColor.Aqua = new YColor(false, 0xFF, 0x00, 0xFF, 0xFF, true);\nYColor.Aquamarine = new YColor(false, 0xFF, 0x7F, 0xFF, 0xD4, true);\nYColor.Azure = new YColor(false, 0xFF, 0xF0, 0xFF, 0xFF, true);\nYColor.Beige = new YColor(false, 0xFF, 0xF5, 0xF5, 0xDC, true);\nYColor.Bisque = new YColor(false, 0xFF, 0xFF, 0xE4, 0xC4, true);\nYColor.Black = new YColor(false, 0xFF, 0x00, 0x00, 0x00, true);\nYColor.BlanchedAlmond = new YColor(false, 0xFF, 0xFF, 0xEB, 0xCD, true);\nYColor.Blue = new YColor(false, 0xFF, 0x00, 0x00, 0xFF, true);\nYColor.BlueViolet = new YColor(false, 0xFF, 0x8A, 0x2B, 0xE2, true);\nYColor.Brown = new YColor(false, 0xFF, 0xA5, 0x2A, 0x2A, true);\nYColor.BurlyWood = new YColor(false, 0xFF, 0xDE, 0xB8, 0x87, true);\nYColor.CadetBlue = new YColor(false, 0xFF, 0x5F, 0x9E, 0xA0, true);\nYColor.Chartreuse = new YColor(false, 0xFF, 0x7F, 0xFF, 0x00, true);\nYColor.Chocolate = new YColor(false, 0xFF, 0xD2, 0x69, 0x1E, true);\nYColor.Coral = new YColor(false, 0xFF, 0xFF, 0x7F, 0x50, true);\nYColor.CornflowerBlue = new YColor(false, 0xFF, 0x64, 0x95, 0xED, true);\nYColor.Cornsilk = new YColor(false, 0xFF, 0xFF, 0xF8, 0xDC, true);\nYColor.Crimson = new YColor(false, 0xFF, 0xDC, 0x14, 0x3C, true);\nYColor.Cyan = new YColor(false, 0xFF, 0x00, 0xFF, 0xFF, true);\nYColor.DarkBlue = new YColor(false, 0xFF, 0x00, 0x00, 0x8B, true);\nYColor.DarkCyan = new YColor(false, 0xFF, 0x00, 0x8B, 0x8B, true);\nYColor.DarkGoldenrod = new YColor(false, 0xFF, 0xB8, 0x86, 0x0B, true);\nYColor.DarkGray = new YColor(false, 0xFF, 0xA9, 0xA9, 0xA9, true);\nYColor.DarkGreen = new YColor(false, 0xFF, 0x00, 0x64, 0x00, true);\nYColor.DarkKhaki = new YColor(false, 0xFF, 0xBD, 0xB7, 0x6B, true);\nYColor.DarkMagenta = new YColor(false, 0xFF, 0x8B, 0x00, 0x8B, true);\nYColor.DarkOliveGreen = new YColor(false, 0xFF, 0x55, 0x6B, 0x2F, true);\nYColor.DarkOrange = new YColor(false, 0xFF, 0xFF, 0x8C, 0x00, true);\nYColor.DarkOrchid = new YColor(false, 0xFF, 0x99, 0x32, 0xCC, true);\nYColor.DarkRed = new YColor(false, 0xFF, 0x8B, 0x00, 0x00, true);\nYColor.DarkSalmon = new YColor(false, 0xFF, 0xE9, 0x96, 0x7A, true);\nYColor.DarkSeaGreen = new YColor(false, 0xFF, 0x8F, 0xBC, 0x8F, true);\nYColor.DarkSlateBlue = new YColor(false, 0xFF, 0x48, 0x3D, 0x8B, true);\nYColor.DarkSlateGray = new YColor(false, 0xFF, 0x2F, 0x4F, 0x4F, true);\nYColor.DarkTurquoise = new YColor(false, 0xFF, 0x00, 0xCE, 0xD1, true);\nYColor.DarkViolet = new YColor(false, 0xFF, 0x94, 0x00, 0xD3, true);\nYColor.DeepPink = new YColor(false, 0xFF, 0xFF, 0x14, 0x93, true);\nYColor.DeepSkyBlue = new YColor(false, 0xFF, 0x00, 0xBF, 0xFF, true);\nYColor.DimGray = new YColor(false, 0xFF, 0x69, 0x69, 0x69, true);\nYColor.DodgerBlue = new YColor(false, 0xFF, 0x1E, 0x90, 0xFF, true);\nYColor.Firebrick = new YColor(false, 0xFF, 0xB2, 0x22, 0x22, true);\nYColor.FloralWhite = new YColor(false, 0xFF, 0xFF, 0xFA, 0xF0, true);\nYColor.ForestGreen = new YColor(false, 0xFF, 0x22, 0x8B, 0x22, true);\nYColor.Fuchsia = new YColor(false, 0xFF, 0xFF, 0x00, 0xFF, true);\nYColor.Gainsboro = new YColor(false, 0xFF, 0xDC, 0xDC, 0xDC, true);\nYColor.GhostWhite = new YColor(false, 0xFF, 0xF8, 0xF8, 0xFF, true);\nYColor.Gold = new YColor(false, 0xFF, 0xFF, 0xD7, 0x00, true);\nYColor.Goldenrod = new YColor(false, 0xFF, 0xDA, 0xA5, 0x20, true);\nYColor.Gray = new YColor(false, 0xFF, 0x80, 0x80, 0x80, true);\nYColor.Green = new YColor(false, 0xFF, 0x00, 0x80, 0x00, true);\nYColor.GreenYellow = new YColor(false, 0xFF, 0xAD, 0xFF, 0x2F, true);\nYColor.Honeydew = new YColor(false, 0xFF, 0xF0, 0xFF, 0xF0, true);\nYColor.HotPink = new YColor(false, 0xFF, 0xFF, 0x69, 0xB4, true);\nYColor.IndianRed = new YColor(false, 0xFF, 0xCD, 0x5C, 0x5C, true);\nYColor.Indigo = new YColor(false, 0xFF, 0x4B, 0x00, 0x82, true);\nYColor.Ivory = new YColor(false, 0xFF, 0xFF, 0xFF, 0xF0, true);\nYColor.Khaki = new YColor(false, 0xFF, 0xF0, 0xE6, 0x8C, true);\nYColor.Lavender = new YColor(false, 0xFF, 0xE6, 0xE6, 0xFA, true);\nYColor.LavenderBlush = new YColor(false, 0xFF, 0xFF, 0xF0, 0xF5, true);\nYColor.LawnGreen = new YColor(false, 0xFF, 0x7C, 0xFC, 0x00, true);\nYColor.LemonChiffon = new YColor(false, 0xFF, 0xFF, 0xFA, 0xCD, true);\nYColor.LightBlue = new YColor(false, 0xFF, 0xAD, 0xD8, 0xE6, true);\nYColor.LightCoral = new YColor(false, 0xFF, 0xF0, 0x80, 0x80, true);\nYColor.LightCyan = new YColor(false, 0xFF, 0xE0, 0xFF, 0xFF, true);\nYColor.LightGoldenrodYellow = new YColor(false, 0xFF, 0xFA, 0xFA, 0xD2, true);\nYColor.LightGray = new YColor(false, 0xFF, 0xD3, 0xD3, 0xD3, true);\nYColor.LightGreen = new YColor(false, 0xFF, 0x90, 0xEE, 0x90, true);\nYColor.LightPink = new YColor(false, 0xFF, 0xFF, 0xB6, 0xC1, true);\nYColor.LightSalmon = new YColor(false, 0xFF, 0xFF, 0xA0, 0x7A, true);\nYColor.LightSeaGreen = new YColor(false, 0xFF, 0x20, 0xB2, 0xAA, true);\nYColor.LightSkyBlue = new YColor(false, 0xFF, 0x87, 0xCE, 0xFA, true);\nYColor.LightSlateGray = new YColor(false, 0xFF, 0x77, 0x88, 0x99, true);\nYColor.LightSteelBlue = new YColor(false, 0xFF, 0xB0, 0xC4, 0xDE, true);\nYColor.LightYellow = new YColor(false, 0xFF, 0xFF, 0xFF, 0xE0, true);\nYColor.Lime = new YColor(false, 0xFF, 0x00, 0xFF, 0x00, true);\nYColor.LimeGreen = new YColor(false, 0xFF, 0x32, 0xCD, 0x32, true);\nYColor.Linen = new YColor(false, 0xFF, 0xFA, 0xF0, 0xE6, true);\nYColor.Magenta = new YColor(false, 0xFF, 0xFF, 0x00, 0xFF, true);\nYColor.Maroon = new YColor(false, 0xFF, 0x80, 0x00, 0x00, true);\nYColor.MediumAquamarine = new YColor(false, 0xFF, 0x66, 0xCD, 0xAA, true);\nYColor.MediumBlue = new YColor(false, 0xFF, 0x00, 0x00, 0xCD, true);\nYColor.MediumOrchid = new YColor(false, 0xFF, 0xBA, 0x55, 0xD3, true);\nYColor.MediumPurple = new YColor(false, 0xFF, 0x93, 0x70, 0xDB, true);\nYColor.MediumSeaGreen = new YColor(false, 0xFF, 0x3C, 0xB3, 0x71, true);\nYColor.MediumSlateBlue = new YColor(false, 0xFF, 0x7B, 0x68, 0xEE, true);\nYColor.MediumSpringGreen = new YColor(false, 0xFF, 0x00, 0xFA, 0x9A, true);\nYColor.MediumTurquoise = new YColor(false, 0xFF, 0x48, 0xD1, 0xCC, true);\nYColor.MediumVioletRed = new YColor(false, 0xFF, 0xC7, 0x15, 0x85, true);\nYColor.MidnightBlue = new YColor(false, 0xFF, 0x19, 0x19, 0x70, true);\nYColor.MintCream = new YColor(false, 0xFF, 0xF5, 0xFF, 0xFA, true);\nYColor.MistyRose = new YColor(false, 0xFF, 0xFF, 0xE4, 0xE1, true);\nYColor.Moccasin = new YColor(false, 0xFF, 0xFF, 0xE4, 0xB5, true);\nYColor.NavajoWhite = new YColor(false, 0xFF, 0xFF, 0xDE, 0xAD, true);\nYColor.Navy = new YColor(false, 0xFF, 0x00, 0x00, 0x80, true);\nYColor.OldLace = new YColor(false, 0xFF, 0xFD, 0xF5, 0xE6, true);\nYColor.Olive = new YColor(false, 0xFF, 0x80, 0x80, 0x00, true);\nYColor.OliveDrab = new YColor(false, 0xFF, 0x6B, 0x8E, 0x23, true);\nYColor.Orange = new YColor(false, 0xFF, 0xFF, 0xA5, 0x00, true);\nYColor.OrangeRed = new YColor(false, 0xFF, 0xFF, 0x45, 0x00, true);\nYColor.Orchid = new YColor(false, 0xFF, 0xDA, 0x70, 0xD6, true);\nYColor.PaleGoldenrod = new YColor(false, 0xFF, 0xEE, 0xE8, 0xAA, true);\nYColor.PaleGreen = new YColor(false, 0xFF, 0x98, 0xFB, 0x98, true);\nYColor.PaleTurquoise = new YColor(false, 0xFF, 0xAF, 0xEE, 0xEE, true);\nYColor.PaleVioletRed = new YColor(false, 0xFF, 0xDB, 0x70, 0x93, true);\nYColor.PapayaWhip = new YColor(false, 0xFF, 0xFF, 0xEF, 0xD5, true);\nYColor.PeachPuff = new YColor(false, 0xFF, 0xFF, 0xDA, 0xB9, true);\nYColor.Peru = new YColor(false, 0xFF, 0xCD, 0x85, 0x3F, true);\nYColor.Pink = new YColor(false, 0xFF, 0xFF, 0xC0, 0xCB, true);\nYColor.Plum = new YColor(false, 0xFF, 0xDD, 0xA0, 0xDD, true);\nYColor.PowderBlue = new YColor(false, 0xFF, 0xB0, 0xE0, 0xE6, true);\nYColor.Purple = new YColor(false, 0xFF, 0x80, 0x00, 0x80, true);\nYColor.Red = new YColor(false, 0xFF, 0xFF, 0x00, 0x00, true);\nYColor.RosyBrown = new YColor(false, 0xFF, 0xBC, 0x8F, 0x8F, true);\nYColor.RoyalBlue = new YColor(false, 0xFF, 0x41, 0x69, 0xE1, true);\nYColor.SaddleBrown = new YColor(false, 0xFF, 0x8B, 0x45, 0x13, true);\nYColor.Salmon = new YColor(false, 0xFF, 0xFA, 0x80, 0x72, true);\nYColor.SandyBrown = new YColor(false, 0xFF, 0xF4, 0xA4, 0x60, true);\nYColor.SeaGreen = new YColor(false, 0xFF, 0x2E, 0x8B, 0x57, true);\nYColor.SeaShell = new YColor(false, 0xFF, 0xFF, 0xF5, 0xEE, true);\nYColor.Sienna = new YColor(false, 0xFF, 0xA0, 0x52, 0x2D, true);\nYColor.Silver = new YColor(false, 0xFF, 0xC0, 0xC0, 0xC0, true);\nYColor.SkyBlue = new YColor(false, 0xFF, 0x87, 0xCE, 0xEB, true);\nYColor.SlateBlue = new YColor(false, 0xFF, 0x6A, 0x5A, 0xCD, true);\nYColor.SlateGray = new YColor(false, 0xFF, 0x70, 0x80, 0x90, true);\nYColor.Snow = new YColor(false, 0xFF, 0xFF, 0xFA, 0xFA, true);\nYColor.SpringGreen = new YColor(false, 0xFF, 0x00, 0xFF, 0x7F, true);\nYColor.SteelBlue = new YColor(false, 0xFF, 0x46, 0x82, 0xB4, true);\nYColor.Tan = new YColor(false, 0xFF, 0xD2, 0xB4, 0x8C, true);\nYColor.Teal = new YColor(false, 0xFF, 0x00, 0x80, 0x80, true);\nYColor.Thistle = new YColor(false, 0xFF, 0xD8, 0xBF, 0xD8, true);\nYColor.Tomato = new YColor(false, 0xFF, 0xFF, 0x63, 0x47, true);\nYColor.Transparent = new YColor(false, 0x00, 0xFF, 0xFF, 0xFF, true);\nYColor.Turquoise = new YColor(false, 0xFF, 0x40, 0xE0, 0xD0, true);\nYColor.Violet = new YColor(false, 0xFF, 0xEE, 0x82, 0xEE, true);\nYColor.Wheat = new YColor(false, 0xFF, 0xF5, 0xDE, 0xB3, true);\nYColor.White = new YColor(false, 0xFF, 0xFF, 0xFF, 0xFF, true);\nYColor.WhiteSmoke = new YColor(false, 0xFF, 0xF5, 0xF5, 0xF5, true);\nYColor.Yellow = new YColor(false, 0xFF, 0xFF, 0xFF, 0x00, true);\nYColor.YellowGreen = new YColor(false, 0xFF, 0x9A, 0xCD, 0x32, true);\nYColor._predefinedColors = null;\nexport class YBrush {\n    constructor(c, disableAntialias) {\n        this._noAntiAlias = false;\n        this._color = c;\n        if (typeof (disableAntialias) != \"undefined\") {\n            this._noAntiAlias = disableAntialias;\n        }\n    }\n    get noAntiAlias() { return this._noAntiAlias; }\n    get color() { return this._color; }\n}\nexport class YSolidBrush extends YBrush {\n}\nexport class YLinearGradientBrush extends YBrush {\n    constructor(c1, c2) {\n        super(c1);\n        this._color1 = c1;\n        this._color2 = c2;\n    }\n    get color1() { return this._color1; }\n    get color2() { return this._color2; }\n}\nexport class YPen {\n    constructor(color, thickness, disableAntialias) {\n        this._thickness = 1.0;\n        this._color = YColor.Black;\n        this._noAntiAlias = false;\n        this._startCap = 1 /* YPen.LineCap.Square */;\n        this._endCap = 1 /* YPen.LineCap.Square */;\n        this._linejoin = YPen.LineJoin.Miter;\n        this._thickness = thickness;\n        this._color = thickness > 0 ? color : YColor.Transparent;\n        if (typeof (disableAntialias) != \"undefined\") {\n            this._noAntiAlias = disableAntialias;\n        }\n    }\n    get noAntiAlias() { return this._noAntiAlias; }\n    get lineWidth() { return this._thickness; }\n    get strokeStyle() { return this._color.htmlCode; }\n    get color() { return this._color; }\n    set startCap(value) { this._startCap = value; }\n    set endCap(value) { this._endCap = value; }\n    set linejoin(value) { this._linejoin = value; }\n}\n(function (YPen) {\n    let LineJoin;\n    (function (LineJoin) {\n        LineJoin[LineJoin[\"Miter\"] = 0] = \"Miter\";\n        LineJoin[LineJoin[\"Bevel\"] = 1] = \"Bevel\";\n        LineJoin[LineJoin[\"Round\"] = 2] = \"Round\";\n        LineJoin[LineJoin[\"MiterClipped\"] = 3] = \"MiterClipped\";\n    })(LineJoin = YPen.LineJoin || (YPen.LineJoin = {}));\n})(YPen || (YPen = {}));\nexport class YRectangle {\n    constructor(x, y, w, h) {\n        this.x = x;\n        this.y = y;\n        this.w = w;\n        this.h = h;\n    }\n}\nexport class Point {\n    constructor(valueX, valueY) {\n        this.X = valueX >> 0;\n        this.Y = valueY >> 0;\n    }\n}\nexport class PointF {\n    constructor(valueX, valueY) {\n        this.X = valueX;\n        this.Y = valueY;\n    }\n}\nexport class captureParametersSet {\n    constructor() {\n        this.captureType = YDataRenderer.CaptureType.SVG;\n        this.captureFolder = \"/\"; //Environment.GetFolderPath(Environment.SpecialFolder.MyPictures);\n        this.captureWidth = 1024;\n        this.captureHeight = 1024;\n        this.captureDPI = 96;\n    }\n}\nexport class GenericPanel {\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    get directParent() { return this._directParent; }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._enabled = false;\n        this._panelTextAlign = GenericPanel.TextAlign.LEFT;\n        this._text = \"\";\n        this._bgColor = new YColor(false, 255, 255, 255, 192);\n        this._borderColor = YColor.Black;\n        this._borderthickness = 1.0;\n        this._padding = 10;\n        this._verticalMargin = 10;\n        this._horizontalMargin = 10;\n        this._bgBrush = null;\n        this._pen = null;\n        this._font = null;\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._font = new YFont(parent, this, 8, null);\n    }\n    get enabled() {\n        return this._enabled;\n    }\n    set enabled(value) {\n        if (this._enabled != value) {\n            this._enabled = value;\n            this._parentRenderer.clearCachedObjects();\n            this._parentRenderer.redraw();\n        }\n    }\n    get panelTextAlign() { return this._panelTextAlign; }\n    set panelTextAlign(value) {\n        this._panelTextAlign = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get text() { return this._text; }\n    set text(value) {\n        this._text = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) {\n        this._bgColor = value;\n        this._bgBrush = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._pen = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) {\n        if (value < 0)\n            throw \"Border thickness must be a positive value\";\n        this._borderthickness = value;\n        this._parentRenderer.clearCachedObjects();\n        this._pen = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get padding() { return this._padding; }\n    set padding(value) {\n        if (value < 0)\n            throw new RangeError(\"Padding must be a positive value\");\n        this._padding = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get verticalMargin() { return this._verticalMargin; }\n    set verticalMargin(value) {\n        this._verticalMargin = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get horizontalMargin() { return this._horizontalMargin; }\n    set horizontalMargin(value) {\n        this._horizontalMargin = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get bgBrush() {\n        if (this._bgBrush == null)\n            this._bgBrush = new YSolidBrush(this._bgColor);\n        return this._bgBrush;\n    }\n    get pen() {\n        if (this._pen == null) {\n            this._pen = new YPen(this._borderColor, this._borderthickness, true);\n        }\n        return this._pen;\n    }\n    get font() { return this._font; }\n}\n(function (GenericPanel) {\n    class HorizontalAlignPosEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, HorizontalAlignPos);\n        }\n    }\n    GenericPanel.HorizontalAlignPosEnumItem = HorizontalAlignPosEnumItem;\n    class HorizontalAlignPos extends YEnum {\n    }\n    HorizontalAlignPos.LEFT = new HorizontalAlignPosEnumItem(\"LEFT\", \"Left\");\n    HorizontalAlignPos.CENTER = new HorizontalAlignPosEnumItem(\"CENTER\", \"Center\");\n    HorizontalAlignPos.RIGHT = new HorizontalAlignPosEnumItem(\"RIGHT\", \"Right\");\n    GenericPanel.HorizontalAlignPos = HorizontalAlignPos;\n    class VerticalAlignPosEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, VerticalAlignPos);\n        }\n    }\n    GenericPanel.VerticalAlignPosEnumItem = VerticalAlignPosEnumItem;\n    class VerticalAlignPos extends YEnum {\n    }\n    VerticalAlignPos.TOP = new VerticalAlignPosEnumItem(\"TOP\", \"Top\");\n    VerticalAlignPos.CENTER = new VerticalAlignPosEnumItem(\"CENTER\", \"Center\");\n    VerticalAlignPos.BOTTOM = new VerticalAlignPosEnumItem(\"BOTTOM\", \"Bottom\");\n    GenericPanel.VerticalAlignPos = VerticalAlignPos;\n    class TextAlignEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, TextAlign);\n        }\n    }\n    GenericPanel.TextAlignEnumItem = TextAlignEnumItem;\n    class TextAlign extends YEnum {\n    }\n    TextAlign.LEFT = new TextAlignEnumItem(\"LEFT\", \"Left\");\n    TextAlign.CENTER = new TextAlignEnumItem(\"CENTER\", \"Center\");\n    TextAlign.RIGHT = new TextAlignEnumItem(\"RIGHT\", \"Right\");\n    GenericPanel.TextAlign = TextAlign;\n})(GenericPanel || (GenericPanel = {}));\nexport class MessagePanel extends GenericPanel {\n    constructor(parent, directParent) {\n        super(parent, directParent);\n        this._panelHrzAlign = GenericPanel.HorizontalAlignPos.CENTER;\n        this._panelVrtAlign = GenericPanel.VerticalAlignPos.CENTER;\n    }\n    get panelHrzAlign() { return this._panelHrzAlign; }\n    set panelHrzAlign(value) {\n        this._panelHrzAlign = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get panelVrtAlign() { return this._panelVrtAlign; }\n    set panelVrtAlign(value) {\n        this._panelVrtAlign = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n}\nexport class AnnotationPanel extends GenericPanel {\n    constructor(parent, directParent) {\n        super(parent, directParent);\n        this._overlap = false;\n        this._positionOffsetX = 50;\n        this._positionOffsetY = 50;\n        this._panelHrzAlign = GenericPanel.HorizontalAlignPos.CENTER;\n        this._panelVrtAlign = GenericPanel.VerticalAlignPos.TOP;\n    }\n    get overlap() { return this._overlap; }\n    set overlap(value) {\n        if ((!value) && (this._panelHrzAlign == GenericPanel.HorizontalAlignPos.CENTER) && (this._panelVrtAlign == GenericPanel.VerticalAlignPos.CENTER)) {\n            this._panelVrtAlign = GenericPanel.VerticalAlignPos.TOP;\n        }\n        this._overlap = value;\n        this._parentRenderer.clearCachedObjects();\n        this._parentRenderer.redraw();\n    }\n    get positionOffsetX() { return this._positionOffsetX; }\n    set positionOffsetX(value) {\n        this._positionOffsetX = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get positionOffsetY() { return this._positionOffsetY; }\n    set positionOffsetY(value) {\n        this._positionOffsetY = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get panelHrzAlign() { return this._panelHrzAlign; }\n    set panelHrzAlign(value) {\n        if ((!this._overlap) && (value == GenericPanel.HorizontalAlignPos.CENTER) && (this._panelVrtAlign == GenericPanel.VerticalAlignPos.CENTER)) {\n            this._panelVrtAlign = GenericPanel.VerticalAlignPos.TOP;\n        }\n        this._panelHrzAlign = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get panelVrtAlign() { return this._panelVrtAlign; }\n    set panelVrtAlign(value) {\n        if ((!this._overlap) && (value == GenericPanel.VerticalAlignPos.CENTER) && (this._panelHrzAlign == GenericPanel.HorizontalAlignPos.CENTER)) {\n            this._panelHrzAlign = GenericPanel.HorizontalAlignPos.RIGHT;\n        }\n        this._panelVrtAlign = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n}\nexport class Zone {\n    get directParent() { return this._directParent; }\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    resetCache() { }\n    constructor(parentRenderer, directParent) {\n        this._userData = null;\n        this._zoneBrush = null;\n        this._color = YColor.Red;\n        this._visible = false;\n        this._min = 0;\n        this._max = 100;\n        this._directParent = directParent;\n        this._parentRenderer = parentRenderer;\n    }\n    get zoneBrush() {\n        if (this._zoneBrush == null)\n            this._zoneBrush = new YSolidBrush(this._color);\n        return this._zoneBrush;\n    }\n    get color() { return this._color; }\n    set color(value) {\n        this._color = value;\n        this._zoneBrush = null;\n        if (this.visible)\n            this._parentRenderer.redraw();\n    }\n    get visible() { return this._visible; }\n    set visible(value) {\n        this._visible = value;\n        this._parentRenderer.redraw();\n    }\n    set_minMax(min, max) {\n        if (min > max)\n            throw new RangeError(\"Min cannot be greater than max \");\n        this._min = min;\n        this._max = max;\n        this.resetCache();\n        if (this.visible)\n            this._parentRenderer.redraw();\n    }\n    get min() { return this._min; }\n    set min(value) {\n        if ((value >= this._max) && !YDataRenderer.minMaxCheckDisabled) {\n            throw new RangeError(\"Min cannot be greater than max (\" + this._max.toString() + \")\");\n        }\n        this._min = value;\n        this.resetCache();\n        if (this.visible)\n            this._parentRenderer.redraw();\n    }\n    get max() { return this._max; }\n    set max(value) {\n        if ((value <= this._min) && !YDataRenderer.minMaxCheckDisabled) {\n            throw new RangeError(\"Max cannot be greater than min (\" + this._min.toString() + \")\");\n        }\n        this._max = value;\n        this.resetCache();\n        if (this.visible)\n            this._parentRenderer.redraw();\n    }\n}\nexport class Proportional {\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    get directParent() { return this._directParent; }\n    get value() { return this._value; }\n    set value(v) {\n        this._value = v;\n        this.set_refPoint();\n        if (this._reset != null)\n            this._reset(this);\n    }\n    get resizeRule() { return this._resizeRule; }\n    set resizeRule(value) {\n        this.set_refPoint();\n        this._resizeRule = value;\n    }\n    set_refPoint() {\n        this._refWidth = Math.max(1, this._parentRenderer.usableUiWidth());\n        this._refHeight = Math.max(1, this._parentRenderer.usableUiHeight());\n        this._refValue = this._value;\n    }\n    constructor(value, resizeRule, parentRenderer, directParent, resetCallBack) {\n        this._reset = null;\n        this._refWidth = 1;\n        this._refHeight = 1;\n        this._refValue = 1;\n        this.valueStack = [];\n        this._resizeRule = Proportional.ResizeRule.FIXED;\n        this._userData = null;\n        this._reset = resetCallBack;\n        this._parentRenderer = parentRenderer;\n        this._value = value;\n        this._resizeRule = resizeRule;\n        this._directParent = directParent;\n        this.set_refPoint();\n        this._parentRenderer.AddNewProportionalToSizeValue(this);\n    }\n    containerResizedPushNewCoef(coef) {\n        this.valueStack.push(this._value);\n        this._value = Math.round(100 * this._refValue * coef) / 100;\n        if (this._reset != null)\n            this._reset(this);\n    }\n    containerResizedPop() {\n        if (this.valueStack.length <= 0)\n            throw new RangeError(\"Can't pop, empty stack.\");\n        this._value = this.valueStack.pop();\n        if (this._reset != null)\n            this._reset(this);\n    }\n    static resizeCoef(rule, refWidth, refHeight, newWidth, newHeight) {\n        switch (rule) {\n            case Proportional.ResizeRule.RELATIVETOWIDTH:\n                return newWidth / refWidth;\n            case Proportional.ResizeRule.RELATIVETOHEIGHT:\n                return newHeight / refHeight;\n            case Proportional.ResizeRule.RELATIVETOBOTH:\n                return Math.min(newHeight / refHeight, newWidth / refWidth); // original\n        }\n        return 1.0;\n    }\n    containerResized(newWidth, newHeight) {\n        this._value = Math.round(100 * this._refValue * Proportional.resizeCoef(this._resizeRule, this._refWidth, this._refHeight, newWidth, newHeight)) / 100;\n        if (this._reset != null)\n            this._reset(this);\n    }\n    forceChangeCallback() {\n        if (this._reset != null)\n            this._reset(this);\n    }\n}\n(function (Proportional) {\n    class ResizeRuleEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, ResizeRule);\n        }\n    }\n    Proportional.ResizeRuleEnumItem = ResizeRuleEnumItem;\n    class ResizeRule extends YEnum {\n    }\n    ResizeRule.FIXED = new ResizeRuleEnumItem(\"FIXED\", \"Fixed\");\n    ResizeRule.RELATIVETOWIDTH = new ResizeRuleEnumItem(\"RELATIVETOWIDTH\", \"Relative to Width\");\n    ResizeRule.RELATIVETOHEIGHT = new ResizeRuleEnumItem(\"RELATIVETOHEIGHT\", \"Relative to height\");\n    ResizeRule.RELATIVETOBOTH = new ResizeRuleEnumItem(\"RELATIVETOBOTH\", \"Relative to Width and Height\");\n    Proportional.ResizeRule = ResizeRule;\n})(Proportional || (Proportional = {}));\nexport class YDataRenderer {\n    get annotationPanels() { return this._annotationPanels; }\n    get userData() { return this._userData; }\n    static get minMaxCheckDisabled() { return YDataRenderer._disableMinMaxCheck; }\n    static set minMaxCheckDisabled(value) { YDataRenderer._disableMinMaxCheck = value; }\n    resetlegendPens() { }\n    get getCaptureParameters() { return this._getCaptureParameters; }\n    set getCaptureParameters(value) { this._getCaptureParameters = value; }\n    get messagePanels() { return this._messagePanels; }\n    static globalMouseMove(e) {\n        YDataRenderer.globalMouseX = e.pageX;\n        YDataRenderer.globalMouseY = e.pageY;\n    }\n    clearTransformationMatrix() {\n        this._Scr2ElmMatrix = null;\n        this._Elm2ScrMatrix = null;\n    }\n    // This is the one of the \"magic\" parts, instead on relying\n    // on each HTML element offsetLeft and offsetTop coordinates,we\n    // compute the whole transformation matrix for the canvas Element,\n    // this way, CSS transformations, including scale and rotation are\n    // handled property.  This is important since Yocto-Visualization\n    // allows in to inject a widget inside an arbitrary DIV. This\n    // also importnat to be able to make these convertion from\n    // any position on the whole page because of drag operations\n    findElementAbsolutePosition(el) {\n        let staticFound = false;\n        let relativeFound = false;\n        let dx = 0;\n        let dy = 0;\n        while (el != null) {\n            let style = window.getComputedStyle(el);\n            if ((!relativeFound) && (style.position == \"static\") && (!staticFound)) {\n                dx = el.offsetLeft + parseFloat(style.borderLeftWidth);\n                dy = el.offsetTop + parseFloat(style.borderTopWidth);\n                staticFound = true;\n            }\n            if ((style.position == \"relative\") || (style.position == \"absolute\")) {\n                dx += el.offsetLeft + parseFloat(style.borderLeftWidth);\n                dy += el.offsetTop + parseFloat(style.borderTopWidth);\n                relativeFound = true;\n            }\n            el = el.parentElement;\n        }\n        return new PointF(dx, dy);\n    }\n    get Elm2ScrMatrix() {\n        if (this._Elm2ScrMatrix == null) {\n            let el = this.UIContainer;\n            // compute el and its parents absolute absolution relative to page origin\n            // turns out it is a bit tricky when nested div have diffrent style.position\n            // values static/relative/absolute\n            let AsolutePositionsStack = [];\n            while (el != null) {\n                AsolutePositionsStack.push(this.findElementAbsolutePosition(el));\n                el = el.parentElement;\n            }\n            el = this.UIContainer;\n            let MatrixStack = [];\n            let staticFound = false;\n            let relativeFound = false;\n            let index = 0;\n            while (el != null) { //console.log(\"UP \"+el.id);\n                let parent = el.parentElement;\n                let style = window.getComputedStyle(el);\n                //console.log(el.id+\": position=\"+style.position+\" offset= (\"+el.offsetLeft.toString(2).padStart(16)+\",\"+el.offsetTop.toString(2).padStart(16)+\") (\"+el.offsetLeft+\",\"+el.offsetTop+\")  border= (\"+parseFloat(style.borderLeftWidth)+\",\"+parseFloat(style.borderTopWidth)+\") computed pos=(\"+AsolutePositionsStack[index].X+\",\"+AsolutePositionsStack[index].Y+\")\" );\n                let dx = AsolutePositionsStack[index].X;\n                let dy = AsolutePositionsStack[index].Y;\n                if (index < AsolutePositionsStack.length - 1) {\n                    dx -= AsolutePositionsStack[index + 1].X;\n                    dy -= AsolutePositionsStack[index + 1].Y;\n                }\n                //console.log(\"offset=\"+dx.toString()+\",\"+dy.toString());\n                let matrix = style['transform'];\n                if (matrix != \"none\") { //console.log(\"matrix=\"+matrix)\n                    let matrixStr = matrix.match(/matrix.*\\((.+)\\)/)[1].split(', ');\n                    let matrixValues = [];\n                    for (let i = 0; i < 6; i++) {\n                        matrixValues.push(parseFloat(matrixStr[i]));\n                    }\n                    let OriginMatrixMatrixBefore = null;\n                    let TransformMatrix = Matrix3x3.newMatrix(matrixValues[0], matrixValues[2], matrixValues[4], matrixValues[1], matrixValues[3], matrixValues[5], 0, 0, 1);\n                    let OriginMatrixMatrixAfter = null;\n                    if (style.transformOrigin) { //console.log(\"transformOrigin=\"+style.transformOrigin)\n                        let parts = style.transformOrigin.split(\" \");\n                        let Ox = Number.parseFloat(parts[0]);\n                        let Oy = Number.parseFloat(parts[1]);\n                        OriginMatrixMatrixBefore = Matrix3x3.newTranslateMatrix(-Ox, -Oy);\n                        OriginMatrixMatrixAfter = Matrix3x3.newTranslateMatrix(Ox, Oy);\n                    } //else  console.log(\"No transform\");\n                    if (OriginMatrixMatrixBefore != null)\n                        MatrixStack.push(OriginMatrixMatrixBefore);\n                    if (TransformMatrix != null)\n                        MatrixStack.push(TransformMatrix);\n                    if (OriginMatrixMatrixAfter != null)\n                        MatrixStack.push(OriginMatrixMatrixAfter);\n                } // else  console.log(\"No matrix\");\n                if ((dx != 0) || (dy != 0))\n                    MatrixStack.push(Matrix3x3.newTranslateMatrix(dx, dy));\n                el = parent;\n                index++;\n            }\n            this._Elm2ScrMatrix = Matrix3x3.newIdentityMatrix();\n            for (let i = MatrixStack.length - 1; i >= 0; i--) {\n                this._Elm2ScrMatrix = this._Elm2ScrMatrix.multiplyByM(MatrixStack[i]);\n            }\n        }\n        return this._Elm2ScrMatrix;\n    }\n    get Scr2ElmMatrix() {\n        if (this._Scr2ElmMatrix == null) {\n            this._Scr2ElmMatrix = this.Elm2ScrMatrix.inverse;\n        }\n        return this._Scr2ElmMatrix;\n    }\n    addAnnotationPanel() {\n        let p = new AnnotationPanel(this, this);\n        this._annotationPanels.push(p);\n        this.redraw();\n        return p;\n    }\n    AllowRedraw() {\n        this._redrawAllowed--;\n        if (this._redrawAllowed < 0)\n            throw new RangeError(\"Too many AllowRedraw calls\");\n        if (this._redrawAllowed == 0)\n            this.redraw();\n    }\n    AllowRedrawNoRefresh() {\n        this._redrawAllowed--;\n        if (this._redrawAllowed < 0)\n            throw new RangeError(\"Too many AllowRedraw calls\");\n    }\n    DisableRedraw() {\n        this._redrawAllowed++;\n    }\n    AddNewProportionalToSizeValue(v) {\n        if (this.ProportionalToSizeValues.indexOf(v) < 0)\n            this.ProportionalToSizeValues.push(v);\n    }\n    canRedraw() {\n        return (this._redrawAllowed == 0);\n    }\n    setPatchAnnotationCallback(callback) { this._PatchAnnotationCallback = callback; }\n    patchAnnotation(text) {\n        text = text.replace(\"\\\\n\", \"\\n\");\n        if (text.indexOf('$') < 0)\n            return text;\n        let now = new Date();\n        text = text.replace(\"$DAY$\", now.getDay().toString());\n        text = text.replace(\"$MONTH$\", now.getMonth().toString());\n        text = text.replace(\"$YEAR$\", now.getFullYear().toString());\n        text = text.replace(\"$HOUR$\", now.getHours().toString());\n        text = text.replace(\"$MINUTE$\", now.getMinutes().toString());\n        text = text.replace(\"$SECOND$\", now.getSeconds().toString());\n        if (this._PatchAnnotationCallback != null)\n            text = this._PatchAnnotationCallback(text);\n        return text;\n    }\n    mouseLocalPosition() {\n        let v = Vector3.FromXYCoord(YDataRenderer.globalMouseX, YDataRenderer.globalMouseY);\n        let m = this.Scr2ElmMatrix;\n        //   let canvasRect :  ClientRect = this.UIContainer.getBoundingClientRect();\n        //   if (YDataRenderer.globalMouseX<= canvasRect.left) return null;\n        //   if (YDataRenderer.globalMouseX>= canvasRect.left+canvasRect.width) return null;\n        //   if (YDataRenderer.globalMouseY<= canvasRect.top) return null;\n        //   if (YDataRenderer.globalMouseY>= canvasRect.top+canvasRect.height) return null;\n        let p = m.multiplyByV(v).toPoint();\n        //     console.log(\" Traditional : \"+ (YDataRenderer.globalMouseX- canvasRect.left).toString()+\",\"+(YDataRenderer.globalMouseY- canvasRect.top).toString()\n        //     +\" Matrix : \"+ p.X.toString()+\", \"+ p.Y.toString());\n        if ((p.X < 0) || (p.Y < 0) || (p.X > this.UIContainer.offsetWidth) || (p.Y > this.UIContainer.offsetHeight))\n            return null;\n        return p;\n        //   return new Point( YDataRenderer.globalMouseX- canvasRect.left,\n        //                      YDataRenderer.globalMouseY- canvasRect.top);\n    }\n    set proportionnalValueChangeCallback(value) {\n        this._proportionnalValueChangeCallback = value;\n    }\n    ProportionnalValueChanged(source) {\n        if (this._proportionnalValueChangeCallback != null)\n            this._proportionnalValueChangeCallback(source);\n    }\n    getContainerInnerWidth() {\n        return this.UIContainer.offsetWidth;\n        // let r: DOMRect  = this.UIContainer.getBoundingClientRect();\n        //  return r.width;\n        // return  this.UIContainer.width;\n    }\n    getContainerInnerHeight() {\n        return this.UIContainer.offsetHeight;\n        //let r: DOMRect  = this.UIContainer.getBoundingClientRect();\n        //return r.height;\n        //return  this.UIContainer.height;\n    }\n    Draw(timestamp) {\n        if (!this.canRedraw())\n            return 0;\n        let w = this.getContainerInnerWidth();\n        let h = this.getContainerInnerHeight();\n        if ((w <= 5) || (h <= 5))\n            return 0;\n        this.DisableRedraw();\n        let offscreenCanvas = document.createElement('canvas');\n        offscreenCanvas.width = w;\n        offscreenCanvas.height = h;\n        //let DrawArea : CanvasRenderingContext2D = this.UIContainer.getContext('2d');\n        let g = new YGraphics(offscreenCanvas, w, h, 90);\n        let start = performance.now();\n        try {\n            this.Render(g, w, h);\n            /*\n          let p: Point | null = this.mouseLocalPosition();\n          if (p!=null)\n          {\n            let ctx: CanvasRenderingContext2D = <CanvasRenderingContext2D>offscreenCanvas.getContext(\"2d\");\n            ctx.fillStyle = \"red\";\n            ctx.font = \" 24px Arial\";\n            ctx.fillText(p.X.toString()+\",\"+p.Y.toString(), 1, 1);\n          }*/\n        }\n        catch (e) {\n            debugger;\n            this.log(\"Rendering error: \" + e.message);\n        }\n        let elapsed = performance.now() - start;\n        let drawArea = this.UIContainer.getContext('2d');\n        drawArea.clearRect(0, 0, w, h);\n        drawArea.drawImage(offscreenCanvas, 0, 0);\n        this.rendererTimingTotal += elapsed;\n        this.rendererTimingCount++;\n        let avg = this.rendererTimingTotal / this.rendererTimingCount;\n        g.Dispose();\n        this.AllowRedrawNoRefresh();\n        this.renderingPostProcessing();\n        return 0;\n    }\n    renderingPostProcessing() { }\n    get resizeRule() { return this._resizeRule; }\n    set resizeRule(value) {\n        if (value != this._resizeRule) {\n            this.DisableRedraw();\n            this._resizeRule = value;\n            for (let i = 0; i < this.ProportionalToSizeValues.length; i++) {\n                this.ProportionalToSizeValues[i].resizeRule = this._resizeRule;\n            }\n            this.AllowRedraw();\n            this.redraw();\n        }\n    }\n    redraw() {\n        if (!(document.visibilityState === 'visible'))\n            return;\n        if (this._redrawAllowed > 0)\n            return;\n        if (this.getContainerInnerWidth() < 2)\n            return;\n        if (this.getContainerInnerHeight() < 2)\n            return;\n        if (this.requestAnimationFrameID != null) {\n            window.cancelAnimationFrame(this.requestAnimationFrameID);\n            //#ifdef PROFILING\n            //            console.log(\"canceled cancelAnimationFrame \");\n            //            //#endif\n        }\n        this.requestAnimationFrameID = window.requestAnimationFrame((timestamp) => {\n            try {\n                this.Draw(timestamp);\n            }\n            catch (e) {\n                console.log('caught');\n                this.requestAnimationFrameID = null;\n                throw (e);\n            }\n            this.requestAnimationFrameID = null;\n        });\n    }\n    usableUiWidth() { return this.getContainerInnerWidth(); }\n    usableUiHeight() { return this.getContainerInnerHeight(); }\n    resetProportionalSizeObjectsCachePush(newcoef) {\n        this.clearCachedObjects();\n        if (this._resizeRule != Proportional.ResizeRule.FIXED) {\n            for (let i = 0; i < this.ProportionalToSizeValues.length; i++) {\n                this.ProportionalToSizeValues[i].containerResizedPushNewCoef(newcoef);\n            }\n        }\n    }\n    resetProportionalSizeObjectsCachePop() {\n        this.clearCachedObjects();\n        if (this._resizeRule != Proportional.ResizeRule.FIXED) {\n            for (let i = 0; i < this.ProportionalToSizeValues.length; i++) {\n                this.ProportionalToSizeValues[i].containerResizedPop();\n            }\n        }\n    }\n    resetProportionalSizeObjectsCache(w, h) {\n        this.clearCachedObjects();\n        if (this._resizeRule != Proportional.ResizeRule.FIXED) {\n            for (let i = 0; i < this.ProportionalToSizeValues.length; i++) {\n                this.ProportionalToSizeValues[i].containerResized(w, h);\n            }\n        }\n    }\n    containerResized() {\n        this.containerResize(null, null);\n    }\n    containerResize(sender, e) {\n        //if (((Form)sender).WindowState == FormWindowState.Minimized) return;\n        this.clearTransformationMatrix();\n        this.DisableRedraw();\n        //let r: DOMRect  = this.UIContainer.getBoundingClientRect();\n        this.UIContainer.width = this.UIContainer.offsetWidth;\n        this.UIContainer.height = this.UIContainer.offsetHeight;\n        // console.log(\"resize \" + this.usableUiWidth().toString() + \"/\" + this.usableUiHeight().toString());\n        this.resetProportionalSizeObjectsCache(this.usableUiWidth(), this.usableUiHeight());\n        this.AllowRedraw();\n        this.redraw();\n    }\n    proportionnalsizeReset() {\n        this.resetProportionalSizeObjectsCache(this.usableUiWidth(), this.usableUiHeight());\n    }\n    captureAndDownloadImage(captureType, defaultFilename, // or null\n    captureWidth, // or null\n    captureHeight, // or null\n    captureDPI) {\n        let error = \"\";\n        let w;\n        let h;\n        let ratio = this.getContainerInnerWidth() / this.getContainerInnerHeight();\n        if (captureDPI == null)\n            captureDPI = 90;\n        if ((defaultFilename == null) || (typeof defaultFilename == \"undefined\")) {\n            defaultFilename = \"capture.\";\n            if (captureType == YDataRenderer.CaptureType.PNG) {\n                defaultFilename = defaultFilename + \"png\";\n            }\n            if (captureType == YDataRenderer.CaptureType.SVG) {\n                defaultFilename = defaultFilename + \"svg\";\n            }\n        }\n        if ((captureWidth == null) || (typeof (captureWidth) == \"undefined\")) {\n            w = this.getContainerInnerWidth();\n            if ((captureHeight == null) || (typeof (captureHeight) == \"undefined\")) {\n                h = this.getContainerInnerHeight();\n            }\n            else {\n                h = captureHeight >> 0;\n                w = (h * ratio) >> 0;\n            }\n        }\n        else {\n            w = captureWidth >> 0;\n            if ((captureHeight == null) || (typeof (captureHeight) == \"undefined\")) {\n                h = (w * ratio) >> 0;\n            }\n            else {\n                h = captureHeight >> 0;\n            }\n        }\n        if ((w <= 5) || (h <= 5))\n            return;\n        this.DisableRedraw();\n        let DrawArea = document.createElement('canvas');\n        DrawArea.width = w;\n        DrawArea.height = h;\n        let g;\n        switch (captureType) {\n            case YDataRenderer.CaptureType.PNG:\n                g = new YGraphics(DrawArea, w, h, captureDPI);\n                break;\n            case YDataRenderer.CaptureType.SVG:\n                g = new YGraphicsSVG(DrawArea, w, h, captureDPI);\n                break;\n            default:\n                throw new RangeError(\"capture :unknown type\");\n        }\n        let newCoef = Proportional.resizeCoef(Proportional.ResizeRule.RELATIVETOBOTH, this.refWidth, this.refHeight, w, h);\n        this.log(\"start capture\");\n        this.resetProportionalSizeObjectsCachePush(newCoef); // reset all size related cached objects\n        let renderok = false;\n        this._snapshotPanel.enabled = false;\n        try {\n            let t = this.Render(g, w, h);\n            renderok = true;\n        }\n        catch (e) {\n            error = e.message;\n            this.log(\"Render error: \" + error);\n        }\n        this.log(\"capture completed\");\n        this.resetProportionalSizeObjectsCachePop(); // reset all size related cached objects, again\n        if (renderok) {\n            let element = document.createElement('a');\n            let data = g.get_downloadableData();\n            element.setAttribute('href', data);\n            element.setAttribute('download', defaultFilename);\n            element.style.display = 'none';\n            document.body.appendChild(element);\n            element.click();\n            document.body.removeChild(element);\n        }\n        g.Dispose();\n        this.AllowRedraw();\n    }\n    getFocus(sender, e) {\n        this.log(\"got focus\");\n    }\n    gainFocus() {\n        //if (parentForm.Focused) return;\n        //this.parentForm.Focus();\n    }\n    lostFocus(sender, e) {\n        //if (_AllowPrintScreenCapture) _RegisKey.StopHotKey();\n    }\n    get AllowPrintScreenCapture() { return this._AllowPrintScreenCapture; }\n    set AllowPrintScreenCapture(value) { this._AllowPrintScreenCapture = value; }\n    constructor(UIContainer, logFunction) {\n        this._redrawAllowed = 1;\n        this._refWidth = 1;\n        this._refHeight = 1;\n        this.rendererTimingTotal = 0;\n        this.rendererTimingCount = 0;\n        this._PatchAnnotationCallback = null;\n        this._logFunction = null;\n        this._annotationPanels = [];\n        this._userData = null;\n        this.documentVisibiltyChangeFct = null;\n        this.containerResizedFct = null;\n        this._getCaptureParameters = null;\n        this.OnDblClick = null;\n        this.OnRightClick = null;\n        this._messagePanels = [];\n        this._Scr2ElmMatrix = null;\n        this._Elm2ScrMatrix = null;\n        this.ProportionalToSizeValues = [];\n        this._proportionnalValueChangeCallback = null;\n        this._resizeRule = Proportional.ResizeRule.FIXED;\n        this.requestAnimationFrameID = null;\n        this._snapshotPanel = null;\n        this._snapshotTimer = null;\n        this._AllowPrintScreenCapture = false;\n        if (!YDataRenderer.globalMouseMoveSet) {\n            document.addEventListener(\"mousemove\", e => { YDataRenderer.globalMouseMove(e); });\n            YDataRenderer.globalMouseMoveSet = true;\n        }\n        this.UIContainer = UIContainer;\n        this.UIContainer.width = this.getContainerInnerWidth();\n        this.UIContainer.height = this.getContainerInnerHeight();\n        //this.UIContainer.SizeMode = PictureBoxSizeMode.Normal;\n        this._logFunction = logFunction;\n        this.parentForm = UIContainer.ownerDocument;\n        this._annotationPanels = [];\n        this._messagePanels = [];\n        this.DisableRedraw();\n        this._snapshotPanel = this.addMessagePanel();\n        this._snapshotPanel.panelTextAlign = MessagePanel.TextAlign.CENTER;\n        this._snapshotPanel.text = \"Captured to clipboard\";\n        this._snapshotPanel.panelHrzAlign = MessagePanel.HorizontalAlignPos.CENTER;\n        this._snapshotPanel.panelVrtAlign = MessagePanel.VerticalAlignPos.CENTER;\n        this._snapshotPanel.bgColor = new YColor(false, 200, 0xcc, 0xf7, 0xa1);\n        this._snapshotPanel.font.size = 16;\n        this.AllowRedrawNoRefresh();\n        this.containerResizedFct = () => { this.containerResize(null, null); };\n        document.addEventListener('resize', this.containerResizedFct);\n        this.resetRefrenceSize();\n        this.documentVisibiltyChangeFct = () => {\n            if (document.visibilityState === 'visible') {\n                this.redraw();\n            }\n        };\n        document.addEventListener('visibilitychange', this.documentVisibiltyChangeFct);\n    }\n    destroy() {\n        document.removeEventListener('visibilitychange', this.documentVisibiltyChangeFct);\n        document.removeEventListener('resize', this.containerResized);\n        this.UIContainer.parentNode.removeChild(this.UIContainer);\n        this.UIContainer = null;\n        this.parentForm = null;\n        this._annotationPanels = null;\n        this._messagePanels = null;\n        this._Scr2ElmMatrix = null;\n        this._Elm2ScrMatrix = null;\n    }\n    resetRefrenceSize() {\n        this._refWidth = this.getContainerInnerWidth();\n        this._refHeight = this.getContainerInnerHeight();\n    }\n    get refWidth() { return this._refWidth; }\n    get refHeight() { return this._refHeight; }\n    RendererCanvas_Click(sender, e) {\n    }\n    RendererCanvas_DoubleClick(sender, e) {\n        // MouseEventArgs m = (MouseEventArgs)e;\n        // if (OnDblClick != null) OnDblClick(this, m);\n    }\n    addMessagePanel() {\n        let p = new MessagePanel(this, this);\n        this._messagePanels.push(p);\n        return p;\n    }\n    DrawMessagePanels(g, viewPortWidth, viewPortHeight) {\n        //g.SetClip(new YRectangle(0, 0, viewPortWidth, viewPortHeight));\n        for (let i = 0; i < this._messagePanels.length; i++) {\n            if (this._messagePanels[i].enabled) {\n                let p = this._messagePanels[i];\n                let AvailableWidth = viewPortWidth - 2 * p.padding - p.borderthickness;\n                if (AvailableWidth < 100)\n                    AvailableWidth = 100;\n                let ssize = null;\n                let sizeok = false;\n                // if panel ends up larger than avaliable space, lets reduce font size.\n                while (!sizeok) {\n                    ssize = g.MeasureString(p.text, p.font, AvailableWidth);\n                    if (((ssize.width >= this.UIContainer.width) ||\n                        (ssize.height >= this.UIContainer.height))\n                        && (p.font.size > 5)) {\n                        p.font.size = Math.round(p.font.size * 9) / 10;\n                    }\n                    else\n                        sizeok = true;\n                }\n                if (ssize == null)\n                    return; // not supposed to happen\n                let panelWidth = ssize.width + 2 * p.padding + p.borderthickness;\n                let panelHeight = ssize.height + 2 * p.padding + p.borderthickness;\n                let x = 0;\n                switch (p.panelHrzAlign) {\n                    case MessagePanel.HorizontalAlignPos.LEFT:\n                        x = p.horizontalMargin;\n                        break;\n                    case MessagePanel.HorizontalAlignPos.RIGHT:\n                        x = viewPortWidth - panelWidth - p.horizontalMargin;\n                        break;\n                    default:\n                        x = (viewPortWidth - panelWidth) / 2;\n                        break;\n                }\n                let y = 0;\n                switch (p.panelVrtAlign) {\n                    case MessagePanel.VerticalAlignPos.TOP:\n                        y = p.verticalMargin;\n                        break;\n                    case MessagePanel.VerticalAlignPos.BOTTOM:\n                        y = viewPortHeight - panelHeight - p.verticalMargin;\n                        break;\n                    default:\n                        y = (viewPortHeight - panelHeight) / 2;\n                        break;\n                }\n                g.FillRectangleXYHW(p.bgBrush, x, y, panelWidth, panelHeight);\n                if (p.borderthickness > 0)\n                    g.DrawRectangleXYHW(p.pen, x, y, panelWidth, panelHeight);\n                let sf = new YStringFormat(16384 /* YStringFormat.StringFormatFlags.NoClip */);\n                switch (p.panelTextAlign) {\n                    case MessagePanel.TextAlign.LEFT:\n                        sf.LineAlignment = 0 /* YStringFormat.StringAlignment.Near */;\n                        sf.Alignment = 0 /* YStringFormat.StringAlignment.Near */;\n                        break;\n                    case MessagePanel.TextAlign.RIGHT:\n                        sf.LineAlignment = 2 /* YStringFormat.StringAlignment.Far */;\n                        sf.Alignment = 2 /* YStringFormat.StringAlignment.Far */;\n                        break;\n                    default:\n                        sf.LineAlignment = 1 /* YStringFormat.StringAlignment.Center */;\n                        sf.Alignment = 1 /* YStringFormat.StringAlignment.Center */;\n                        break;\n                }\n                let r = new YRectangle(((x + p.padding + p.borderthickness / 2) >> 0), ((y + p.padding + p.borderthickness / 2) >> 0), ssize.width + 1, ssize.height + 1);\n                g.DrawStringRect(p.text, p.font, p.font.brush, r, sf);\n            }\n        }\n    }\n    drawAnnotationPanels(g, annotationPanels, viewPortWidth, viewPortHeight, overlap, mainViewPort) {\n        //g.TextRenderingHint = YGraphics.TextRenderingHint.SingleBitPerPixelGridFit;\n        let active = false;\n        for (let i = 0; i < this.annotationPanels.length; i++) {\n            if (this.annotationPanels[i].enabled)\n                active = true;\n        }\n        if (!active)\n            return;\n        //g.SetClip(new YRectangle(0, 0, viewPortWidth, viewPortHeight));\n        for (let i = 0; i < this.annotationPanels.length; i++) {\n            if ((annotationPanels[i].enabled) && (annotationPanels[i].overlap == overlap)) {\n                let p = annotationPanels[i];\n                let AvailableWidth = viewPortWidth - 2 * p.padding - p.borderthickness;\n                if (AvailableWidth < 100)\n                    AvailableWidth = 100;\n                let textToDisplay = p.text.replace(\"\\\\n\", \"\\n\");\n                if (textToDisplay.indexOf('$') >= 0) {\n                    textToDisplay = textToDisplay.replace(\"\\\\n\", \"\\n\");\n                    textToDisplay = this.patchAnnotation(textToDisplay);\n                }\n                let ssize = g.MeasureString(textToDisplay, p.font, AvailableWidth);\n                let panelWidth = ssize.width + 2 * p.padding + p.borderthickness;\n                let panelHeight = ssize.height + 2 * p.padding + p.borderthickness;\n                let x = 0;\n                switch (p.panelHrzAlign) {\n                    case MessagePanel.HorizontalAlignPos.LEFT:\n                        x = p.horizontalMargin;\n                        if (!annotationPanels[i].overlap && (mainViewPort.Lmargin < panelWidth + 10)) {\n                            mainViewPort.Lmargin = panelWidth + 10;\n                        }\n                        break;\n                    case MessagePanel.HorizontalAlignPos.RIGHT:\n                        x = viewPortWidth - panelWidth - p.horizontalMargin;\n                        if (!annotationPanels[i].overlap && (mainViewPort.Rmargin < panelWidth + 20)) {\n                            mainViewPort.Rmargin = panelWidth + 20;\n                        }\n                        break;\n                    default:\n                        x = (viewPortWidth - panelWidth) / 2;\n                        break;\n                }\n                let y = 0;\n                switch (p.panelVrtAlign) {\n                    case MessagePanel.VerticalAlignPos.TOP:\n                        y = p.verticalMargin;\n                        if (!annotationPanels[i].overlap && (mainViewPort.Tmargin < panelHeight + 20)) {\n                            mainViewPort.Tmargin = panelHeight + 20;\n                        }\n                        break;\n                    case MessagePanel.VerticalAlignPos.BOTTOM:\n                        y = viewPortHeight - panelHeight - p.verticalMargin;\n                        if (!annotationPanels[i].overlap && (mainViewPort.Bmargin < panelHeight + 20)) {\n                            mainViewPort.Bmargin = panelHeight + 20;\n                        }\n                        break;\n                    default:\n                        y = (viewPortHeight - panelHeight) / 2;\n                        break;\n                }\n                if (annotationPanels[i].overlap) {\n                    x += (annotationPanels[i].positionOffsetX / 100) * (viewPortWidth - panelWidth);\n                    y += (annotationPanels[i].positionOffsetY / 100) * (viewPortHeight - panelHeight);\n                    if (x < 0)\n                        x = 0;\n                    if (y < 0)\n                        y = 0;\n                    if (x > viewPortWidth - panelWidth)\n                        x = viewPortWidth - panelWidth;\n                    if (y > viewPortHeight - panelHeight)\n                        y = viewPortHeight - panelHeight;\n                }\n                g.FillRectangleXYHW(p.bgBrush, x, y, panelWidth, panelHeight);\n                if (p.borderthickness > 0)\n                    g.DrawRectangleXYHW(p.pen, x, y, panelWidth, panelHeight);\n                //g.TextRenderingHint = YGraphics.TextRenderingHint.AntiAlias;\n                let sf = new YStringFormat(16384 /* YStringFormat.StringFormatFlags.NoClip */);\n                switch (p.panelTextAlign) {\n                    case MessagePanel.TextAlign.LEFT:\n                        sf.LineAlignment = 0 /* YStringFormat.StringAlignment.Near */;\n                        sf.Alignment = 0 /* YStringFormat.StringAlignment.Near */;\n                        break;\n                    case MessagePanel.TextAlign.RIGHT:\n                        sf.LineAlignment = 2 /* YStringFormat.StringAlignment.Far */;\n                        sf.Alignment = 2 /* YStringFormat.StringAlignment.Far */;\n                        break;\n                    default:\n                        sf.LineAlignment = 1 /* YStringFormat.StringAlignment.Center */;\n                        sf.Alignment = 1 /* YStringFormat.StringAlignment.Center */;\n                        break;\n                }\n                let r = new YRectangle((x + p.padding + p.borderthickness / 2), (y + p.padding + p.borderthickness / 2), ssize.width + 1, ssize.height + 1);\n                g.DrawStringRect(textToDisplay, p.font, p.font.brush, r, sf);\n            }\n        }\n    }\n    log(s) {\n        if (this._logFunction == null)\n            return;\n        this._logFunction(s);\n    }\n}\nYDataRenderer.RendererDebug = false;\nYDataRenderer.FloatToStrformats = [\"0\", \"0\", \"0\", \"0.0\", \"0.00\", \"0.000\", \"0.0000\"];\nYDataRenderer._disableMinMaxCheck = false;\nYDataRenderer.globalMouseMoveSet = false;\nYDataRenderer.globalMouseX = -1;\nYDataRenderer.globalMouseY = -1;\n(function (YDataRenderer) {\n    class CaptureTypeEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, CaptureType);\n        }\n    }\n    YDataRenderer.CaptureTypeEnumItem = CaptureTypeEnumItem;\n    class CaptureType extends YEnum {\n    }\n    CaptureType.PNG = new CaptureTypeEnumItem(\"PNG\", \"Bitmap (PNG)\");\n    CaptureType.SVG = new CaptureTypeEnumItem(\"SVG\", \"Vector (SVG)\");\n    YDataRenderer.CaptureType = CaptureType;\n    class CaptureTargetEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, CaptureTarget);\n        }\n    }\n    YDataRenderer.CaptureTargetEnumItem = CaptureTargetEnumItem;\n    class CaptureTarget extends YEnum {\n    }\n    CaptureTarget.ToClipBoard = new CaptureTargetEnumItem(\"ToClipBoard\", \"ClipBoard\");\n    CaptureTarget.ToFile = new CaptureTargetEnumItem(\"ToFile\", \"File\");\n    YDataRenderer.CaptureTarget = CaptureTarget;\n    class CaptureFormatsEnumItem extends YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, CaptureFormats);\n        }\n    }\n    YDataRenderer.CaptureFormatsEnumItem = CaptureFormatsEnumItem;\n    class CaptureFormats extends YEnum {\n    }\n    CaptureFormats.Keep = new CaptureFormatsEnumItem(\"Keep\", \"Keep original size\");\n    CaptureFormats.Fixed = new CaptureFormatsEnumItem(\"Fixed\", \"Fixed size\");\n    CaptureFormats.FixedWidth = new CaptureFormatsEnumItem(\"FixedWidth\", \"Fixed width, keep ration aspect\");\n    CaptureFormats.FixedHeight = new CaptureFormatsEnumItem(\"FixedHeight\", \"Fixed height, keep ration aspect\");\n    YDataRenderer.CaptureFormats = CaptureFormats;\n})(YDataRenderer || (YDataRenderer = {}));\n/*\n    *  abstraction layer allowing to render in both bitmap and Vector(SVG) format\n    *\n    */\nexport class YGraphics {\n    constructor(canvas, width, height, dpi) {\n        this._c = null;\n        this._g = null;\n        this._width = 0;\n        this._height = 0;\n        this._dpi = 0;\n        this._image = null;\n        this._lastPen = null;\n        this._lastBrush = null;\n        this._lastFont = null;\n        this._clipCounter = 0;\n        this._textRenderingHint = null;\n        this._smoothingMode = YSmoothingMode.Default;\n        this._c = canvas;\n        this._g = this._c.getContext(\"2d\");\n        this._g.textBaseline = 'top';\n        this._width = width;\n        this._height = height;\n        this._dpi = dpi;\n    }\n    get_downloadableData() {\n        return this._c.toDataURL('image/png');\n    }\n    get graphics() { return this._g; }\n    setPen(p) {\n        if (p == this._lastPen)\n            return;\n        if (p != null) { //if (YDataRenderer.RendererDebug)  console.log(\"set Pen to \"+p.lineWidth+\"/\"+p.strokeStyle)\n            this._g.lineWidth = p.lineWidth;\n            let st = p.strokeStyle;\n            this._g.strokeStyle = p.strokeStyle;\n        }\n        else {\n            this._g.lineWidth = 0;\n        }\n        this._lastPen = p;\n    }\n    setBrush(b) {\n        if (b == this._lastBrush)\n            return;\n        if (b instanceof YSolidBrush) {\n            this._g.fillStyle = b.color.htmlCode;\n        }\n        else if (b instanceof YLinearGradientBrush) {\n            let lingrad = this._g.createLinearGradient(0, 0, 0, this._height);\n            lingrad.addColorStop(0, b.color1.htmlCode);\n            lingrad.addColorStop(1, b.color2.htmlCode);\n            this._g.fillStyle = lingrad;\n        }\n        else {\n            throw new Error(\"invalid / insupported brush type\");\n        }\n        this._lastBrush = b;\n    }\n    setFont(f) {\n        if ((f == this._lastFont) && !f.hasChanged)\n            return;\n        this._g.font = f.htmlCode;\n        this._lastFont = f;\n    }\n    DrawLineXY(p, x1, y1, x2, y2) {\n        if (p.noAntiAlias) {\n            let offset = (p.lineWidth == p.lineWidth >> 0) && ((p.lineWidth & 1) == 1) ? 0.5 : 0;\n            x1 = Math.round(x1) + offset;\n            y1 = Math.round(y1) + offset;\n            x2 = Math.round(x2) + offset;\n            y2 = Math.round(y2) + offset;\n        }\n        this.setPen(p);\n        this._g.beginPath();\n        this._g.moveTo(x1, y1);\n        this._g.lineTo(x2, y2);\n        this._g.stroke();\n    }\n    DrawLine(p, p1, p2) {\n        this.setPen(p);\n        this._g.beginPath();\n        this._g.moveTo(p1.X, p1.Y);\n        this._g.lineTo(p2.X, p2.Y);\n        this._g.stroke();\n    }\n    SetClip(rect) {\n        this._g.save(); // save the context\n        this._g.beginPath();\n        this._g.rect(rect.x, rect.y, rect.w, rect.h);\n        this._g.clip();\n        this._clipCounter++;\n    }\n    ResetClip() {\n        if (this._clipCounter <= 0)\n            throw new Error(\"clipping stack error\");\n        this._g.restore(); // restore the context including previous clipping\n        this._clipCounter--;\n        //console.log(\"-ResetClip , counter = \"+this._clipCounter);\n    }\n    MeasureString(text, font, width) {\n        this.setFont(font);\n        let res = new YSizeF(font, text);\n        let count = res.linesCount;\n        if (count == 0)\n            return res;\n        res.height = res.firstLineHeight * 1.2 + (count - 1) * res.lineHeight;\n        let max = 0;\n        let dim;\n        for (let i = 0; i < count; i++) {\n            dim = this._g.measureText(res.lines[i]);\n            max = Math.max(max, dim.width);\n        }\n        res.width = max;\n        return res;\n    }\n    MeasureStringSF(text, font, width, stringFormat) {\n        return this.MeasureString(text, font, width);\n    }\n    FillRectangle(brush, rect) {\n        this.setBrush(brush);\n        this._g.beginPath();\n        this._g.fillRect(rect.x, rect.y, rect.w, rect.h);\n        this._g.fill();\n    }\n    FillRectangleXYHW(brush, x, y, width, height) {\n        this.setBrush(brush);\n        this._g.beginPath();\n        this._g.fillRect(x, y, width, height);\n        this._g.fill();\n    }\n    DrawRectangle(p, rect) {\n        this.setPen(p);\n        this._g.beginPath();\n        if (p.noAntiAlias) {\n            let offset = (p.lineWidth == p.lineWidth >> 0) && ((p.lineWidth & 1) == 1) ? 0.5 : 0;\n            this._g.rect(Math.round(rect.x) + offset, Math.round(rect.y) + offset, Math.round(rect.w), Math.round(rect.h));\n        }\n        else {\n            this._g.rect(rect.x, rect.y, rect.w, rect.h);\n        }\n        this._g.stroke();\n    }\n    DrawRectangleXYHW(p, x, y, width, height) {\n        if (p.noAntiAlias) {\n            let offset = (p.lineWidth == p.lineWidth >> 0) && ((p.lineWidth & 1) == 1) ? 0.5 : 0;\n            x = Math.round(x) + offset;\n            y = Math.round(y) + offset;\n            width = Math.round(width);\n            height = Math.round(height);\n        }\n        this.setPen(p);\n        this._g.beginPath();\n        this._g.rect(x, y, width, height);\n        this._g.stroke();\n    }\n    DrawStringXY(s, font, brush, x, y) {\n        this.setPen(null);\n        this.setBrush(brush);\n        this.setFont(font);\n        let totalsz = this.MeasureString(s, font, 0);\n        let dy = totalsz.lineHeight;\n        for (let i = 0; i < totalsz.linesCount; i++) {\n            this._g.fillText(totalsz.lines[i], x, y);\n            y += dy;\n        }\n    }\n    DrawStringXYF(s, font, brush, x, y, format) {\n        if (YGraphics._debugDrawString) {\n            let pen = new YPen(YColor.Red, 1);\n            this.DrawLineXY(pen, x - 5, y, x + 5, y);\n            this.DrawLineXY(pen, x, y - 5, x, y + 5);\n        }\n        let sz = this.MeasureString(s, font, 10000);\n        if (format.Alignment == 1 /* YStringFormat.StringAlignment.Center */) {\n            x -= sz.width >> 1;\n        }\n        else if (format.Alignment == 2 /* YStringFormat.StringAlignment.Far */)\n            x -= sz.width;\n        if (format.LineAlignment == 1 /* YStringFormat.StringAlignment.Center */) {\n            y -= (sz.height / 2) >> 0;\n        }\n        else if (format.LineAlignment == 2 /* YStringFormat.StringAlignment.Far */)\n            y -= sz.height;\n        this.DrawStringXY(s, font, brush, x, y);\n    }\n    DrawStringPF(s, font, brush, p, format) {\n        this.DrawStringXYF(s, font, brush, p.X, p.Y, format);\n    }\n    DrawString(s, font, brush, p) {\n        if (YGraphics._debugDrawString) {\n            let pen = new YPen(YColor.Red, 1);\n            this.DrawLineXY(pen, p.X - 5, p.Y, p.X + 5, p.Y);\n            this.DrawLineXY(pen, p.X, p.Y - 5, p.X, p.Y + 5);\n        }\n        this.setPen(null);\n        this.setBrush(brush);\n        this.setFont(font);\n        this._g.fillText(s, p.X, p.Y);\n    }\n    DrawStringRect(s, font, brush, layoutRectangle, format) {\n        if (YGraphics._debugDrawString) {\n            let pen = new YPen(YColor.Red, 1);\n            this.DrawRectangle(pen, layoutRectangle);\n        }\n        this.setPen(null);\n        this.setBrush(brush);\n        this.setFont(font);\n        let totalsz = this.MeasureString(s, font, 0);\n        let dy = totalsz.lineHeight;\n        let y = layoutRectangle.y;\n        switch (format.LineAlignment) {\n            case 0 /* YStringFormat.StringAlignment.Near */:\n                break;\n            case 1 /* YStringFormat.StringAlignment.Center */:\n                y += (layoutRectangle.h - totalsz.height) / 2;\n                break;\n            case 2 /* YStringFormat.StringAlignment.Far */:\n                y += (layoutRectangle.h - totalsz.height);\n                break;\n        }\n        let xOrigin = layoutRectangle.x;\n        if (format.FormatFlags & 2 /* YStringFormat.StringFormatFlags.DirectionVertical */) {\n            this.Transform(layoutRectangle.x, layoutRectangle.y, Math.PI / 2);\n            y -= (layoutRectangle.y + layoutRectangle.w);\n            xOrigin -= layoutRectangle.x;\n        }\n        for (let i = 0; i < totalsz.linesCount; i++) {\n            let s = totalsz.lines[i];\n            let sz = this.MeasureString(s, font, 0);\n            let x = xOrigin;\n            switch (format.Alignment) {\n                case 0 /* YStringFormat.StringAlignment.Near */:\n                    break;\n                case 1 /* YStringFormat.StringAlignment.Center */:\n                    x += (layoutRectangle.w - sz.width) / 2;\n                    break;\n                case 2 /* YStringFormat.StringAlignment.Far */:\n                    x += (layoutRectangle.w - sz.width);\n                    break;\n            }\n            this._g.fillText(s, x, y);\n            y += dy;\n        }\n        if (format.FormatFlags & 2 /* YStringFormat.StringFormatFlags.DirectionVertical */)\n            this.ResetTransform();\n    }\n    Transform(dx, dy, angle) {\n        let sin = Math.sin(angle);\n        let cos = Math.cos(angle);\n        this._g.save();\n        this._g.transform(cos, sin, -sin, cos, dx, dy);\n    }\n    ResetTransform() {\n        this._g.restore();\n    }\n    FillEllipse(brush, x, y, width, height) {\n        this.setBrush(brush);\n        this._g.beginPath();\n        this._g.ellipse(x + width / 2, y + height / 2, width / 2, height / 2, 0, 0, 2 * Math.PI);\n        this._g.fill();\n    }\n    DrawEllipse(pen, x, y, width, height) {\n        this.setPen(pen);\n        this._g.beginPath();\n        this._g.ellipse(x + width / 2, y + height / 2, width / 2, height / 2, 0, 0, 2 * Math.PI);\n        this._g.stroke();\n    }\n    FillPolygon(brush, points) {\n        this.setBrush(brush);\n        if (points.length <= 2)\n            return;\n        this._g.beginPath();\n        if (brush.noAntiAlias) {\n            this._g.moveTo(Math.round(points[0].X) + 0.5, Math.round(points[0].Y) + 0.5);\n            for (let i = 1; i < points.length; i++) {\n                this._g.lineTo(Math.round(points[i].X) + 0.5, Math.round(points[i].Y) + 0.5);\n            }\n        }\n        else {\n            this._g.moveTo(points[0].X, points[0].Y);\n            for (let i = 1; i < points.length; i++) {\n                this._g.lineTo(points[i].X, points[i].Y);\n            }\n        }\n        this._g.closePath();\n        this._g.fill();\n    }\n    DrawPolygon(pen, points) {\n        this.setPen(pen);\n        if (points.length <= 1)\n            return;\n        this._g.beginPath();\n        if (pen.noAntiAlias) {\n            let offset = (pen.lineWidth == pen.lineWidth >> 0) && ((pen.lineWidth & 1) == 1) ? 0.5 : 0;\n            this._g.moveTo(Math.round(points[0].X) + offset, Math.round(points[0].Y) + offset);\n            for (let i = 1; i < points.length; i++) {\n                this._g.lineTo(Math.round(points[i].X) + offset, Math.round(points[i].Y) + offset);\n            }\n        }\n        else {\n            this._g.moveTo(points[0].X, points[0].Y);\n            for (let i = 1; i < points.length; i++) {\n                this._g.lineTo(points[i].X, points[i].Y);\n            }\n        }\n        this._g.closePath();\n        this._g.stroke();\n    }\n    DrawLines(pen, points) {\n        this.setPen(pen);\n        if (points.length <= 1)\n            return;\n        this._g.beginPath();\n        this._g.lineCap = \"round\";\n        this._g.lineJoin = \"round\";\n        this._g.moveTo(points[0].X, points[0].Y);\n        for (let i = 1; i < points.length; i++) {\n            this._g.lineTo(points[i].X, points[i].Y);\n        }\n        this._g.stroke();\n    }\n    Dispose() {\n        this._c = null;\n        this._g = null;\n        this._width = 0;\n        this._height = 0;\n        this._dpi = 0;\n    }\n    get TextRenderingHint() { return this._textRenderingHint; }\n    set TextRenderingHint(value) { this._textRenderingHint = value; }\n    get SmoothingMode() { return this._smoothingMode; }\n    set SmoothingMode(value) { this._smoothingMode = value; }\n    DrawImage(srcimage, destRect, srcRect, srcUnit) {\n        // implementation is not complete (coordinates and sizes)\n        this._g.drawImage(srcimage, srcRect.x, srcRect.y, srcRect.w, srcRect.h, destRect.x, destRect.y, destRect.w, destRect.h);\n    }\n    comment(s) { }\n}\nYGraphics._debugDrawString = false;\nexport class YGraphicsSVG extends YGraphics {\n    constructor(canvas, width, height, dpi) {\n        super(canvas, width, height, dpi);\n        this._clipcount = 0;\n        this._clipSectionsToClose = 0;\n        this._transformSectionsToClose = 0;\n        this._gradientCount = 0;\n        YGraphicsSVG.SVGID++;\n        this._SVGdefs = new YStringBuilder();\n        this._SVGcontents = new YStringBuilder();\n        this._SVGdefs.AppendLine(\"<clipPath id=\\\"pageClip_\" + YGraphicsSVG.SVGID.toString() + \"\\\"><rect x=\\\"0\\\" y=\\\"0\\\"  width=\\\"\" + width.toString() + \"\\\" height=\\\"\" + height.toString() + \"\\\"/></clipPath>\");\n    }\n    static escapeXml(unsafe) {\n        return unsafe.replace(/[^ !#$%(-;=?-z]/g, (c) => '&#' + c.charCodeAt(0) + ';'); // MV power!  :-)\n    }\n    get_downloadableData() {\n        return \"data:image/svg+xml;base64,\" + btoa(this.get_svgContents());\n    }\n    DrawLineXY(p, x1, y1, x2, y2) {\n        this._SVGcontents.AppendLine(\"<line x1=\\\"\" + x1.toString() + \"\\\" \"\n            + \" y1 =\\\"\" + y1.toString() + \"\\\" \"\n            + \" x2 =\\\"\" + x2.toString() + \"\\\" \"\n            + \" y2 =\\\"\" + y2.toString() + \"\\\" \"\n            + \"style = \\\"stroke:\" + p.color.svgCode + \";stroke-opacity:\" + p.color.alphaCode + \"; stroke-width:\" + p.lineWidth.toString() + \"\\\"/>\");\n    }\n    DrawLine(p, p1, p2) { this.DrawLineXY(p, p1.X, p1.Y, p2.X, p2.Y); }\n    SetClip(rect) {\n        this.ResetClip();\n        this._SVGdefs.AppendLine(\"<clipPath id=\\\"clip_\" + YGraphicsSVG.SVGID.toString() + \"_\" + this._clipcount.toString() + \"\\\"><rect x=\\\"\" + rect.x.toString() + \"\\\" y=\\\"\" + rect.y.toString()\n            + \"\\\"  width=\\\"\" + rect.w.toString() + \"\\\" height=\\\"\" + rect.h.toString() + \"\\\"/></clipPath>\");\n        this._SVGcontents.AppendLine(\"<g clip-path=\\\"url(#clip_\" + YGraphicsSVG.SVGID.toString() + \"_\" + this._clipcount.toString() + \")\\\">\");\n        this._clipcount++;\n        this._clipSectionsToClose++;\n    }\n    ResetClip() {\n        if (this._clipSectionsToClose > 0) {\n            this._SVGcontents.AppendLine(\"</g>\");\n            this._clipSectionsToClose--;\n        }\n    }\n    BrushToSVG(brush, revert) {\n        let fillParam = \"\";\n        if (brush instanceof YSolidBrush) {\n            fillParam = \"fill = \\\"\" + brush.color.svgCode + \"\\\" fill-opacity=\\\"\" + brush.color.alphaCode + \"\\\" \";\n        }\n        else if (brush instanceof YLinearGradientBrush) {\n            this._SVGdefs.AppendLine(\"<linearGradient id=\\\"grad_\" + YGraphicsSVG.SVGID.toString() + \"_\" + this._gradientCount + \"\\\" \"\n                + \"x1=\\\"0%\\\" \" // over-simplified gradient translation as we only use full size vertical gradients.\n                + (revert ? \"y1=\\\"100%\\\" \" : \"y1=\\\"0%\\\" \") // Yes, I know, it's cheap.\n                + \"x2=\\\"0%\\\" \"\n                + (revert ? \"y2=\\\"0%\\\" \" : \"y2=\\\"100%\\\" \") + \">\\r\\n\"\n                + \"<stop offset=\\\"0%\\\" style =\\\"stop-color:\" + brush.color1.svgCode + \";stop-opacity:\" + brush.color1.alphaCode + \"\\\"/>\\r\\n\"\n                + \"<stop offset=\\\"100%\\\" style =\\\"stop-color:\" + brush.color2.svgCode + \";stop-opacity:\" + brush.color2.alphaCode + \"\\\"/>\\r\\n\"\n                + \"</linearGradient>\");\n            fillParam = \"fill=\\\"url(#grad_\" + YGraphicsSVG.SVGID.toString() + \"_\" + this._gradientCount + \")\\\" \";\n            this._gradientCount++;\n        }\n        else {\n            throw new ReferenceError(\"unsupported brush type.\");\n        }\n        return fillParam;\n    }\n    FillRectangle(brush, rect) {\n        this._SVGcontents.AppendLine(\"<rect x=\\\"\" + rect.x.toString() + \"\\\" \"\n            + \" y =\\\"\" + rect.y.toString() + \"\\\" \"\n            + \" width =\\\"\" + rect.w.toString() + \"\\\" \"\n            + \" height =\\\"\" + rect.h.toString() + \"\\\" \"\n            + this.BrushToSVG(brush, true)\n            + \"style=\\\"stroke-width:0\\\"/>\");\n    }\n    FillRectangleXYHW(brush, x, y, width, height) { this.FillRectangle(brush, new YRectangle(x, y, width, height)); }\n    DrawRectangle(p, rect) {\n        this._SVGcontents.AppendLine(\"<rect x=\\\"\" + rect.x.toString() + \"\\\" \"\n            + \" y =\\\"\" + rect.y.toString() + \"\\\" \"\n            + \" width =\\\"\" + rect.w.toString() + \"\\\" \"\n            + \" height =\\\"\" + rect.h.toString() + \"\\\" \"\n            + \" fill=\\\"none\\\" \"\n            + \"style = \\\"stroke:\" + p.color.svgCode + \";stroke-opacity:\" + p.color.alphaCode + \"; stroke-width:\" + p.lineWidth.toString() + \"\\\"/>\");\n    }\n    DrawRectangleXYHW(p, x, y, width, height) { this.DrawRectangle(p, new YRectangle(x, y, width, height)); }\n    DrawEllipse(pen, x, y, width, height) {\n        this._SVGcontents.AppendLine(\"<ellipse  cx=\\\"\" + (x + width / 2.0).toString() + \"\\\" \"\n            + \" cy =\\\"\" + (y + height / 2.0).toString() + \"\\\" \"\n            + \" rx =\\\"\" + (width / 2).toString() + \"\\\" \"\n            + \" ry =\\\"\" + (height / 2).toString() + \"\\\" \"\n            + \" fill=\\\"none\\\" \"\n            + \"style = \\\"stroke:\" + pen.color.svgCode + \";stroke-opacity:\" + pen.color.alphaCode + \"; stroke-width:\" + pen.lineWidth.toString() + \"\\\"/>\");\n    }\n    FillEllipse(brush, x, y, width, height) {\n        this._SVGcontents.AppendLine(\"<ellipse  cx=\\\"\" + (x + width / 2.0).toString() + \"\\\" \"\n            + \" cy =\\\"\" + (y + height / 2.0).toString() + \"\\\" \"\n            + \" rx =\\\"\" + (width / 2).toString() + \"\\\" \"\n            + \" ry =\\\"\" + (height / 2).toString() + \"\\\" \"\n            + this.BrushToSVG(brush, false)\n            + \"style=\\\"stroke-width:0\\\"/>\");\n    }\n    DrawStringXY(s, font, brush, x, y) {\n        let tokens = s.split('\\n');\n        for (let i = 0; i < tokens.length; i++) {\n            s = tokens[i];\n            this._SVGcontents.AppendLine(\"<text x=\\\"\" + x.toString() + \"\\\" y=\\\"\" + (y + font.sizeInPoints).toString() + \"\\\" text-anchor=\\\"start\\\" \" // dominant-baseline=\\\"hanging\\\" \" //Not supported in  Inkscape :-(\n                + \"font-family=\\\"\" + font.name.toString() + \"\\\" \"\n                + \"font-size=\\\"\" + font.sizeInPoints.toString() + \"pt\\\" \"\n                + \"font-weight=\\\"\" + (font.bold ? \"bold\" : \"normal\") + \"\\\" \"\n                + \"font-style=\\\"\" + (font.italic ? \"italic\" : \"normal\") + \"\\\" \"\n                + this.BrushToSVG(brush, false)\n                + \"style=\\\"stroke-width:0\\\">\\r\\n\"\n                + YGraphicsSVG.escapeXml(s)\n                + \"\\r\\n</text>\");\n            y += (font.sizeInPoints * 1.75);\n        }\n    }\n    DrawString(s, font, brush, p) {\n        if (YGraphics._debugDrawString) {\n            let pen = new YPen(YColor.Red, 1);\n            this.DrawLineXY(pen, p.X - 5, p.Y, p.X + 5, p.Y);\n            this.DrawLineXY(pen, p.X, p.Y - 5, p.X, p.Y + 5);\n        }\n        this.DrawStringXY(s, font, brush, p.X, p.Y);\n    }\n    DrawStringF(s, font, brush, point, format) {\n        let totalsz = this.MeasureString(s, font, 0);\n        let y = point.Y + font.size * 1.25;\n        switch (format.LineAlignment) {\n            case 0 /* YStringFormat.StringAlignment.Near */:\n                break;\n            case 1 /* YStringFormat.StringAlignment.Center */:\n                y += -totalsz.height / 2;\n                break;\n            case 2 /* YStringFormat.StringAlignment.Far */:\n                y += -totalsz.height;\n                break;\n        }\n        let tokens = s.split('\\n');\n        for (let i = 0; i < tokens.length; i++) {\n            let s = tokens[i];\n            let sz = this.MeasureString(s, font, 0);\n            let x = point.X;\n            switch (format.Alignment) {\n                case 0 /* YStringFormat.StringAlignment.Near */:\n                    break;\n                case 1 /* YStringFormat.StringAlignment.Center */:\n                    x += -sz.width / 2;\n                    break;\n                case 2 /* YStringFormat.StringAlignment.Far */:\n                    x += -sz.width;\n                    break;\n            }\n            this._SVGcontents.AppendLine(\"<text x=\\\"\" + x.toString() + \"\\\" y=\\\"\" + y.toString() + \"\\\" text-anchor=\\\"start\\\" \" // dominant-baseline=\\\"hanging\\\" \" //Not supported in  Inkscape :-(\n                + \"font-family=\\\"\" + font.name.toString() + \"\\\" \"\n                + \"font-size=\\\"\" + font.sizeInPoints.toString() + \"pt\\\" \"\n                + \"font-weight=\\\"\" + (font.bold ? \"bold\" : \"normal\") + \"\\\" \"\n                + \"font-style=\\\"\" + (font.italic ? \"italic\" : \"normal\") + \"\\\" \"\n                + this.BrushToSVG(brush, false)\n                + \"style=\\\"stroke-width:0\\\">\\r\\n\"\n                + YGraphicsSVG.escapeXml(s)\n                + \"\\r\\n</text>\");\n            y += (font.sizeInPoints * 1.75);\n        }\n    }\n    DrawStringRect(s, font, brush, layoutRectangle, format) {\n        if (YGraphics._debugDrawString) {\n            let pen = new YPen(YColor.Red, 1);\n            this.DrawRectangle(pen, layoutRectangle);\n        }\n        let totalsz = this.MeasureString(s, font, 0);\n        let y = layoutRectangle.y + font.sizeInPoints * 1.1;\n        switch (format.LineAlignment) {\n            case 0 /* YStringFormat.StringAlignment.Near */:\n                break;\n            case 1 /* YStringFormat.StringAlignment.Center */:\n                y += (layoutRectangle.h - totalsz.height) / 2;\n                break;\n            case 2 /* YStringFormat.StringAlignment.Far */:\n                y += (layoutRectangle.h - totalsz.height);\n                break;\n        }\n        let tokens = s.split('\\n');\n        for (let i = 0; i < tokens.length; i++) {\n            let s = tokens[i];\n            let sz = this.MeasureString(s, font, 0);\n            let x = layoutRectangle.x;\n            switch (format.Alignment) {\n                case 0 /* YStringFormat.StringAlignment.Near */:\n                    break;\n                case 1 /* YStringFormat.StringAlignment.Center */:\n                    x += (layoutRectangle.w - sz.width) / 2;\n                    break;\n                case 2 /* YStringFormat.StringAlignment.Far */:\n                    x += (layoutRectangle.w - sz.width);\n                    break;\n            }\n            this._SVGcontents.AppendLine(\"<text x=\\\"\" + x.toString() + \"\\\" y=\\\"\" + y.toString() + \"\\\" text-anchor=\\\"start\\\" \" // dominant-baseline=\\\"hanging\\\" \" //Not supported in  Inkscape :-(\n                + \"font-family=\\\"\" + font.name.toString() + \"\\\" \"\n                + \"font-size=\\\"\" + (font.sizeInPoints * 1.1).toString() + \"pt\\\" \"\n                + \"font-weight=\\\"\" + (font.bold ? \"bold\" : \"normal\") + \"\\\" \"\n                + \"font-style=\\\"\" + (font.italic ? \"italic\" : \"normal\") + \"\\\" \"\n                + this.BrushToSVG(brush, false)\n                + \"style=\\\"stroke-width:0\\\">\\r\\n\"\n                + YGraphicsSVG.escapeXml(s)\n                + \"\\r\\n</text>\");\n            y += (font.sizeInPoints * 1.75);\n        }\n    }\n    Transform(dx, dy, angle) {\n        this._SVGcontents.AppendLine(\"<g transform=\\\"translate(\" + dx.toString() + \" \" + dy.toString() + \") rotate(\" + (180 * angle / Math.PI).toString() + \")\\\">\");\n        this._transformSectionsToClose++;\n    }\n    ResetTransform() {\n        if (this._transformSectionsToClose > 0) {\n            this._SVGcontents.AppendLine(\"</g>\");\n            this._transformSectionsToClose--;\n        }\n    }\n    DrawPolygon(pen, points) {\n        if (points.length < 2)\n            return;\n        this._SVGcontents.Append(\"<path  d=\\\"M \" + points[0].X.toString() + \" \" + points[0].Y.toString());\n        for (let i = 1; i < points.length; i += 1) {\n            this._SVGcontents.Append(\" L \" + points[i].X.toString() + \" \" + points[i].Y.toString());\n        }\n        this._SVGcontents.AppendLine(\" z\\\" fill=\\\"none\\\" \"\n            + \"style=\\\"stroke:\" + pen.color.svgCode + \";stroke-opacity:\" + pen.color.alphaCode + \"; stroke-width:\" + pen.lineWidth.toString() + \"\\\"/>\");\n    }\n    DrawLines(pen, points) {\n        if (points.length < 2)\n            return;\n        this._SVGcontents.Append(\"<path  d=\\\"M \" + points[0].X.toString() + \" \" + points[0].Y.toString());\n        for (let i = 1; i < points.length; i++) {\n            this._SVGcontents.Append(\" L \" + points[i].X.toString() + \" \" + points[i].Y.toString());\n        }\n        this._SVGcontents.AppendLine(\"\\\" fill=\\\"none\\\" \"\n            + \"style=\\\"stroke:\" + pen.color.svgCode + \";stroke-opacity:\" + pen.color.alphaCode + \"; stroke-linecap:round; stroke-linejoin:round;stroke-width:\" + pen.lineWidth.toString() + \"\\\"/>\");\n    }\n    FillPolygon(brush, points) {\n        if (points.length < 2)\n            return;\n        this._SVGcontents.Append(\"<path  d=\\\"M \" + points[0].X.toString() + \" \" + points[0].Y.toString());\n        for (let i = 1; i < points.length; i++) {\n            this._SVGcontents.Append(\" L \" + points[i].X.toString() + \" \" + points[i].Y.toString());\n        }\n        this._SVGcontents.AppendLine(\" z\\\" \" + this.BrushToSVG(brush, false)\n            + \"style=\\\"stroke-width:0\\\"/>\\r\\n\");\n    }\n    DrawImage(image, destRect, srcRect, srcUnit) { throw new Error(\"DrawImage not supported, find an other way.\"); }\n    save(filename) {\n        throw new Error(\"Direct save to file not supported.\");\n    }\n    comment(s) { this._SVGcontents.AppendLine(\"<!--\" + s + \"-->\"); }\n    get_svgContents() {\n        let physicalWidth = (2.54 * (this._width / this._dpi)).toFixed(3);\n        let physicalheight = (2.54 * (this._height / this._dpi)).toFixed(3);\n        while (this._clipSectionsToClose > 0) {\n            this._SVGcontents.AppendLine(\"</g>\");\n            this._clipSectionsToClose--;\n        }\n        while (this._transformSectionsToClose > 0) {\n            this._SVGcontents.AppendLine(\"</g>\");\n            this._transformSectionsToClose--;\n        }\n        return \"<?xml version = \\\"1.0\\\" standalone = \\\"no\\\" ?>\\r\\n\"\n            + \"<!DOCTYPE svg PUBLIC \\\"-//W3C//DTD SVG 1.1//EN\\\" \\\"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\\\">\\r\\n\"\n            + \"<svg width = \\\"\" + physicalWidth + \"cm\\\" height = \\\"\" + physicalheight + \"cm\\\" viewBox = \\\"0 0 \" + this._width.toString() + \" \" + this._height.toString() + \"\\\" \"\n            + \"xmlns = \\\"http://www.w3.org/2000/svg\\\" version = \\\"1.1\\\" >\\r\\n\"\n            + \"<defs>\\r\\n\"\n            + this._SVGdefs.contents\n            + \"</defs>\\r\\n\"\n            + \"<g clip-path=\\\"url(#pageClip_\" + YGraphicsSVG.SVGID.toString() + \")\\\">\\r\\n\"\n            + this._SVGcontents.contents\n            + \"</g>\\r\\n\"\n            + \"</svg>\\n\";\n    }\n}\nYGraphicsSVG.SVGID = 0;\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Solid gauge widget renderer\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./YDataRendererCommon.js\";\nexport class YAngularZone extends YDataRendering.Zone {\n    get path() {\n        return this._path;\n    }\n    setPathSize(count) {\n        this._path = new Array(count).fill(null);\n    }\n    setPathPoint(index, p) {\n        this._path[index] = p;\n    }\n    resetPath() {\n        this._path = null;\n    }\n    resetCache() {\n        this.resetPath();\n    }\n    get width() {\n        return this._width;\n    }\n    set width(value) {\n        if (value <= 0)\n            throw new RangeError(\"Width must be a positive value\");\n        this._width = value;\n        this._path = null;\n        this._parentRenderer.redraw();\n    }\n    get outerRadius() {\n        return this._outerRadius;\n    }\n    set outerRadius(value) {\n        this._outerRadius = Math.max(0, Math.min(100, value));\n        this._path = null;\n        this._parentRenderer.redraw();\n    }\n    constructor(parentRenderer, directParent) {\n        super(parentRenderer, directParent);\n        this._path = null;\n        this._width = 10;\n        this._outerRadius = 98;\n    }\n}\nexport class YAngularGauge extends YDataRendering.YDataRenderer {\n    get min() {\n        return this._min;\n    }\n    set min(value) {\n        if ((value >= this._max) && (!YDataRendering.YDataRenderer.minMaxCheckDisabled)) {\n            throw new RangeError(\"Min cannot be greater than max (\" + this._max.toString() + \")\");\n        }\n        this._min = value;\n        for (let i = 0; i < this._zones.length; i++) {\n            this._zones[i].resetPath();\n        }\n        if (this._needleValue < this._min) {\n            this._needleValue = this._min;\n        }\n        this.redraw();\n    }\n    get max() {\n        return this._max;\n    }\n    set max(value) {\n        if ((value <= this._min) && (!YDataRendering.YDataRenderer.minMaxCheckDisabled)) {\n            throw new RangeError(\"Max cannot be less than min (\" + this._min.toString() + \")\");\n        }\n        this._max = value;\n        for (let i = 0; i < this._zones.length; i++) {\n            this._zones[i].resetPath();\n        }\n        if (this._needleValue > this._max) {\n            this._needleValue = this._max;\n        }\n        this.redraw();\n    }\n    get borderpen() {\n        if (this._borderpen == null) {\n            this._borderpen = new YDataRendering.YPen(this._borderColor, this._borderThickness);\n            this._borderpen.startCap = 1 /* YDataRendering.YPen.LineCap.Square */;\n            this._borderpen.endCap = 1 /* YDataRendering.YPen.LineCap.Square */;\n        }\n        return this._borderpen;\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._borderpen = null;\n        this.redraw();\n    }\n    get backgroundColor1() {\n        return this._backgroundColor1;\n    }\n    set backgroundColor1(value) {\n        this._backgroundColor1 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get backgroundColor2() {\n        return this._backgroundColor2;\n    }\n    set backgroundColor2(value) {\n        this._backgroundColor2 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get borderThickness() {\n        return this._borderThickness;\n    }\n    set borderThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"thickness must be a positive value\");\n        this._borderThickness = value;\n        this._borderpen = null;\n        this.redraw();\n    }\n    get valueFormater() {\n        return this._valueFormater;\n    }\n    set valueFormater(value) {\n        this._valueFormater = value;\n        this.redraw();\n    }\n    get minmaxFormater() {\n        return this._minmaxFormater;\n    }\n    set minmaxFormater(value) {\n        this._minmaxFormater = value;\n        this.redraw();\n    }\n    get thickness() {\n        return this._thickness;\n    }\n    set thickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._thickness = Math.max(Math.min(value, 80), 1);\n        this.redraw();\n    }\n    get value() {\n        return this._value;\n    }\n    set value(value) {\n        this._value = value;\n        this.redraw();\n    }\n    get color1() {\n        return this._color1;\n    }\n    set color1(value) {\n        this._color1 = value;\n        this.redraw();\n    }\n    get color2() {\n        return this._color2;\n    }\n    set color2(value) {\n        this._color2 = value;\n        this.redraw();\n    }\n    get graduationColor() {\n        return this._graduationColor;\n    }\n    set graduationColor(value) {\n        this._graduationColor = value;\n        this._graduationPen = null;\n        this.redraw();\n    }\n    get graduationThickness() {\n        return this._graduationThickness;\n    }\n    set graduationThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._graduationThickness = value;\n        this._graduationPen = null;\n        this.redraw();\n    }\n    get graduationSize() {\n        return this._graduationSize;\n    }\n    set graduationSize(value) {\n        if (value <= 0)\n            throw new RangeError(\"Graduation size must be a positive value\");\n        this._graduationSize = value;\n        this.redraw();\n    }\n    get graduation() {\n        return this._graduation;\n    }\n    set graduation(value) {\n        this._graduation = value;\n        this.redraw();\n    }\n    get unitFactor() {\n        return this._unitFactor;\n    }\n    set unitFactor(value) {\n        if (value == 0)\n            throw new RangeError(\"Factor cannot be zero.\");\n        this._unitFactor = value;\n        this.redraw();\n    }\n    get unit() {\n        return this._unit;\n    }\n    set unit(value) {\n        this._unit = value;\n        this.redraw();\n    }\n    get unitFont() {\n        return this._unitFont;\n    }\n    get subgraduationColor() {\n        return this._subgraduationColor;\n    }\n    set subgraduationColor(value) {\n        this._subgraduationColor = value;\n        this._subgraduationPen = null;\n        this.redraw();\n    }\n    get subgraduationThickness() {\n        return this._subgraduationThickness;\n    }\n    set subgraduationThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._subgraduationThickness = value;\n        this._subgraduationPen = null;\n        this.redraw();\n    }\n    get subgraduationSize() {\n        return this._subgraduationSize;\n    }\n    set subgraduationSize(value) {\n        if (value <= 0)\n            throw new RangeError(\"Size must be a positive value\");\n        this._subgraduationSize = value;\n        this.redraw();\n    }\n    get graduationOuterRadiusSize() {\n        return this._graduationOuterRadiusSize;\n    }\n    set graduationOuterRadiusSize(value) {\n        this._graduationOuterRadiusSize = Math.max(0, Math.min(100, value));\n        this.redraw();\n    }\n    get subgraduationCount() {\n        return this._subgraduationCount;\n    }\n    set subgraduationCount(value) {\n        if (value < 0)\n            throw new RangeError(\"Count must be a positive value\");\n        this._subgraduationCount = value;\n        this.redraw();\n    }\n    get statusColor() {\n        return this._statusColor;\n    }\n    set statusColor(value) {\n        this._statusColor = value;\n        this.redraw();\n    }\n    get statusFont() {\n        return this._unitFont;\n    }\n    get statusLine() {\n        return this._statusLine;\n    }\n    set statusLine(value) {\n        this._statusLine = value;\n        this.redraw();\n    }\n    get showNeedle() {\n        return this._showNeedle;\n    }\n    set showNeedle(value) {\n        this._showNeedle = value;\n        this.redraw();\n    }\n    get needleColor() {\n        return this._needleColor;\n    }\n    set needleColor(value) {\n        this._needleColor = value;\n        this._needleBrush = null;\n        this.redraw();\n    }\n    get needleMaxSpeed() {\n        return this._needleMaxSpeed;\n    }\n    set needleMaxSpeed(value) {\n        if (value <= 0)\n            throw new RangeError(\"Speed must be a positive value\");\n        this._needleMaxSpeed = value;\n        this.redraw();\n    }\n    get needleLength1() {\n        return this._needleLength1;\n    }\n    set needleLength1(value) {\n        this._needleLength1 = value;\n        this.redraw();\n    }\n    get needleLength2() {\n        return this._needleLength2;\n    }\n    set needleLength2(value) {\n        this._needleLength2 = value;\n        this.redraw();\n    }\n    get needleWidth() {\n        return this._needleWidth;\n    }\n    set needleWidth(value) {\n        if (value <= 0)\n            throw new RangeError(\"Width must be a positive value\");\n        this._needleWidth = value;\n        this.redraw();\n    }\n    get needleContourColor() {\n        return this._needleContourColor;\n    }\n    set needleContourColor(value) {\n        this._needleContourColor = value;\n        this._needleContourPen = null;\n        this.redraw();\n    }\n    get needleContourThickness() {\n        return this._needleContourThickness;\n    }\n    set needleContourThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._needleContourThickness = value;\n        this._needleContourPen = null;\n        this.redraw();\n    }\n    get graduationFont() {\n        return this._graduationFont;\n    }\n    get showMinMax() {\n        return this._showMinMax;\n    }\n    set showMinMax(value) {\n        this._showMinMax = value;\n        this.redraw();\n    }\n    constructor(UIContainer, logFunction) {\n        super(UIContainer, logFunction);\n        this._min = 0;\n        this._max = 100;\n        this.SegmentMaxLength = 8;\n        this._borderpen = null;\n        this._borderColor = YDataRendering.YColor.Black;\n        this._bgBrush = null;\n        this._backgroundColor1 = YDataRendering.YColor.FromArgb(255, 240, 240, 240);\n        this._backgroundColor2 = YDataRendering.YColor.FromArgb(255, 200, 200, 200);\n        this._borderThickness = 5;\n        this._valueFormater = null;\n        this._minmaxFormater = null;\n        this._thickness = 20;\n        this._value = 0;\n        this._needleValue = 0;\n        this._color1 = YDataRendering.YColor.Green;\n        this._color2 = YDataRendering.YColor.Red;\n        this._graduationPen = null;\n        this._graduationColor = YDataRendering.YColor.Black;\n        this._graduationThickness = 2;\n        this._graduationSize = 10;\n        this._graduation = 10;\n        this._unitFactor = 1;\n        this._unit = \"\";\n        this._subgraduationPen = null;\n        this._subgraduationColor = YDataRendering.YColor.Black;\n        this._subgraduationThickness = 1;\n        this._subgraduationSize = 5;\n        this._graduationOuterRadiusSize = 98;\n        this._subgraduationCount = 5;\n        this._statusColor = YDataRendering.YColor.Gray;\n        this._statusLine = \"\";\n        this._showNeedle = true;\n        this._needleBrush = null;\n        this._needleColor = YDataRendering.YColor.Red;\n        this._needleMaxSpeed = 5;\n        this._needleLength1 = 90;\n        this._needleLength2 = 5;\n        this._needleWidth = 5;\n        this._needleContourPen = null;\n        this._needleContourColor = YDataRendering.YColor.DarkRed;\n        this._needleContourThickness = 1;\n        this._showMinMax = true;\n        this._path = null;\n        this._graduationFont = new YDataRendering.YFont(this, this, Math.min(this.getContainerInnerWidth(), this.getContainerInnerHeight()) / 15, null);\n        this._unitFont = new YDataRendering.YFont(this, this, Math.min(this.getContainerInnerWidth(), this.getContainerInnerHeight()) / 20, null);\n        this._statusFont = new YDataRendering.YFont(this, this, Math.min(this.getContainerInnerWidth(), this.getContainerInnerHeight()) / 15, null);\n        this.unitFont.color = YDataRendering.YColor.DarkGray;\n        this._statusFont.color = YDataRendering.YColor.DarkGray;\n        this.resizeRule = YDataRendering.Proportional.ResizeRule.RELATIVETOBOTH;\n        this._zones = [];\n    }\n    clearCachedObjects() {\n        if (this._zones != null) {\n            for (let i = 0; i < this._zones.length; i++) {\n                this._zones[i].resetPath();\n            }\n        }\n        this._path = null;\n        this._bgBrush = null;\n    }\n    get zones() {\n        return this._zones;\n    }\n    AddZone() {\n        let z = new YAngularZone(this, this);\n        this._zones.push(z);\n        return z;\n    }\n    Render(g, w, h) {\n        let mainViewPort = new YDataRendering.ViewPortSettings();\n        mainViewPort.Lmargin = 0;\n        mainViewPort.Rmargin = 0;\n        mainViewPort.Tmargin = 0;\n        mainViewPort.Bmargin = 0;\n        g.SmoothingMode = YDataRendering.YSmoothingMode.HighQuality;\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let stringFormat4Sizing = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        let stringFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        stringFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n        stringFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n        this.drawAnnotationPanels(g, this._annotationPanels, w, h, false, mainViewPort);\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let xcenter = mainViewPort.Lmargin + (w - mainViewPort.Lmargin - mainViewPort.Rmargin) / 2;\n        let ycenter = mainViewPort.Tmargin + (h - mainViewPort.Tmargin - mainViewPort.Bmargin) / 2;\n        let radius = Math.min((w - mainViewPort.Lmargin - mainViewPort.Rmargin) / 2, (h - mainViewPort.Tmargin - mainViewPort.Bmargin) / 2) - this.borderThickness;\n        let circonference = (2 * radius * 3.14) >> 0;\n        let AngleAperture = 4 * 2 * Math.PI / 5;\n        if (this._path == null) {\n            let outterlength = (2 * radius * Math.PI);\n            let stepCount = (outterlength / this.SegmentMaxLength) >> 0;\n            let stepsize = (2 * Math.PI) / stepCount;\n            this._path = new Array(stepCount).fill(null);\n            let n = 0;\n            for (let i = 0; i < stepCount; i++) {\n                let a = (2 * i * Math.PI) / stepCount;\n                this._path[n++] = new YDataRendering.PointF((xcenter + radius * Math.cos(a)), (ycenter - radius * Math.sin(a)));\n            }\n        }\n        if (this._bgBrush == null)\n            this._bgBrush = new YDataRendering.YLinearGradientBrush(this._backgroundColor1, this._backgroundColor2);\n        if (this._borderpen == null) {\n            this._borderpen = new YDataRendering.YPen(this._borderColor, this._borderThickness);\n            this._borderpen.linejoin = YDataRendering.YPen.LineJoin.Round;\n        }\n        if (this._path.length > 3)\n            g.FillPolygon(this._bgBrush, this._path);\n        if (this._graduationPen == null)\n            this._graduationPen = new YDataRendering.YPen(this._graduationColor, this._graduationThickness);\n        if (this._subgraduationPen == null)\n            this._subgraduationPen = new YDataRendering.YPen(this._subgraduationColor, this._subgraduationThickness);\n        // draw unit\n        let unitDesc = ((this._unitFactor != 1) ? \"x\" + this._unitFactor.toString() + \" \" : \"\") + this._unit;\n        let size = g.MeasureStringSF(unitDesc.toString(), this._unitFont, 10000, stringFormat4Sizing);\n        let unitPos = new YDataRendering.YRectangle((xcenter - size.width / 2) >> 0, (ycenter + radius / 2 - size.height / 2) >> 0, (size.width + 1) >> 0, (size.height + 1) >> 0);\n        g.DrawStringRect(unitDesc, this._unitFont, this._unitFont.brush, unitPos, stringFormat);\n        // draw status line\n        if (this._statusLine != \"\") {\n            size = g.MeasureStringSF(this._statusLine, this._statusFont, 10000, stringFormat4Sizing);\n            let statusPos = new YDataRendering.YRectangle((xcenter - size.width / 2) >> 0, (ycenter - radius / 3 - size.height / 2) >> 0, (size.width + 1), (size.height + 1));\n            g.DrawStringRect(this._statusLine, this._statusFont, this._statusFont.brush, statusPos, stringFormat);\n        }\n        let firstGraduation;\n        let gratuationCount;\n        let Angle, C, S, R1, R2;\n        let outerCoef = this._graduationOuterRadiusSize / 100;\n        // draw zones\n        for (let i = 0; i < this._zones.length; i++) {\n            if (this._zones[i].visible) {\n                if (this._zones[i].path == null) {\n                    let zmin = Math.max(this._min, Math.min(this._max, this._zones[i].min));\n                    let zmax = Math.max(this._min, Math.min(this._max, this._zones[i].max));\n                    if (zmax > zmin) {\n                        let zOuterCoef = this._zones[i].outerRadius / 100;\n                        let Angle1 = ((Math.PI - AngleAperture) / 2) + AngleAperture * (zmin - this._min) / (this._max - this._min);\n                        let Angle2 = ((Math.PI - AngleAperture) / 2) + AngleAperture * (zmax - this._min) / (this._max - this._min);\n                        let outterlength = (Angle2 - Angle1) * radius;\n                        let stepCount = (outterlength / this.SegmentMaxLength) >> 0;\n                        if (stepCount < 2)\n                            stepCount = 2;\n                        this._zones[i].setPathSize(2 * stepCount + 2);\n                        // let Path: YDataRendering.PointF[] = new Array(2 * stepCount + 2).fill(null);\n                        for (let j = 0; j <= stepCount; j++) {\n                            let A = Angle1 + ((Angle2 - Angle1) * j) / stepCount;\n                            this._zones[i].setPathPoint(j, new YDataRendering.PointF((xcenter - radius * zOuterCoef * Math.cos(A)), (ycenter - radius * zOuterCoef * Math.sin(A))));\n                        }\n                        let innerRadiusCoef = zOuterCoef - (this._zones[i].width / 100);\n                        for (let j = stepCount; j >= 0; j--) {\n                            let A = Angle1 + ((Angle2 - Angle1) * j) / stepCount;\n                            this._zones[i].setPathPoint(2 * stepCount + 1 - j, new YDataRendering.PointF((xcenter - radius * innerRadiusCoef * Math.cos(A)), (ycenter - radius * innerRadiusCoef * Math.sin(A))));\n                        }\n                    }\n                }\n                if (this._zones[i].path != null)\n                    g.FillPolygon(this._zones[i].zoneBrush, this._zones[i].path);\n            }\n        }\n        firstGraduation = this._graduation * (this._min / this._graduation) >> 0;\n        if (this._min < 0)\n            firstGraduation -= this._graduation;\n        while (firstGraduation < this._min) {\n            firstGraduation += this._graduation;\n        }\n        gratuationCount = 1 + ((this._max - this._min) / this._graduation) >> 0;\n        // draw sub graduations\n        if ((this._subgraduationCount > 0) && ((this._subgraduationCount * gratuationCount) < circonference)) {\n            let subgraduation = this._graduation / this._subgraduationCount;\n            firstGraduation = subgraduation * ((this._min / subgraduation) >> 0);\n            if (this._min < 0)\n                firstGraduation -= subgraduation;\n            while (firstGraduation < this._min) {\n                firstGraduation += subgraduation;\n            }\n            gratuationCount = 1 + ((this._max - this._min) / subgraduation) >> 0;\n            for (let i = 0; i < gratuationCount; i++) {\n                let value = firstGraduation + i * subgraduation;\n                if (value <= this._max) {\n                    Angle = ((Math.PI - AngleAperture) / 2) + AngleAperture * (value - this._min) / (this._max - this._min);\n                    C = Math.cos(Angle);\n                    S = Math.sin(Angle);\n                    R1 = (outerCoef * (radius - this._borderThickness / 2));\n                    R2 = (100 - this._subgraduationSize) * (outerCoef * (radius - this._borderThickness / 2)) / 100;\n                    g.DrawLineXY(this._subgraduationPen, (xcenter - R1 * C), (ycenter - R1 * S), (xcenter - R2 * C), (ycenter - R2 * S));\n                }\n            }\n        }\n        // draw Main graduations\n        if (gratuationCount < circonference) // stop drawing graduation if too many\n         {\n            for (let i = 0; i < gratuationCount; i++) {\n                let gvalue = firstGraduation + i * this._graduation;\n                if (gvalue <= this._max) {\n                    Angle = ((Math.PI - AngleAperture) / 2) + AngleAperture * (gvalue - this._min) / (this._max - this._min);\n                    C = Math.cos(Angle);\n                    S = Math.sin(Angle);\n                    R1 = (outerCoef * (radius - this._borderThickness / 2));\n                    R2 = (100 - this._graduationSize) * (outerCoef * (radius - this._borderThickness / 2)) / 100;\n                    g.DrawLineXY(this._graduationPen, (xcenter - R1 * C), (ycenter - R1 * S), (xcenter - R2 * C), (ycenter - R2 * S));\n                    size = g.MeasureStringSF(gvalue.toString().trim(), this._graduationFont, 1000, stringFormat4Sizing);\n                    let HalfDiagonal = 0.4 * Math.sqrt(size.width * size.width + size.height * size.height);\n                    let position = new YDataRendering.YRectangle((xcenter - (R2 - HalfDiagonal) * C - (size.width / 2)) >> 0, (ycenter - (R2 - HalfDiagonal) * S - (size.height / 2)) >> 0, (size.width >> 0) + 1, size.height >> 0);\n                    //  g.DrawRectangle(new YDataRendering.YPen(Color.Red, 1), position);\n                    g.DrawStringRect(gvalue.toString(), this._graduationFont, this._graduationFont.brush, position, stringFormat);\n                }\n            }\n        }\n        // draw Border\n        if ((this._borderThickness > 0) && (this._path.length > 3))\n            g.DrawPolygon(this._borderpen, this._path);\n        this.drawAnnotationPanels(g, this._annotationPanels, w, h, true, mainViewPort);\n        // draw Needle\n        if (this._showNeedle) {\n            if (this._needleValue != this._value) {\n                let step = this._unitFactor * this._needleMaxSpeed * (this._max - this._min) / 100;\n                if (Math.abs(this._value - this._needleValue) < step) {\n                    this._needleValue = this._value;\n                }\n                else if (this._needleValue < this.value) {\n                    this._needleValue += step;\n                }\n                else {\n                    this._needleValue -= step;\n                }\n            }\n            let needlevalue = this._needleValue / this._unitFactor;\n            let allowedOverflow = (this._max - this.min) * 0.05;\n            if (needlevalue < this._min - allowedOverflow)\n                needlevalue = this._min - allowedOverflow;\n            if (needlevalue > this._max + allowedOverflow)\n                needlevalue = this._max + allowedOverflow;\n            Angle = ((Math.PI - AngleAperture) / 2) + AngleAperture * (needlevalue - this._min) / (this._max - this._min);\n            C = Math.cos(Angle);\n            S = Math.sin(Angle);\n            R1 = (radius * this._needleLength1) / 100;\n            R2 = (radius * this._needleLength2) / 100;\n            let R3 = (radius * this._needleWidth) / 200;\n            let needlepath = new Array(4).fill(null);\n            needlepath[0] = new YDataRendering.PointF((xcenter - R1 * C), (ycenter - R1 * S));\n            needlepath[1] = new YDataRendering.PointF((xcenter + R3 * S), (ycenter - R3 * C));\n            needlepath[2] = new YDataRendering.PointF((xcenter + R2 * C), (ycenter + R2 * S));\n            needlepath[3] = new YDataRendering.PointF((xcenter - R3 * S), (ycenter + R3 * C));\n            if (this._needleBrush == null)\n                this._needleBrush = new YDataRendering.YSolidBrush(this._needleColor);\n            g.FillPolygon(this._needleBrush, needlepath);\n            if (this._needleContourThickness > 0) {\n                if (this._needleContourPen == null) {\n                    this._needleContourPen = new YDataRendering.YPen(this._needleContourColor, this._needleContourThickness);\n                    this._needleContourPen.startCap = 2 /* YDataRendering.YPen.LineCap.Round */;\n                    this._needleContourPen.endCap = 2 /* YDataRendering.YPen.LineCap.Round */;\n                    this._needleContourPen.linejoin = YDataRendering.YPen.LineJoin.Round;\n                }\n                let needlepath2 = new Array(5).fill(null);\n                needlepath2[0] = needlepath[0];\n                needlepath2[1] = needlepath[1];\n                needlepath2[2] = needlepath[2];\n                needlepath2[3] = needlepath[3];\n                needlepath2[4] = needlepath[0];\n                g.DrawLines(this._needleContourPen, needlepath2);\n            }\n        }\n        this.DrawMessagePanels(g, w, h);\n        return 0;\n    }\n    renderingPostProcessing() {\n        if (this._needleValue != this._value)\n            this.redraw();\n    }\n}\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Digital display  widget renderer\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./YDataRendererCommon.js\";\nexport class YDigitalDisplay extends YDataRendering.YDataRenderer {\n    get backgroundColor1() { return this._backgroundColor1; }\n    set backgroundColor1(value) {\n        this._backgroundColor1 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get backgroundColor2() { return this._backgroundColor2; }\n    set backgroundColor2(value) {\n        this._backgroundColor2 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get alternateValue() { return this._alternateValue; }\n    set alternateValue(value) {\n        this._alternateValue = value;\n        this.redraw();\n    }\n    get valueFormater() { return this._valueFormater; }\n    set valueFormater(value) {\n        this._valueFormater = value;\n        this.redraw();\n    }\n    get hrzAlignmentOfset() { return this._hrzAlignmentOfset; }\n    set hrzAlignmentOfset(value) {\n        this._hrzAlignmentOfset = value;\n        this.redraw();\n    }\n    get hrzAlignment() { return this._hrzAlignment; }\n    set hrzAlignment(value) {\n        this._hrzAlignment = value;\n        this.redraw();\n    }\n    get outOfRangeMin() { return this._outOfRangeMin; }\n    set outOfRangeMin(value) {\n        if (!Number.isNaN(value) && !Number.isNaN(this._outOfRangeMax) && !YDataRendering.YDataRenderer.minMaxCheckDisabled) {\n            if (value >= this._outOfRangeMax)\n                throw new RangeError(\"Min cannot be greater than max (\" + this._outOfRangeMax.toString() + \")\");\n        }\n        this._outOfRangeMin = value;\n        this.redraw();\n    }\n    get outOfRangeMax() { return this._outOfRangeMax; }\n    set outOfRangeMax(value) {\n        if (!Number.isNaN(value) && !Number.isNaN(this._outOfRangeMin) && !YDataRendering.YDataRenderer.minMaxCheckDisabled) {\n            if (value <= this._outOfRangeMin)\n                throw new RangeError(\"Min cannot be less than max (\" + this._outOfRangeMin.toString() + \")\");\n        }\n        this._outOfRangeMax = value;\n        this.redraw();\n    }\n    get outOfRangeColor() { return this._outOfRangeColor; }\n    set outOfRangeColor(value) {\n        this._outOfRangeColor = value;\n        this.redraw();\n    }\n    get value() { return this._value; }\n    set value(value) {\n        this._value = value;\n        this.redraw();\n    }\n    get font() { return this._font; }\n    constructor(UIContainer, logFunction) {\n        super(UIContainer, logFunction);\n        this._bgBrush = null;\n        this._backgroundColor1 = YDataRendering.YColor.Black;\n        this._backgroundColor2 = YDataRendering.YColor.FromArgb(255, 48, 48, 48);\n        this._alternateValue = null;\n        this._valueFormater = null;\n        this._hrzAlignmentOfset = 5.0;\n        this._hrzAlignment = YDigitalDisplay.HrzAlignment.DECIMAL;\n        this._outOfRangeMin = Number.NaN;\n        this._outOfRangeMax = Number.NaN;\n        this._outOfRangeColor = YDataRendering.YColor.Red;\n        this._value = 0.0;\n        this._font = new YDataRendering.YFont(this, this, Math.min(UIContainer.width / 5, UIContainer.height / 2), null);\n        this._font.color = YDataRendering.YColor.LightGreen;\n        this.resizeRule = YDataRendering.Proportional.ResizeRule.RELATIVETOBOTH;\n    }\n    clearCachedObjects() {\n        if (this.font != null)\n            this.font.ResetFont(null);\n        this._bgBrush = null;\n    }\n    Render(g, w, h) {\n        let mainViewPort = new YDataRendering.ViewPortSettings();\n        mainViewPort.Lmargin = 0;\n        mainViewPort.Rmargin = 0;\n        mainViewPort.Tmargin = 0;\n        mainViewPort.Bmargin = 0;\n        g.SmoothingMode = YDataRendering.YSmoothingMode.HighQuality;\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let stringFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        stringFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n        stringFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YLinearGradientBrush(this._backgroundColor1, this._backgroundColor2);\n        }\n        g.FillRectangleXYHW(this._bgBrush, 0, 0, w, h);\n        this.drawAnnotationPanels(g, this._annotationPanels, w, h, false, mainViewPort);\n        if (mainViewPort.Tmargin >= 20)\n            mainViewPort.Tmargin -= 10; // AnnotationPanels adds at least 20px warnings\n        if (mainViewPort.Bmargin >= 20)\n            mainViewPort.Bmargin -= 10; // which is a bit much for digital display\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let availWidth = w - (mainViewPort.Lmargin + mainViewPort.Rmargin);\n        let availHeight = h - (mainViewPort.Tmargin + mainViewPort.Bmargin);\n        if ((availWidth > 10) && (availHeight > 10)) { // draw unit\n            let svalue;\n            if (this._alternateValue == null) {\n                svalue = this._valueFormater == null ? this.value.toFixed(3) : this._valueFormater(this, this.value);\n                if ((!Number.isNaN(this._outOfRangeMin)) && (this.value < this._outOfRangeMin)) {\n                    this.font.alternateColor = this._outOfRangeColor;\n                }\n                else if ((!Number.isNaN(this._outOfRangeMax)) && (this.value > this._outOfRangeMax)) {\n                    this.font.alternateColor = this._outOfRangeColor;\n                }\n                else {\n                    this.font.alternateColor = null;\n                }\n            }\n            else {\n                this._font.alternateColor = null;\n                svalue = this._alternateValue;\n            }\n            let size = g.MeasureStringSF(svalue, this.font, 10000, stringFormat);\n            let pos;\n            let align = this._hrzAlignment;\n            if ((this._alternateValue != null) && (align == YDigitalDisplay.HrzAlignment.DECIMAL))\n                align = YDigitalDisplay.HrzAlignment.RIGHT;\n            if ((align == YDigitalDisplay.HrzAlignment.DECIMAL) && (svalue.indexOf(\".\") < 0))\n                align = YDigitalDisplay.HrzAlignment.RIGHT;\n            switch (align) {\n                case YDigitalDisplay.HrzAlignment.LEFT:\n                    pos = new YDataRendering.YRectangle(mainViewPort.Lmargin + ((availWidth * this.hrzAlignmentOfset / 100) >> 0), mainViewPort.Tmargin + ((availHeight - size.height) / 2) >> 0, (size.width + 1) >> 0, (size.height + 1) >> 0);\n                    g.DrawStringRect(svalue, this.font, this.font.brush, pos, stringFormat);\n                    break;\n                case YDigitalDisplay.HrzAlignment.CENTER:\n                    pos = new YDataRendering.YRectangle(mainViewPort.Lmargin + ((availWidth - size.width) / 2) >> 0, mainViewPort.Tmargin + ((availHeight - size.height) / 2) >> 0, (size.width + 1) >> 0, (size.height + 1) >> 0);\n                    g.DrawStringRect(svalue, this.font, this.font.brush, pos, stringFormat);\n                    break;\n                case YDigitalDisplay.HrzAlignment.DECIMAL:\n                    let left = \"\";\n                    let p = svalue.lastIndexOf(',');\n                    if (p < 0)\n                        p = svalue.lastIndexOf('.');\n                    if (p >= 0) {\n                        left = svalue.substring(0, p + 1);\n                    }\n                    else {\n                        p = 0;\n                        while ((p < svalue.length) && ((svalue[p] >= '0' && svalue[p] <= '9') || (svalue[p] == '-') || (svalue[p] == '\\'') || (svalue[p] == ' '))) {\n                            p++;\n                        }\n                        left = svalue.substring(0, p);\n                    }\n                    let lsize = g.MeasureStringSF(left, this.font, 10000, stringFormat);\n                    pos = new YDataRendering.YRectangle(mainViewPort.Lmargin + (availWidth - lsize.width - availWidth * this.hrzAlignmentOfset / 100) >> 0, mainViewPort.Tmargin + ((availHeight - size.height) / 2) >> 0, (size.width + 1) >> 0, (size.height + 1) >> 0);\n                    g.DrawStringRect(svalue, this.font, this.font.brush, pos, stringFormat);\n                    break;\n                case YDigitalDisplay.HrzAlignment.RIGHT:\n                    pos = new YDataRendering.YRectangle(mainViewPort.Lmargin + (availWidth - size.width - availWidth * this.hrzAlignmentOfset / 100) >> 0, mainViewPort.Tmargin + ((availHeight - size.height) / 2) >> 0, (size.width + 1) >> 0, (size.height + 1) >> 0);\n                    g.DrawStringRect(svalue, this.font, this.font.brush, pos, stringFormat);\n                    break;\n            }\n        }\n        this.drawAnnotationPanels(g, this._annotationPanels, w, h, true, mainViewPort);\n        this.DrawMessagePanels(g, w, h);\n        return 0;\n    }\n}\n(function (YDigitalDisplay) {\n    class HrzAlignmentEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, HrzAlignment);\n        }\n    }\n    YDigitalDisplay.HrzAlignmentEnumItem = HrzAlignmentEnumItem;\n    class HrzAlignment extends YDataRendering.YEnum {\n    }\n    HrzAlignment.LEFT = new HrzAlignmentEnumItem(\"LEFT\", \"Left\");\n    HrzAlignment.CENTER = new HrzAlignmentEnumItem(\"CENTER\", \"Center\");\n    HrzAlignment.DECIMAL = new HrzAlignmentEnumItem(\"DECIMAL\", \"Decimal\");\n    HrzAlignment.RIGHT = new HrzAlignmentEnumItem(\"RIGHT\", \"Right\");\n    YDigitalDisplay.HrzAlignment = HrzAlignment;\n    //export const enum HrzAlignment { LEFT = \"Left\", CENTER = \"Center\", DECIMAL=\"Decimal\", RIGHT =\"Right\"  }\n})(YDigitalDisplay || (YDigitalDisplay = {}));\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Graph widget renderer\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./YDataRendererCommon.js\";\nexport class pointXY {\n    constructor(X, Y) {\n        this.x = X === undefined ? 0 : X;\n        this.y = Y === undefined ? 0 : Y;\n    }\n    clone() { return new pointXY(this.x, this.y); }\n}\nexport class TimeConverterParseResult {\n    constructor() {\n        this.success = false;\n        this.result = 0;\n    }\n}\nclass TimeResolution {\n    constructor() {\n        this.step = 0;\n        this.format = 0;\n    }\n}\nexport class YDate extends Date {\n    ToString(format) {\n        let res = \"\";\n        let ampm = \"\";\n        if (format & YDate.D)\n            res = res + this.getDate() + \" \";\n        if (format & YDate.M)\n            res = res + YDate.months[this.getMonth()] + \" \";\n        if (format & YDate.YY) {\n            let y = this.getFullYear().toString();\n            res = res + y.substr(y.length - 2) + \" \";\n        }\n        else if (format & YDate.YYYY) {\n            let y = this.getFullYear().toString();\n            res = res + y + \" \";\n        }\n        if (format & YDate.CR)\n            res = res + \"\\n\";\n        if (format & YDate.h) {\n            if (YDate.use24Hformat) {\n                let h = \"0\" + this.getHours().toString();\n                res = res + h.substring(h.length - 2);\n                if (!(format & YDate.m))\n                    res = res + \"H\";\n            }\n            else {\n                let hour = this.getHours();\n                ampm = \"AM\";\n                if (hour > 11)\n                    ampm = \"PM\";\n                if (hour > 12)\n                    hour = hour - 12;\n                if (hour == 0)\n                    hour = 12;\n                res = res + hour.toString();\n            }\n        }\n        if (format & YDate.m) {\n            let m = \"0\" + this.getMinutes().toString();\n            res = res + \":\" + m.substring(m.length - 2);\n        }\n        if (format & YDate.s) {\n            let s = \"0\" + this.getSeconds().toString();\n            res = res + \":\" + s.substring(s.length - 2);\n        }\n        if (format & YDate.ms1) {\n            let ms = \"00\" + this.getMilliseconds().toString();\n            res = res + \".\" + ms.substring(ms.length - 3).substring(1);\n        }\n        else if (format & YDate.ms01) {\n            let ms = \"00\" + this.getMilliseconds().toString();\n            res = res + \".\" + ms.substring(ms.length - 3).substring(2);\n        }\n        else if (format & YDate.ms001) {\n            let ms = \"00\" + this.getMilliseconds().toString();\n            res = res + \".\" + ms.substring(ms.length - 3).substring(3);\n        }\n        if ((format & YDate.h) && !YDate.use24Hformat) {\n            res = res + ampm;\n        }\n        return res;\n    }\n}\nYDate.D = 1;\nYDate.DD = 2;\nYDate.M = 4;\nYDate.YY = 8;\nYDate.h = 16;\nYDate.m = 32;\nYDate.s = 64;\nYDate.ms1 = 128;\nYDate.ms01 = 256;\nYDate.ms001 = 512;\nYDate.CR = 1024;\nYDate.isRelative = 2048;\nYDate.YYYY = 4096;\nYDate.d = (new Date()).toLocaleTimeString().toUpperCase();\nYDate.use24Hformat = (YDate.d.indexOf(\"AM\") < 0) && (YDate.d.indexOf(\"PM\") < 0);\nYDate.months = [\"jan\", \"feb\", \"mar\", \"apr\", \"may\", \"jun\", \"jul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"];\nexport class TimeConverter {\n    static UTCNow() { return new YDate(); }\n    static ToUnixTime(datetime) { return datetime.getTime() / 1000.0; }\n    static FromUnixTime(unixtime) {\n        let t = new YDate();\n        t.setTime(unixtime * 1000);\n        return t;\n    }\n    static tryParseStringToAbsDateTime(str) {\n        let res = new TimeConverterParseResult();\n        res.success = false;\n        let date = new Date();\n        let year = date.getFullYear();\n        let month = date.getMonth();\n        let day = date.getDate();\n        let hours = 0;\n        let minutes = 0;\n        let seconds = 0;\n        str = str.trim();\n        while (str.indexOf(\"  \") > 0) {\n            str = str.replace(\"  \", \" \");\n        }\n        let dateFound = false;\n        let timeFound = false;\n        let it = str.split(\" \");\n        if (it.length <= 0)\n            return res;\n        for (let i = 0; i < (it.length) && (i < 2); i++) {\n            if (it[i].indexOf(\"-\") > 0) {\n                let tokens = it[i].split(\"-\");\n                if (tokens.length == 1) {\n                    day = parseInt(tokens[0]);\n                }\n                else if (tokens.length == 2) {\n                    day = parseInt(tokens[1]);\n                    month = parseInt(tokens[0]) - 1;\n                }\n                else {\n                    day = parseInt(tokens[2]);\n                    month = parseInt(tokens[1]) - 1;\n                    year = parseInt(tokens[0]);\n                }\n                dateFound = true;\n            }\n            else if (it[i].indexOf(\":\") > 0) {\n                let tokens = it[i].split(\":\");\n                if (tokens.length == 1) {\n                    hours = parseInt(tokens[0]);\n                }\n                else if (tokens.length == 2) {\n                    hours = parseInt(tokens[0]);\n                    minutes = parseInt(tokens[1]);\n                }\n                else {\n                    hours = parseInt(tokens[0]);\n                    minutes = parseInt(tokens[1]);\n                    seconds = parseFloat(tokens[2]);\n                }\n                timeFound = true;\n            }\n        }\n        if ((!timeFound) && (!dateFound))\n            return res;\n        if (isNaN(year) || isNaN(month) || isNaN(day) || isNaN(hours) || isNaN(minutes) || isNaN(seconds))\n            return res;\n        date.setFullYear(year, month, day);\n        date.setHours(hours, minutes, seconds >> 0, (1000 * (seconds % 1)) >> 0);\n        res.result = date.getTime() / 1000; //- 60*date.getTimezoneOffset();\n        res.success = true;\n        return res;\n    }\n    static tryParseStringToSecTimeSpan(st) {\n        let res = new TimeConverterParseResult();\n        let d = 0;\n        st = st.toUpperCase();\n        let n = st.indexOf(\"D\");\n        if (n > 0) {\n            d = parseFloat(st.substring(0, n));\n            if (isNaN(d)) {\n                return res;\n            }\n            res.result += +d * 86400;\n            if (n == st.length - 1) {\n                res.success = true;\n                return res;\n            }\n            st = st.substring(n + 1);\n        }\n        n = st.indexOf(\"H\");\n        if (n > 0) {\n            d = parseFloat(st.substring(0, n));\n            if (isNaN(d)) {\n                return res;\n            }\n            res.result += d * 3600;\n            if (n == st.length - 1) {\n                res.success = true;\n                return res;\n            }\n            st = st.substring(n + 1);\n        }\n        n = st.indexOf(\"M\");\n        if (n > 0) {\n            d = parseFloat(st.substring(0, n));\n            if (isNaN(d)) {\n                return res;\n            }\n            res.result += d * 60;\n            if (n == st.length - 1) {\n                res.success = true;\n                return res;\n            }\n            st = st.substring(n + 1);\n        }\n        n = st.indexOf(\"S\");\n        if (n < 0)\n            n = st.length;\n        d = parseFloat(st.substring(0, n));\n        if (isNaN(d)) {\n            return res;\n        }\n        res.result += d;\n        res.success = true;\n        return res;\n    }\n    //public static  secTimeSpanToString( timespan:number):string\n    //  { return TimeConverter.secTimeSpanToString( timespan, 0); }\n    static secTimeSpanToString(timespan, resolution) {\n        let started = false;\n        let res = \"\";\n        if (timespan < 0) {\n            res = \"-\";\n            timespan = -timespan;\n        }\n        if (timespan >= 86400) {\n            let d = (timespan / 86400) >> 0;\n            res = res + d.toString() + \"d\";\n            timespan -= 86400 * d;\n            started = true;\n        }\n        if (resolution >= 86400)\n            return res != \"\" ? res : \"0d\";\n        if (timespan >= 3600) {\n            let d = ((timespan / 3600) >> 0);\n            let ds = d.toString();\n            if (started && ds.length == 1)\n                ds = \"0\" + ds;\n            res = res + ds + \"h\";\n            timespan -= 3600 * d;\n            started = true;\n        }\n        if (resolution >= 3600)\n            return res != \"\" ? res : \"0h\";\n        if (timespan < resolution)\n            return res != \"\" ? res : \"0h\";\n        if (timespan >= 60) {\n            let d = (timespan / 60) >> 0;\n            let ds = d.toString();\n            if (started && ds.length == 1)\n                ds = \"0\" + ds;\n            res = res + ds + \"m\";\n            timespan -= 60 * d;\n            started = true;\n        }\n        if (resolution >= 60)\n            return res != \"\" ? res : \"0m\";\n        if (timespan < resolution)\n            return res != \"\" ? res : \"0m\";\n        timespan = Math.round(timespan * 100) / 100;\n        let s;\n        if (resolution > 0.1) {\n            s = timespan.toFixed(0);\n        }\n        else if (resolution > 0.01) {\n            s = timespan.toFixed(1);\n        }\n        else if (resolution > 0.001) {\n            s = timespan.toFixed(2);\n        }\n        else {\n            s = timespan.toString();\n        }\n        if (started && timespan < 10)\n            s = \"0\" + s;\n        res = res + s + \"s\";\n        return res;\n    }\n    static RelativeFormat(dataDeltaTime, viewportDeltaTime, resolution) {\n        let ShowSecondsTenth = true;\n        let ShowSecondsHundredth = true;\n        let ShowSeconds = true;\n        let ShowMinutes = false;\n        let ShowHours = false;\n        let ShowDays = false;\n        if (dataDeltaTime <= 0.10) {\n            ShowSecondsHundredth = true;\n        }\n        if (dataDeltaTime <= 1) {\n            ShowSecondsTenth = true;\n        }\n        if ((dataDeltaTime >= 60) || (viewportDeltaTime >= 60)) {\n            ShowMinutes = true;\n        }\n        if ((dataDeltaTime >= 3600) || (viewportDeltaTime >= 3600)) {\n            ShowHours = true;\n        }\n        if ((dataDeltaTime >= 86400) || (viewportDeltaTime >= 86400)) {\n            ShowDays = true;\n        }\n        if (resolution >= .1)\n            ShowSecondsHundredth = false;\n        if (resolution >= 1)\n            ShowSecondsTenth = false;\n        if (resolution >= 60)\n            ShowSeconds = false;\n        if (resolution >= 3600)\n            ShowMinutes = false;\n        if (resolution >= 86400)\n            ShowHours = false;\n        let format = 0;\n        format |= YDate.isRelative;\n        if (ShowSecondsTenth)\n            format |= YDate.ms1;\n        if (ShowSecondsHundredth)\n            format |= YDate.ms01;\n        if (ShowSeconds)\n            format |= YDate.s;\n        if (ShowMinutes)\n            format |= YDate.m;\n        if (ShowHours)\n            format |= YDate.h;\n        if (ShowDays)\n            format |= YDate.D;\n        return format;\n    }\n    static BestTimeformat(dataDeltaTime, viewportDeltaTime, tref) {\n        let res = new TimeResolution();\n        let ShowSecondsTenth = true;\n        let ShowSecondsHundredth = true;\n        let ShowSeconds = true;\n        let ShowMinutes = false;\n        let ShowHours = false;\n        let ShowDays = false;\n        let ShowMonths = false;\n        let ShowYears = false;\n        if (viewportDeltaTime <= 0.10) {\n            res.step = 0.01;\n        }\n        else if (viewportDeltaTime <= 1) {\n            res.step = 0.1;\n        }\n        else if (viewportDeltaTime <= 2) {\n            res.step = 0.2;\n        }\n        else if (viewportDeltaTime <= 5) {\n            res.step = 0.5;\n        }\n        else if (viewportDeltaTime <= 10) {\n            res.step = 1;\n        }\n        else if (viewportDeltaTime <= 20) {\n            res.step = 2;\n        }\n        else if (viewportDeltaTime <= 30) {\n            res.step = 3;\n        }\n        else if (viewportDeltaTime <= 40) {\n            res.step = 4;\n        }\n        else if (viewportDeltaTime <= 60) {\n            res.step = 5;\n        }\n        else if (viewportDeltaTime <= 120) {\n            res.step = 10;\n        }\n        else if (viewportDeltaTime <= 300) {\n            res.step = 30;\n        }\n        else if (viewportDeltaTime <= 900) {\n            res.step = 60;\n        }\n        else if (viewportDeltaTime <= 1800) {\n            res.step = 180;\n        }\n        else if (viewportDeltaTime <= 3600) {\n            res.step = 300;\n        }\n        else if (viewportDeltaTime <= 7200) {\n            res.step = 600;\n        }\n        else if (viewportDeltaTime <= 14000) {\n            res.step = 900;\n        }\n        else if (viewportDeltaTime <= 21600) {\n            res.step = 1800;\n        }\n        else if (viewportDeltaTime <= 43200) {\n            res.step = 3600;\n        }\n        else if (viewportDeltaTime <= 86400) {\n            res.step = 7200;\n        }\n        else if (viewportDeltaTime <= 2 * 86400) {\n            res.step = 2 * 7200;\n        }\n        else if (viewportDeltaTime <= 4 * 86400) {\n            res.step = 4 * 7200;\n        }\n        else if (viewportDeltaTime <= 7 * 86400) {\n            res.step = 86400;\n        }\n        else if (viewportDeltaTime <= 14 * 86400) {\n            res.step = 2 * 86400;\n        }\n        else if (viewportDeltaTime <= 28 * 86400) {\n            res.step = 4 * 86400;\n        }\n        else if (viewportDeltaTime <= 56 * 86400) {\n            res.step = 7 * 86400;\n        }\n        else if (viewportDeltaTime <= 112 * 86400) {\n            res.step = 14 * 86400;\n        }\n        else if (viewportDeltaTime <= 224 * 86400) {\n            res.step = 31 * 86400;\n        }\n        else if (viewportDeltaTime <= 448 * 86400) {\n            res.step = 62 * 86400;\n        }\n        else if (viewportDeltaTime <= 896 * 86400) {\n            res.step = 93 * 86400;\n        }\n        else {\n            res.step = 365 * 86400;\n        }\n        if (tref == TimeConverter.TimeReference.ABSOLUTE) {\n            ShowSecondsHundredth = true;\n            ShowSecondsTenth = true;\n            ShowMinutes = true;\n            ShowHours = true;\n            ShowDays = dataDeltaTime > 86400;\n            ShowMonths = dataDeltaTime > 86400;\n            ShowYears = dataDeltaTime > 28 * 6 * 86400;\n            if (res.step >= .1)\n                ShowSecondsHundredth = false;\n            if (res.step >= 1)\n                ShowSecondsTenth = false;\n            if (res.step >= 60)\n                ShowSeconds = false;\n            if (res.step >= 3600)\n                ShowMinutes = false;\n            if (res.step >= 86400)\n                ShowHours = false;\n            if (res.step >= 31 * 86400)\n                ShowDays = false;\n            if (res.step >= 365 * 86400)\n                ShowMonths = false;\n            res.format = 0;\n            if (ShowSecondsHundredth)\n                res.format |= YDate.ms01;\n            if (ShowSecondsTenth)\n                res.format |= YDate.ms1;\n            if (ShowSeconds)\n                res.format |= YDate.s;\n            if (ShowMinutes)\n                res.format = res.format |= YDate.m;\n            if (ShowHours)\n                res.format = res.format |= YDate.h;\n            if ((res.format != 0) && (ShowDays || ShowMonths))\n                res.format |= YDate.CR;\n            if (ShowDays)\n                res.format |= YDate.D;\n            if (ShowMonths)\n                res.format |= YDate.M;\n            if (ShowYears)\n                res.format |= YDate.YY;\n            if (res.format == YDate.YY)\n                res.format = YDate.YYYY;\n            /*\n      res.format = \"\";\n      if (ShowSecondsHundredth) res.format = \".ff\";\n      if (ShowSecondsTenth) res.format = \".f\";\n      if (ShowSeconds) res.format = \"ss\" + res.format;\n      if (ShowMinutes) res.format = \"mm\" + (res.format == \"\" ? \"\" : \":\") + res.format;\n      if (ShowHours) res.format = \"HH\" + (res.format == \"\" ? \"\\\\H\" : \":\") + res.format;\n      if ((res.format != \"\") && (ShowDays || ShowMonths)) res.format += \"\\n\";\n      if (ShowDays) res.format = res.format + \"d\";\n      if (ShowMonths) res.format = res.format + \" MMM\";\n      if (ShowYears) res.format = res.format + \" yyyy\";\n  */\n        }\n        else {\n            res.format = TimeConverter.RelativeFormat(dataDeltaTime, viewportDeltaTime, res.step);\n        }\n        return res;\n    }\n}\n(function (TimeConverter) {\n    class TimeReferenceEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, TimeReference);\n        }\n    }\n    TimeConverter.TimeReferenceEnumItem = TimeReferenceEnumItem;\n    // export const enum TimeReference {ABSOLUTE = \"Absolute\", RELATIVE = \"Relative to first data\" }\n    class TimeReference extends YDataRendering.YEnum {\n    }\n    TimeReference.ABSOLUTE = new TimeReferenceEnumItem(\"ABSOLUTE\", \"Absolute\");\n    TimeReference.RELATIVE = new TimeReferenceEnumItem(\"RELATIVE\", \"Relative to first data\");\n    TimeConverter.TimeReference = TimeReference;\n})(TimeConverter || (TimeConverter = {}));\nexport class MinMax {\n    constructor(minimum, maximum) {\n        this.Min = 0;\n        this.Max = 0;\n        this.Min = minimum;\n        this.Max = maximum;\n    }\n}\nexport class MinMaxHandler {\n    static extend(M, factor) {\n        if (isNaN(M.Min))\n            return M;\n        let delta = M.Max - M.Min;\n        return new MinMax(M.Min - (delta * (factor - 1)) / 2, M.Max + (delta * (factor - 1)) / 2);\n    }\n    static DefaultValue(value1, value2) {\n        if (typeof value2 === \"undefined\") {\n            if (typeof value1 === \"undefined\")\n                return new MinMax(Number.NaN, Number.NaN);\n            return new MinMax(value1, value1);\n        }\n        if (typeof value1 === \"undefined\")\n            return new MinMax(value2, value2);\n        if (value2 < value1)\n            throw new RangeError(\"MinMax invalid parameters (\" + value1.toString() + \">\" + value2.toString());\n        return new MinMax(value1, value2);\n    }\n    static isDefined(v) {\n        return !isNaN(v.Min);\n    }\n    static Combine(M1, M2) {\n        if (isNaN(M1.Min))\n            return new MinMax(M2.Min, M2.Max);\n        if (isNaN(M2.Min))\n            return new MinMax(M1.Min, M1.Max);\n        let res = new MinMax(M2.Min, M2.Max);\n        if (M1.Min < res.Min)\n            res.Min = M1.Min;\n        if (M1.Max < res.Min)\n            res.Min = M1.Max;\n        if (M1.Min > res.Max)\n            res.Max = M1.Min;\n        if (M1.Max > res.Max)\n            res.Max = M1.Max;\n        return res;\n    }\n    static CombineWithNumber(M1, value) {\n        if (isNaN(M1.Min))\n            return new MinMax(value, value);\n        if (value < M1.Min)\n            return new MinMax(value, M1.Max);\n        if (value > M1.Max)\n            return new MinMax(M1.Min, value);\n        return new MinMax(M1.Min, M1.Max);\n    }\n}\nexport class DataSegment {\n    static ArrayCopy(sourceArray, sourceIndex, destinationArray, destinationIndex, length) {\n        for (let i = 0; i < length; i++) {\n            destinationArray[destinationIndex + i] = sourceArray[sourceIndex + i].clone();\n        }\n    }\n    constructor(p) {\n        this.data = [];\n        this.count = 0;\n        if (p instanceof Array) {\n            this.data = new Array(p.length);\n            DataSegment.ArrayCopy(p, 0, this.data, 0, p.length);\n            this.count = p.length;\n        }\n        else if (p instanceof pointXY) { /*\n       this.data = new Array();\n       this.data.push(p);\n       this.count =1;\n       while (this.data.length <  DataSegment.SegmentGranularity) { this.data.push(new pointXY()); }\n       */\n            this.data = new Array(DataSegment.SegmentGranularity);\n            this.data[0] = p;\n            this.count = 1;\n        }\n        else {\n            throw new Error(\"invalid constructor paramter type\");\n        }\n    }\n    grow() {\n        let targetCount = this.data.length + DataSegment.SegmentGranularity;\n        while (this.data.length < targetCount) {\n            this.data.push(null);\n        }\n    }\n}\nDataSegment.SegmentGranularity = 1000;\nexport class DataSerie {\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    static get MaxPointsPerSeries() { return DataSerie._MaxPointsPerSeries; }\n    static set MaxPointsPerSeries(value) { DataSerie._MaxPointsPerSeries = value; }\n    get timeRange() { return this._timeRange; }\n    get valueRange() { return this._valueRange; }\n    constructor(parent) {\n        this.totalPointCount = 0;\n        this._userData = null;\n        this._yAxisIndex = 0;\n        this._pen = null;\n        this._legendPen = null;\n        this._brush = null;\n        this._navigatorpen = null;\n        this._visible = true; // whet not visible, series is  not shown but still intervene in Axis auto range calculus\n        this._disabled = false; // when series is disabled,rendering acts just like to series does not exists\n        this._color = YDataRendering.YColor.Black;\n        this._thickness = 1.0;\n        this._legend = \"\";\n        this._unit = \"\";\n        this.segments = [];\n        if (parent.yAxes.length <= 0)\n            throw new Error(\"Define at least one yAxis\");\n        this._timeRange = MinMaxHandler.DefaultValue();\n        this._valueRange = MinMaxHandler.DefaultValue();\n        this.parent = parent;\n    }\n    get yAxisIndex() { return this._yAxisIndex; }\n    set yAxisIndex(value) {\n        if (value >= this.parent.yAxes.length)\n            throw new RangeError(\"No such yAxis (\" + value.toString() + \")\");\n        this._yAxisIndex = value;\n        this.parent.yAxes[this._yAxisIndex].AutoShow();\n    }\n    get pen() {\n        if (this._pen == null) {\n            this._pen = new YDataRendering.YPen(this._color, this._thickness);\n            this._pen.endCap = 2 /* YDataRendering.YPen.LineCap.Round */;\n            this._pen.linejoin = YDataRendering.YPen.LineJoin.Round;\n        }\n        return this._pen;\n    }\n    get legendPen() {\n        if (this._legendPen == null) {\n            this._legendPen = new YDataRendering.YPen(this._color, this._thickness * this.parent.legendPanel.traceWidthFactor);\n        }\n        return this._legendPen;\n    }\n    resetlegendPen() { this._legendPen = null; }\n    get brush() {\n        if (this._brush == null)\n            this._brush = new YDataRendering.YSolidBrush(this._color);\n        return this._brush;\n    }\n    get navigatorpen() {\n        if (this._navigatorpen == null) {\n            this._navigatorpen = new YDataRendering.YPen(YDataRendering.YColor.FromArgb(100, this._color.red, this._color.green, this._color.blue), 1.0);\n        }\n        return this._navigatorpen;\n    }\n    get visible() { return this._visible; }\n    set visible(value) {\n        this._visible = value;\n        this.parent.redraw();\n    }\n    get disabled() { return this._disabled; }\n    set disabled(value) {\n        this._disabled = value;\n        this.parent.redraw();\n    }\n    get color() { return this._color; }\n    set color(value) {\n        this._color = value;\n        this._pen = null;\n        this._legendPen = null;\n        this._brush = null;\n        this._navigatorpen = null;\n        this.parent.redraw();\n    }\n    get thickness() { return this._thickness; }\n    set thickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._thickness = value;\n        this._pen = null;\n        this._legendPen = null;\n        this.parent.redraw();\n    }\n    get legend() { return this._legend; }\n    set legend(value) {\n        this._legend = value;\n        this.parent.redraw();\n    }\n    get unit() { return this._unit; }\n    set unit(value) {\n        this._unit = value;\n        this.parent.redraw();\n    }\n    AddNewSegment(p) {\n        this.segments.splice(0, 0, new DataSegment(p));\n    }\n    getlastPoint() {\n        if (this.segments.length <= 0) {\n            return new pointXY(NaN, NaN);\n        }\n        return this.segments[this.segments.length - 1].data[this.segments[this.segments.length - 1].count - 1];\n    }\n    AddPoint(p) {\n        this._timeRange = MinMaxHandler.CombineWithNumber(this._timeRange, p.x);\n        this._valueRange = MinMaxHandler.CombineWithNumber(this._valueRange, p.y);\n        if (this.segments.length <= 0) {\n            this.AddNewSegment(p);\n            this.totalPointCount++;\n            return;\n        }\n        else if (this.segments[0].count > 1) {\n            let delta1 = this.segments[0].data[this.segments[0].count - 1].x - this.segments[0].data[this.segments[0].count - 2].x;\n            let delta2 = p.x - this.segments[0].data[this.segments[0].count - 1].x;\n            if ((delta2 > 0.1) && ((delta2 < 0) || (delta2 > 2 * delta1))) {\n                this.AddNewSegment(p);\n                return;\n            }\n            else if (this.segments[0].count >= this.segments[0].data.length)\n                this.segments[0].grow();\n        }\n        this.segments[0].data[this.segments[0].count] = p;\n        this.segments[0].count++;\n        this.totalPointCount++;\n        if ((DataSerie._MaxPointsPerSeries > 0) && (this.totalPointCount > DataSerie._MaxPointsPerSeries))\n            this.dataCleanUp();\n        this.parent.adjustGlobalTimeRange(p.x);\n        this.parent.redraw();\n    }\n    dataCleanUp() {\n        if (this.segments.length <= 0)\n            return;\n        let newLimit = ((DataSerie._MaxPointsPerSeries * 90) / 100);\n        while (this.segments[this.segments.length - 1].count <= (this.totalPointCount - newLimit)) {\n            this.totalPointCount -= this.segments[this.segments.length - 1].count;\n            this.segments.splice(this.segments.length - 1, 1);\n        }\n        if (this.totalPointCount > newLimit) {\n            let delta = this.totalPointCount - newLimit;\n            let newsize = this.segments[this.segments.length - 1].count - delta;\n            let newdata = new Array(newsize);\n            DataSegment.ArrayCopy(this.segments[this.segments.length - 1].data, delta, newdata, 0, this.segments[this.segments.length - 1].count - delta);\n            this.segments[this.segments.length - 1].data = newdata;\n            this.segments[this.segments.length - 1].count -= delta;\n            this.totalPointCount -= delta;\n        }\n        let tmin = this.segments[0].data[0].x;\n        let tmax = this.segments[0].data[0].x;\n        let ymin = this.segments[0].data[0].y;\n        let ymax = this.segments[0].data[0].y;\n        for (let i = 0; i < this.segments.length; i++) {\n            let count = this.segments[i].count;\n            if (tmin > this.segments[i].data[0].x)\n                tmin = this.segments[i].data[0].x;\n            if (tmax < this.segments[i].data[count - 1].x)\n                tmax = this.segments[i].data[count - 1].x;\n            for (let j = 0; j < count; j++) {\n                if (ymin > this.segments[i].data[j].y)\n                    ymin = this.segments[i].data[j].y;\n                if (ymax < this.segments[i].data[j].y)\n                    ymax = this.segments[i].data[j].y;\n            }\n        }\n        this._timeRange.Min = tmin;\n        this._timeRange.Max = tmax;\n        this._valueRange.Min = ymin;\n        this._valueRange.Max = ymax;\n    }\n    InsertPoints(points) {\n        if (points.length == 0)\n            return;\n        if (points.length == 1) {\n            this._timeRange = MinMaxHandler.CombineWithNumber(this._timeRange, points[0].x);\n            this._valueRange = MinMaxHandler.CombineWithNumber(this._valueRange, points[0].y);\n            return;\n        }\n        let FirstStep = points[1].x - points[0].x;\n        let LastStep = points[points.length - 1].x - points[points.length - 2].x;\n        let InsertAtBegining = -1;\n        let InsertAtEnd = -1;\n        //int sz = System.Runtime.InteropServices.Marshal.SizeOf(typeof(pointXY));\n        // can we merge with one already existing segment ?\n        for (let i = 0; i < this.segments.length; i++) {\n            if (this.segments[i].count > 1) {\n                let DeltaInsertAtBegining = this.segments[i].data[0].x - points[points.length - 1].x;\n                let DeltaInsertAtEnd = points[0].x - this.segments[i].data[this.segments[i].count - 1].x;\n                if ((DeltaInsertAtBegining > 0) && (DeltaInsertAtBegining < 2 * FirstStep))\n                    InsertAtBegining = i;\n                if ((DeltaInsertAtEnd > 0) && (DeltaInsertAtEnd < 2 * LastStep))\n                    InsertAtEnd = i;\n            }\n        }\n        if (InsertAtBegining >= 0) // insert at the beginning of segments[InsertAtBeginning]\n         {\n            if (this.segments[InsertAtBegining].count + points.length >= this.segments[InsertAtBegining].data.length)\n                this.segments[InsertAtBegining].grow();\n            DataSegment.ArrayCopy(this.segments[InsertAtBegining].data, 0, this.segments[InsertAtBegining].data, points.length, this.segments[InsertAtBegining].count);\n            DataSegment.ArrayCopy(points, 0, this.segments[InsertAtBegining].data, 0, points.length);\n            this.segments[InsertAtBegining].count += points.length;\n            this.totalPointCount += points.length;\n        }\n        else if (InsertAtEnd >= 0) // insert at the end of segments[InsertAtEnd]\n         {\n            if (this.segments[InsertAtEnd].count + points.length >= this.segments[InsertAtEnd].data.length)\n                this.segments[InsertAtEnd].grow();\n            DataSegment.ArrayCopy(points, 0, this.segments[InsertAtEnd].data, this.segments[InsertAtEnd].count, points.length);\n            this.segments[InsertAtEnd].count += points.length;\n            this.totalPointCount += points.length;\n        }\n        else // create a whole new segment\n         {\n            this.segments.push(new DataSegment(points));\n            this.totalPointCount += points.length;\n        }\n        this._timeRange = MinMaxHandler.CombineWithNumber(this._timeRange, points[0].x);\n        this._timeRange = MinMaxHandler.CombineWithNumber(this._timeRange, points[points.length - 1].x);\n        for (let i = 0; i < points.length; i++) {\n            this._valueRange = MinMaxHandler.CombineWithNumber(this._valueRange, points[i].y);\n        }\n        if ((DataSerie._MaxPointsPerSeries > 0) && (this.totalPointCount > DataSerie._MaxPointsPerSeries))\n            this.dataCleanUp();\n        this.parent.redraw();\n    }\n    static CompareSegments(a, b) {\n        if (a.data[0].x > b.data[0].x)\n            return -1;\n        if (a.data[0].x < b.data[0].x)\n            return 1;\n        return 0;\n    }\n    getData() {\n        let res = [];\n        this.segments.sort(DataSerie.CompareSegments);\n        for (let i = this.segments.length - 1; i >= 0; i--) {\n            for (let j = 0; j < this.segments[i].count; j++) {\n                res.push(this.segments[i].data[j]);\n            }\n        }\n        return res;\n    }\n    findClosestValue(x, AllowInterpolation) {\n        let N1 = 0;\n        let N2 = 0;\n        let Pos = 0;\n        if (this.segments.length <= 0)\n            return null;\n        // check for best match inside segments\n        for (let i = 0; i < this.segments.length; i++) {\n            if ((x >= this.segments[i].data[0].x) && (x <= this.segments[i].data[this.segments[i].count - 1].x)) {\n                let data = this.segments[i].data;\n                N1 = 0;\n                N2 = this.segments[i].count - 1;\n                while (N2 - N1 > 1) {\n                    let N = (N1 + N2) >> 1;\n                    if (data[N].x > x)\n                        N2 = N;\n                    else\n                        N1 = N;\n                }\n                Pos = N1 - 1;\n                if (Pos < 0)\n                    Pos = 0;\n                if (!AllowInterpolation) {\n                    if (x - data[Pos].x < data[Pos + 1].x - x)\n                        return data[Pos];\n                    else\n                        return data[Pos + 1];\n                }\n                else {\n                    Pos++;\n                    if (x == data[Pos].x)\n                        return data[Pos];\n                    if (x == data[Pos + 1].x)\n                        return data[Pos + 1];\n                    let p = new pointXY();\n                    p.x = x;\n                    p.y = data[Pos].y + (data[Pos + 1].y - data[Pos].y) * (x - data[Pos].x) / (data[Pos + 1].x - data[Pos].x);\n                    return p;\n                }\n            }\n        }\n        if (AllowInterpolation)\n            return null;\n        // check for best match outside segments\n        try {\n            this.segments[0].data[0].clone();\n        }\n        catch (e) {\n            debugger;\n        }\n        let match = this.segments[0].data[0];\n        let delta = Math.abs(this.segments[0].data[0].x - x);\n        for (let i = 0; i < this.segments.length; i++) {\n            let d1 = Math.abs(this.segments[i].data[0].x - x);\n            let d2 = Math.abs(this.segments[i].data[this.segments[i].count - 1].x - x);\n            if (d1 < delta) {\n                match = this.segments[i].data[0];\n                delta = d1;\n            }\n            if (d2 < delta) {\n                match = this.segments[i].data[this.segments[i].count - 1];\n                delta = d2;\n            }\n        }\n        return match.clone();\n    }\n    clear() {\n        this.segments = [];\n        this._timeRange = MinMaxHandler.DefaultValue();\n        this._valueRange = MinMaxHandler.DefaultValue();\n        this.parent.clearCachedObjects();\n        this.totalPointCount = 0;\n    }\n}\nDataSerie._MaxPointsPerSeries = 0;\nexport class DataTracker {\n    get directParent() { return this._directParent; }\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._enabled = false;\n        this._showSerieName = false;\n        this._showTimeStamp = false;\n        this._dataPrecisionString = \"\";\n        this._dataPrecision = DataTracker.DataPrecision.PRECISION_NOLIMIT;\n        this._diameter = 5;\n        this._handleLength = 25;\n        this._detectionDistance = 50;\n        this._bgColor = YDataRendering.YColor.FromArgb(200, 255, 255, 255);\n        this._borderColor = YDataRendering.YColor.Black;\n        this._borderthickness = 1.0;\n        this._padding = 10;\n        this._verticalMargin = 10;\n        this._horizontalMargin = 10;\n        this._bgBrush = null;\n        this._pen = null;\n        this._font = null;\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._font = new YDataRendering.YFont(parent, this, 8, null);\n    }\n    get enabled() { return this._enabled; }\n    set enabled(value) {\n        this._enabled = value;\n        this._parentRenderer.redraw();\n    }\n    get showSerieName() { return this._showSerieName; }\n    set showSerieName(value) {\n        this._showSerieName = value;\n        this._parentRenderer.redraw();\n    }\n    get showTimeStamp() { return this._showTimeStamp; }\n    set showTimeStamp(value) {\n        this._showTimeStamp = value;\n        this._parentRenderer.redraw();\n    }\n    get dataPrecisionString() { return this._dataPrecisionString; }\n    get dataPrecision() { return this._dataPrecision; }\n    set dataPrecision(value) {\n        this._dataPrecision = value;\n        this.compute_dataPrecisionString();\n        this._parentRenderer.redraw();\n    }\n    compute_dataPrecisionString() {\n        if (this._dataPrecision == DataTracker.DataPrecision.PRECISION_NOLIMIT) {\n            this._dataPrecisionString = \"\";\n            return;\n        }\n        this._dataPrecisionString = \"0.\";\n        // FIXME\n        // for (let i: number = 1; i < this._dataPrecision; i++) this._dataPrecisionString += \"#\";\n    }\n    get diameter() { return this._diameter; }\n    set diameter(value) {\n        if (value < 0)\n            throw new RangeError(\"Diameter must be a positive value\");\n        this._diameter = value;\n        this._parentRenderer.redraw();\n    }\n    get handleLength() { return this._handleLength; }\n    set handleLength(value) {\n        if (value < 0)\n            throw new RangeError(\"Hanle length must be a positive value\");\n        this._handleLength = value;\n        this._parentRenderer.redraw();\n    }\n    get detectionDistance() { return this._detectionDistance; }\n    set detectionDistance(value) {\n        if (value <= 0)\n            throw new RangeError(\"Distance must be a positive value\");\n        this._detectionDistance = value;\n    }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) {\n        this._bgColor = value;\n        this._bgBrush = null;\n        this._parentRenderer.redraw();\n    }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._borderthickness = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get padding() { return this._padding; }\n    set padding(value) {\n        if (value < 0)\n            throw new RangeError(\"Padding must be a positive value\");\n        this._padding = value;\n        this._parentRenderer.redraw();\n    }\n    get verticalMargin() { return this._verticalMargin; }\n    set verticalMargin(value) {\n        if (value < 0)\n            throw new RangeError(\"Margin must be a positive value\");\n        this._verticalMargin = value;\n        this._parentRenderer.redraw();\n    }\n    get horizontalMargin() { return this._horizontalMargin; }\n    set horizontalMargin(value) {\n        if (value < 0)\n            throw new RangeError(\"Margin must be a positive value\");\n        this._horizontalMargin = value;\n        this._parentRenderer.redraw();\n    }\n    get bgBrush() {\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YSolidBrush(this._bgColor);\n        }\n        return this._bgBrush;\n    }\n    get pen() {\n        if (this._pen == null)\n            this._pen = new YDataRendering.YPen(this._borderColor, this._borderthickness, true);\n        return this._pen;\n    }\n    get font() { return this._font; }\n}\n(function (DataTracker) {\n    class DataPrecisionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, DataPrecision);\n        }\n    }\n    DataTracker.DataPrecisionEnumItem = DataPrecisionEnumItem;\n    class DataPrecision extends YDataRendering.YEnum {\n    }\n    DataPrecision.PRECISION_NOLIMIT = new DataPrecisionEnumItem(\"PRECISION_NOLIMIT\", \"As is\");\n    DataPrecision.PRECISION_1 = new DataPrecisionEnumItem(\"PRECISION_1\", \"1\");\n    DataPrecision.PRECISION_01 = new DataPrecisionEnumItem(\"PRECISION_01\", \"0.1\");\n    DataPrecision.PRECISION_001 = new DataPrecisionEnumItem(\"PRECISION_001\", \"0.01\");\n    DataPrecision.PRECISION_0001 = new DataPrecisionEnumItem(\"PRECISION_0001\", \"0.001\");\n    DataPrecision.PRECISION_00001 = new DataPrecisionEnumItem(\"PRECISION_00001\", \"0.0001\");\n    DataPrecision.PRECISION_000001 = new DataPrecisionEnumItem(\"PRECISION_000001\", \"0.00001\");\n    DataPrecision.PRECISION_0000001 = new DataPrecisionEnumItem(\"PRECISION_0000001\", \"0.000001\");\n    DataPrecision.PRECISION_00000001 = new DataPrecisionEnumItem(\"PRECISION_00000001\", \"0.0000001\");\n    DataPrecision.PRECISION_000000001 = new DataPrecisionEnumItem(\"PRECISION_000000001\", \"0.00000001\");\n    DataPrecision.PRECISION_0000000001 = new DataPrecisionEnumItem(\"PRECISION_0000000001\", \"0.000000001\");\n    DataTracker.DataPrecision = DataPrecision;\n})(DataTracker || (DataTracker = {}));\nexport class LegendPanel {\n    get directParent() { return this._directParent; }\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    get traceWidthFactor() { return this._traceWidth; }\n    set traceWidthFactor(value) {\n        if (value <= 0)\n            throw new RangeError(\"This has to be a strictly positive value\");\n        this._traceWidth = value;\n        this._parentRenderer.resetlegendPens();\n        this._parentRenderer.redraw();\n    }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._traceWidth = 1.0;\n        this._enabled = false;\n        this._position = LegendPanel.Position.BOTTOM;\n        this._overlap = false;\n        this._bgColor = YDataRendering.YColor.FromArgb(200, 255, 255, 255);\n        this._borderColor = YDataRendering.YColor.Black;\n        this._borderthickness = 1.0;\n        this._padding = 10;\n        this._verticalMargin = 10;\n        this._horizontalMargin = 10;\n        this._bgBrush = null;\n        this._pen = null;\n        this._font = null;\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._font = new YDataRendering.YFont(parent, this, 8, null);\n    }\n    get enabled() { return this._enabled; }\n    set enabled(value) {\n        this._enabled = value;\n        this._parentRenderer.redraw();\n    }\n    get position() { return this._position; }\n    set position(value) {\n        this._position = value;\n        this._parentRenderer.redraw();\n    }\n    get overlap() { return this._overlap; }\n    set overlap(value) {\n        this._overlap = value;\n        this._parentRenderer.redraw();\n    }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) {\n        this._bgColor = value;\n        this._bgBrush = null;\n        this._parentRenderer.redraw();\n    }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._borderthickness = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get padding() { return this._padding; }\n    set padding(value) {\n        if (value < 0)\n            throw new RangeError(\"Padding must be a positive value\");\n        this._padding = value;\n        this._parentRenderer.redraw();\n    }\n    get verticalMargin() { return this._verticalMargin; }\n    set verticalMargin(value) {\n        if (value < 0)\n            throw new RangeError(\"Margin must be a positive value\");\n        this._verticalMargin = value;\n        this._parentRenderer.redraw();\n    }\n    get horizontalMargin() { return this._horizontalMargin; }\n    set horizontalMargin(value) {\n        if (value < 0)\n            throw new RangeError(\"Margin must be a positive value\");\n        this._horizontalMargin = value;\n        this._parentRenderer.redraw();\n    }\n    get bgBrush() {\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YSolidBrush(this._bgColor);\n        }\n        return this._bgBrush;\n    }\n    get pen() {\n        if (this._pen == null)\n            this._pen = new YDataRendering.YPen(this._borderColor, this._borderthickness, true);\n        return this._pen;\n    }\n    get font() { return this._font; }\n}\n(function (LegendPanel) {\n    class PositionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, Position);\n        }\n    }\n    LegendPanel.PositionEnumItem = PositionEnumItem;\n    class Position extends YDataRendering.YEnum {\n    }\n    Position.LEFT = new PositionEnumItem(\"LEFT\", \"Left\");\n    Position.TOPLEFT = new PositionEnumItem(\"TOPLEFT\", \"Top-Left\");\n    Position.TOP = new PositionEnumItem(\"TOP\", \"Top\");\n    Position.TOPRIGHT = new PositionEnumItem(\"TOPRIGHT\", \"Top-Right\");\n    Position.RIGHT = new PositionEnumItem(\"RIGHT\", \"Right\");\n    Position.BOTTOMRIGHT = new PositionEnumItem(\"BOTTOMRIGHT\", \"Bottom-Right\");\n    Position.BOTTOM = new PositionEnumItem(\"BOTTOM\", \"Bottom\");\n    Position.BOTTOMLEFT = new PositionEnumItem(\"BOTTOMLEFT\", \"Bottom-Left\");\n    LegendPanel.Position = Position;\n})(LegendPanel || (LegendPanel = {}));\nexport class Navigator {\n    get directParent() { return this._directParent; }\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    get showXAxisZones() { return this._showXAxisZones; }\n    set showXAxisZones(value) { this._showXAxisZones = value; }\n    get relativeheight() { return this._relativeheight; }\n    set relativeheight(value) {\n        if (value < 10)\n            value = 10;\n        if (value > 50)\n            value = 50;\n        this._relativeheight = value;\n        this._parentRenderer.redraw();\n    }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._viewport = new YDataRendering.ViewPortSettings();\n        this.Xrange = null;\n        this._showXAxisZones = true;\n        this._relativeheight = 10;\n        this._enabled = false;\n        this._bgColor1 = YDataRendering.YColor.FromArgb(255, 225, 225, 225);\n        this._cursorBorderColor = YDataRendering.YColor.FromArgb(255, 40, 40, 40);\n        this._yAxisHandling = Navigator.YAxisHandling.AUTO;\n        this._bgColor2 = YDataRendering.YColor.FromArgb(255, 225, 225, 225);\n        this._cursorColor = YDataRendering.YColor.FromArgb(100, 0, 255, 0);\n        this._cursorBrush = null;\n        this._pen = null;\n        this._cursorBorderPen = null;\n        this._xAxisColor = YDataRendering.YColor.Black;\n        this._xAxisThickness = 1.0;\n        this._borderPen = null;\n        this._borderColor = YDataRendering.YColor.DimGray;\n        this._borderThickness = 1.0;\n        this._bgBrush = null;\n        this._font = null;\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._font = new YDataRendering.YFont(parent, this, 8, null);\n    }\n    get enabled() { return this._enabled; }\n    set enabled(value) {\n        this._enabled = value;\n        this._parentRenderer.redraw();\n    }\n    get bgColor1() { return this._bgColor1; }\n    set bgColor1(value) {\n        this._bgColor1 = value;\n        this._bgBrush = null;\n        this._parentRenderer.redraw();\n    }\n    get cursorBorderColor() { return this._cursorBorderColor; }\n    set cursorBorderColor(value) {\n        this._cursorBorderColor = value;\n        this._cursorBorderPen = null;\n        this._parentRenderer.redraw();\n    }\n    get yAxisHandling() { return this._yAxisHandling; }\n    set yAxisHandling(value) {\n        this._yAxisHandling = value;\n        this._parentRenderer.redraw();\n    }\n    get bgColor2() { return this._bgColor2; }\n    set bgColor2(value) {\n        this._bgColor2 = value;\n        this._bgBrush = null;\n        this._parentRenderer.redraw();\n    }\n    get cursorColor() { return this._cursorColor; }\n    set cursorColor(value) {\n        this._cursorColor = value;\n        this._cursorBrush = null;\n        this._parentRenderer.redraw();\n    }\n    get cursorBrush() {\n        if (this._cursorBrush == null) {\n            this._cursorBrush = new YDataRendering.YSolidBrush(this._cursorColor);\n        }\n        return this._cursorBrush;\n    }\n    get pen() {\n        if (this._pen == null)\n            this._pen = new YDataRendering.YPen(this._xAxisColor, this._xAxisThickness, true);\n        return this._pen;\n    }\n    get cursorBorderPen() {\n        if (this._cursorBorderPen == null)\n            this._cursorBorderPen = new YDataRendering.YPen(this._cursorBorderColor, 1, true);\n        return this._cursorBorderPen;\n    }\n    get xAxisColor() { return this._xAxisColor; }\n    set xAxisColor(value) {\n        this._xAxisColor = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get xAxisThickness() { return this._xAxisThickness; }\n    set xAxisThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._xAxisThickness = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get borderPen() {\n        if (this._borderPen == null)\n            this._borderPen = new YDataRendering.YPen(this._borderColor, this._borderThickness, true);\n        return this._borderPen;\n    }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._borderPen = null;\n        this._parentRenderer.redraw();\n    }\n    get borderThickness() { return this._borderThickness; }\n    set borderThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._borderThickness = value;\n        this._borderPen = null;\n        this._parentRenderer.redraw();\n    }\n    setPosition(ParentWidth, ParentHeight, Lmargin, Rmargin, Tmargin, Bmargin) {\n        if ((this._viewport.Lmargin != Lmargin) || (this._viewport.Rmargin != Rmargin)\n            || (this._viewport.Tmargin != Tmargin) || (this._viewport.Bmargin != Bmargin)) {\n            this._bgBrush = null;\n        }\n        this._viewport.Lmargin = Lmargin;\n        this._viewport.Rmargin = Rmargin;\n        this._viewport.Bmargin = Bmargin;\n        this._viewport.Tmargin = Tmargin;\n        this._viewport.Width = ParentWidth;\n        this._viewport.Height = ParentHeight;\n    }\n    setIRLPosition(IRLx, IRLy, xZoom, yZoom) {\n        this._viewport.IRLx = IRLx;\n        this._viewport.IRLy = IRLy;\n        this._viewport.zoomx = xZoom;\n        this._viewport.zoomy = yZoom;\n    }\n    startCapture(IRLStartPoint, xAxisMin, xAxisMax) {\n        this._viewport.OriginalXAxisMin = xAxisMin;\n        this._viewport.OriginalXAxisMax = xAxisMax;\n        this._viewport.OriginalIRLx = this._viewport.IRLx;\n        this._viewport.OriginalLmargin = this._viewport.Lmargin;\n        this._viewport.OriginalZoomx = this._viewport.zoomx;\n        this._viewport.IRLCaptureStartX = IRLStartPoint.x;\n        this._viewport.Capture = true;\n    }\n    get Capture() { return this._viewport.Capture; }\n    stopCapture() { this._viewport.Capture = false; }\n    get viewport() { return this._viewport; }\n    get bgBrush() {\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YLinearGradientBrush(this._bgColor1, this._bgColor2);\n        }\n        return this._bgBrush;\n    }\n    get font() { return this._font; }\n}\n(function (Navigator) {\n    class YAxisHandlingEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, YAxisHandling);\n        }\n    }\n    Navigator.YAxisHandlingEnumItem = YAxisHandlingEnumItem;\n    class YAxisHandling extends YDataRendering.YEnum {\n    }\n    YAxisHandling.AUTO = new YAxisHandlingEnumItem(\"AUTO\", \"Automatic\");\n    YAxisHandling.INHERIT = new YAxisHandlingEnumItem(\"INHERIT\", \"Inherit from main view\");\n    Navigator.YAxisHandling = YAxisHandling;\n})(Navigator || (Navigator = {}));\nexport class Marker {\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    static _round100(v) { return Math.round(100 * v) / 100; }\n    get stringFormat() {\n        if (this._stringFormat != null)\n            return this._stringFormat;\n        this._stringFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        this._stringFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n        switch (this._textAlign) {\n            case Marker.TextAlign.LEFT:\n                this._stringFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                break;\n            case Marker.TextAlign.CENTER:\n                this._stringFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                break;\n            case Marker.TextAlign.RIGHT:\n                this._stringFormat.Alignment = 2 /* YDataRendering.YStringFormat.StringAlignment.Far */;\n                break;\n        }\n        return this._stringFormat;\n    }\n    get PatchTextCallback() { return this._MarkerTextCallback; }\n    set PatchTextCallback(callback) { this._MarkerTextCallback = callback; }\n    get directParent() { return this._directParent; }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._stringFormat = null;\n        this._MarkerTextCallback = null;\n        this._enabled = false;\n        this._xposition = 0.0;\n        this._xpositionIsRelative = false;\n        this._yposition = 92.0;\n        this._text = \"Marker\";\n        this._textAlign = Marker.TextAlign.CENTER;\n        this._bgColor = YDataRendering.YColor.FromArgb(255, 255, 255, 192);\n        this._borderColor = YDataRendering.YColor.DarkRed;\n        this._borderthickness = 1;\n        this._arrowSize = 5;\n        this._padding = 5;\n        this._verticalMargin = 5;\n        this._horizontalMargin = 5;\n        this._bgBrush = null;\n        this._arrowBrush = null;\n        this._pen = null;\n        this._navigatorpen = null;\n        this._font = null;\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._font = new YDataRendering.YFont(parent, this, 8, null);\n    }\n    startCapture() {\n        this._parentRenderer.startMarkerCapture(this);\n    }\n    setCapturedPosition(position, axis) {\n        this.enabled = true;\n        this._xpositionIsRelative = (axis.timeReference == TimeConverter.TimeReference.RELATIVE) && axis.zeroTime > 0;\n        this._xposition = Marker._round100(this._xpositionIsRelative ? position - axis.zeroTime : position);\n        this._parentRenderer.clearCachedObjects();\n        this._parentRenderer.redraw();\n    }\n    get enabled() { return this._enabled; }\n    set enabled(value) {\n        if (this._enabled != value) {\n            this._enabled = value;\n            this._parentRenderer.clearCachedObjects();\n            this._parentRenderer.redraw();\n        }\n    }\n    get xposition() { return this._xposition; }\n    set xposition(value) {\n        this._xposition = Marker._round100(value);\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get timereference() { return this._xpositionIsRelative ? TimeConverter.TimeReference.RELATIVE : TimeConverter.TimeReference.ABSOLUTE; }\n    set timereference(value) {\n        let v = value == TimeConverter.TimeReference.RELATIVE;\n        if (this._xpositionIsRelative != v) {\n            let ZeroPosition = this._directParent.zeroTime;\n            if (isNaN(ZeroPosition))\n                ZeroPosition = 0;\n            if (v) {\n                this._xpositionIsRelative = true;\n                this._xposition -= ZeroPosition;\n            }\n            else {\n                this._xpositionIsRelative = false;\n                this._xposition += ZeroPosition;\n            }\n            this._xposition = Marker._round100(this._xposition);\n            this._parentRenderer.redraw();\n        }\n    }\n    // a special variant which also to get/set both xposition and xpositionIsRelative at the same time\n    // and allow to start position capture as well.\n    get positionOnXAxis() { return new xAxisPosition(this._xposition, this._xpositionIsRelative); }\n    set positionOnXAxis(value) {\n        if (value.capture) {\n            this.startCapture();\n        }\n        else {\n            let v = Marker._round100(value.value);\n            if ((this._xpositionIsRelative != value.relative) || (this._xposition != v)) {\n                this._xposition = v;\n                this._xpositionIsRelative = value.relative;\n                if (this._enabled)\n                    this._parentRenderer.redraw();\n            }\n        }\n    }\n    get yposition() { return this._yposition; }\n    set yposition(value) {\n        this._yposition = Math.min(100, Math.max(0, value));\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get text() { return this._text; }\n    set text(value) {\n        this._text = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get textAlign() { return this._textAlign; }\n    set textAlign(value) {\n        this._textAlign = value;\n        this._stringFormat = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get shortText() {\n        if (this._text.length <= 20)\n            return this._text;\n        return this._text.substring(0, 18) + \"..\";\n    }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) {\n        this._bgColor = value;\n        this._bgBrush = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._arrowBrush = null;\n        this._pen = null;\n        this._navigatorpen = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) {\n        if (value < 0)\n            throw new RangeError(\"thickness must be a positive value\");\n        this._borderthickness = value;\n        this._parentRenderer.clearCachedObjects();\n        this._pen = null;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get arrowSize() { return this._arrowSize; }\n    set arrowSize(value) {\n        this._arrowSize = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get padding() { return this._padding; }\n    set padding(value) {\n        if (value < 0)\n            throw new RangeError(\"Padding must be a positive value\");\n        this._padding = value;\n        this._parentRenderer.clearCachedObjects();\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get verticalMargin() { return this._verticalMargin; }\n    set verticalMargin(value) {\n        this._verticalMargin = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get horizontalMargin() { return this._horizontalMargin; }\n    set horizontalMargin(value) {\n        this._horizontalMargin = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get bgBrush() {\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YSolidBrush(this._bgColor);\n        }\n        return this._bgBrush;\n    }\n    get arrowBrush() {\n        if (this._arrowBrush == null) {\n            this._arrowBrush = new YDataRendering.YSolidBrush(this._borderColor, true);\n        }\n        return this._arrowBrush;\n    }\n    get pen() {\n        if (this._pen == null)\n            this._pen = new YDataRendering.YPen(this._borderColor, this._borderthickness, true);\n        return this._pen;\n    }\n    get navigatorpen() {\n        if (this._navigatorpen == null)\n            this._navigatorpen = new YDataRendering.YPen(this._borderColor, 1.0);\n        return this._navigatorpen;\n    }\n    get font() { return this._font; }\n}\n(function (Marker) {\n    /* export enum TextAlign\n  {\n    LEFT = \"Left\", CENTER = \"Center\", RIGHT = \"Right\"\n  }*/\n    class TextAlignEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, TextAlign);\n        }\n    }\n    Marker.TextAlignEnumItem = TextAlignEnumItem;\n    class TextAlign extends YDataRendering.YEnum {\n    }\n    TextAlign.LEFT = new TextAlignEnumItem(\"LEFT\", \"Left\");\n    TextAlign.CENTER = new TextAlignEnumItem(\"CENTER\", \"Center\");\n    TextAlign.RIGHT = new TextAlignEnumItem(\"RIGHT\", \"Right\");\n    Marker.TextAlign = TextAlign;\n})(Marker || (Marker = {}));\nexport class Legend {\n    get directParent() { return this._directParent; }\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._title = \"\";\n        this._font = null;\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._font = new YDataRendering.YFont(parent, this, 12, null);\n    }\n    get title() { return this._title; }\n    set title(value) {\n        this._title = value;\n        this._parentRenderer.redraw();\n    }\n    get font() { return this._font; }\n}\nexport class GenericAxis {\n    get directParent() { return this._directParent; }\n    get zones() { return this._zones; }\n    AddZone() {\n        let z = new YDataRendering.Zone(this._parentRenderer, this);\n        this._zones.push(z);\n        return z;\n    }\n    get userData() { return this._userData; }\n    set userData(value) { this._userData = value; }\n    get AxisChanged() { return this._AxisChanged; }\n    set AxisChanged(value) { this._AxisChanged = value; }\n    constructor(parent, directParent) {\n        this._userData = null;\n        this._AxisChanged = null;\n        this._pen = null;\n        this._gridPen = null;\n        this._visible = true;\n        this._AllowAutoShow = false;\n        this._min = Number.NaN;\n        this._max = Number.NaN;\n        this._step = Number.NaN;\n        this._thickness = 1.0;\n        this._color = YDataRendering.YColor.Black;\n        this._showGrid = false;\n        this._gridColor = YDataRendering.YColor.FromArgb(50, 0, 0, 0);\n        this._gridThickness = 1.0;\n        this._font = null;\n        this._zones = [];\n        this._directParent = directParent;\n        this._parentRenderer = parent;\n        this._legend = new Legend(parent, this);\n        this._font = new YDataRendering.YFont(parent, this);\n    }\n    get pen() {\n        if (this._pen == null)\n            this._pen = new YDataRendering.YPen(this._color, this._thickness, true);\n        return this._pen;\n    }\n    get gridPen() {\n        if (this._gridPen == null)\n            this._gridPen = new YDataRendering.YPen(this._gridColor, this._gridThickness, true);\n        return this._gridPen;\n    }\n    get visible() { return this._visible; }\n    set visible(value) {\n        this._visible = value;\n        if (!value) {\n            this._AllowAutoShow = false;\n        }\n        this._parentRenderer.redraw();\n    }\n    get AllowAutoShow() { return this._AllowAutoShow; }\n    set AllowAutoShow(value) { this._AllowAutoShow = value; }\n    AutoShow() {\n        if (this._AllowAutoShow) {\n            this.visible = true;\n            if (this._AxisChanged != null)\n                this._AxisChanged(this);\n        }\n    }\n    set_minMax(value_min, value_max) {\n        if (!isNaN(value_min) && !isNaN(value_max) && (value_min >= value_max)) {\n            throw new RangeError(\"Min (\" + value_min.toString() + \") cannot be greater than max (\" + value_max.toString() + \")\");\n        }\n        this._min = value_min;\n        this._max = value_max;\n        this._parentRenderer.redraw();\n    }\n    get min() { return this._min; }\n    set min(value) {\n        if (!isNaN(value) && !isNaN(this._max) && !YDataRendering.YDataRenderer.minMaxCheckDisabled) {\n            if (value >= this._max) {\n                throw new RangeError(\"Min cannot be greater than max (\" + this._max.toString() + \")\");\n            }\n        }\n        this._min = value;\n        this._parentRenderer.redraw();\n    }\n    setMinMax(min, max) {\n        if (min < max) {\n            this._min = min;\n            this._max = max;\n            this._parentRenderer.redraw();\n        }\n    }\n    get max() { return this._max; }\n    set max(value) {\n        if (!isNaN(value) && !isNaN(this._min) && !YDataRendering.YDataRenderer.minMaxCheckDisabled) {\n            if (value <= this._min)\n                throw new RangeError(\"Max cannot be less than min (\" + this._min.toString() + \")\");\n        }\n        this._max = value;\n        this._parentRenderer.redraw();\n    }\n    get step() { return this._step; }\n    set step(value) {\n        if (!isNaN(value) && (value < 0))\n            throw new RangeError(\"Steps must be a strictely positive value\");\n        this._step = value;\n        this._parentRenderer.redraw();\n    }\n    get thickness() { return this._thickness; }\n    set thickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._thickness = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get color() { return this._color; }\n    set color(value) {\n        this._color = value;\n        this._pen = null;\n        this._parentRenderer.redraw();\n    }\n    get showGrid() { return this._showGrid; }\n    set showGrid(value) {\n        this._showGrid = value;\n        this._parentRenderer.redraw();\n    }\n    get gridColor() { return this._gridColor; }\n    set gridColor(value) {\n        this._gridColor = value;\n        this._gridPen = null;\n        this._parentRenderer.redraw();\n    }\n    get gridThickness() { return this._gridThickness; }\n    set gridThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._gridThickness = value;\n        this._gridPen = null;\n        this._parentRenderer.redraw();\n    }\n    get font() { return this._font; }\n    get legend() { return this._legend; }\n}\nexport class StartStopStep {\n    constructor() {\n        this.dataMin = 0;\n        this.dataMax = 0;\n        this.absMin = 0;\n        this.absMax = 0;\n        this.step = 0;\n        this.start = 0;\n        this.stop = 0;\n        this.precision = 0;\n    }\n}\n/*  never used?\n\npublic class ReadOnlyIndexedProperty<TValue>\n{\n  readonly List<TValue> ContainerList;\n\n  public ReadOnlyIndexedProperty(List<TValue> list)\n{\n  this.ContainerList = list;\n}\n\npublic TValue this[int i]\n{\n  get\n  {\n    return ContainerList[i];\n  }\n}\n\npublic int Count { get { return ContainerList.Count; } }\n}\n*/\nexport class xAxisPosition {\n    get relative() { return this._isRelative; }\n    set relative(value) { this._isRelative = value; }\n    get value() { return this._value; }\n    set value(value) { this._value = value; }\n    constructor(v, rel, capture) {\n        this._isRelative = false;\n        this._value = 0;\n        // a weird way to start the marker position capture\n        // through a property change, as Yocto-Visualization\n        // editor can only change properties.\n        this._capture = false;\n        this._isRelative = rel;\n        this._value = v;\n        this._capture = typeof (capture) == \"undefined\" ? false : capture;\n    }\n    clone() {\n        return new xAxisPosition(this._value, this._isRelative, this._capture);\n    }\n    toString() {\n        if (this._isRelative) {\n            return TimeConverter.secTimeSpanToString(this._value, 0);\n        }\n        else { // will need a fix to use this.DTdisplayformat\n            let date = TimeConverter.FromUnixTime(this._value);\n            let res = date.getFullYear().toString() + \"-\" + (date.getMonth() + 1).toString() + \"-\" + date.getDate().toString()\n                + \" \" + date.getHours().toString() + \":\";\n            let st = date.getMinutes().toString();\n            if (st.length <= 1)\n                st = \"0\" + st;\n            res = res + st + \":\";\n            let s = date.getSeconds();\n            let ms = date.getMilliseconds();\n            s = s + ms / 1000;\n            if (s < 10)\n                res = res + \"0\";\n            if (ms == 0) {\n                res = res + s.toString();\n            }\n            else {\n                res = res + s.toFixed(3);\n            }\n            return res;\n        }\n    }\n    TryParse(str) {\n        if (this._isRelative)\n            return TimeConverter.tryParseStringToSecTimeSpan(str);\n        return TimeConverter.tryParseStringToAbsDateTime(str);\n    }\n    get capture() { return this._capture; }\n    set capture(value) { this._capture = value; }\n}\nxAxisPosition.DTdisplayformat = \"DD/MM/YY hh:mm:ss.ff\";\nxAxisPosition.TSdisplayformat = \"dd.hh:mm:ss.ff\";\nclass YNumberFormatInfo {\n    constructor() {\n        this.NumberDecimalSeparator = \".\";\n    }\n}\nexport class YAxis extends GenericAxis {\n    constructor(parent, directParent, index) {\n        super(parent, directParent);\n        this._index = 0;\n        this._highlightZero = false;\n        this._position = YAxis.HrzPosition.LEFT;\n        this.innerWidth = 0; // public, really?\n        this.zoom = 0;\n        this.IRLy = 0;\n        this._index = index;\n        this.nfi = new YNumberFormatInfo();\n        this.nfi.NumberDecimalSeparator = \".\";\n        this.startStopStep = new StartStopStep();\n        this.startStopStep.start = 0;\n        this.startStopStep.stop = 1;\n        this.startStopStep.step = .1;\n    }\n    get index() { return this._index; }\n    lockMinMax() {\n        this._min = this.startStopStep.absMin;\n        this._max = this.startStopStep.absMax;\n        this._parentRenderer.redraw();\n    }\n    unlockMinMax() {\n        this._min = Number.NaN;\n        this._max = Number.NaN;\n        this._parentRenderer.redraw();\n    }\n    get highlightZero() { return this._highlightZero; }\n    set highlightZero(value) {\n        this._highlightZero = value;\n        this._parentRenderer.redraw();\n    }\n    get position() { return this._position; }\n    set position(value) {\n        this._position = value;\n        this._parentRenderer.redraw();\n    }\n    computeStartAndStep(M) {\n        let res = new StartStopStep();\n        let min = this.min;\n        let max = this.max;\n        res.step = this.step;\n        res.precision = 0;\n        if (!MinMaxHandler.isDefined(M)) {\n            M = MinMaxHandler.DefaultValue();\n            M.Min = 0;\n            M.Max = 100.0;\n        }\n        if (isNaN(min))\n            min = M.Min;\n        if (isNaN(max))\n            max = M.Max;\n        res.absMax = max;\n        res.absMin = min;\n        if (min == max) {\n            min -= 0.5;\n            max += 0.5;\n        }\n        if (min != 0)\n            min -= (max - min) * 0.025;\n        if (max != 0)\n            max += (max - min) * 0.025;\n        res.start = min;\n        res.stop = max;\n        res.dataMin = min;\n        res.dataMax = max;\n        let Delta = max - min;\n        if (isNaN(res.step)) {\n            let MagnitudePwr = Math.log10(Delta);\n            if ((MagnitudePwr - Math.floor(MagnitudePwr)) != 0)\n                MagnitudePwr = Math.floor(MagnitudePwr) + 1;\n            res.precision = (MagnitudePwr - 1) >> 0;\n            let Magnitude = Math.pow(10, res.precision);\n            let C = Delta / Magnitude;\n            if (C <= 2) {\n                res.step = (Magnitude / 5);\n                res.precision--;\n            }\n            else if (C <= 5) {\n                res.step = (Magnitude / 2);\n                res.precision--;\n            }\n            else {\n                res.step = (Magnitude);\n            }\n            if (isNaN(this.min)) {\n                let c = min / res.step;\n                if (c - Math.floor(c) != 0)\n                    c = (c > 0) ? Math.floor(c) + 1 : Math.floor(c) - 1;\n                res.start = res.step * c;\n                //     if ((M.Min < 0) && (M.Min - (int)M.Min != 0)) res.start -= res.step;\n            }\n        }\n        else {\n            let v = res.step.toString();\n            let p = v.indexOf('.');\n            if (p >= 0) {\n                res.precision = -(v.length - p - 1);\n            }\n            else {\n                res.precision = 0;\n            }\n        }\n        this.startStopStep = res;\n        return res;\n    }\n}\n(function (YAxis) {\n    // export enum HrzPosition { LEFT = 'Left', RIGHT = 'Right' }\n    //\n    class HrzPositionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, HrzPosition);\n        }\n    }\n    YAxis.HrzPositionEnumItem = HrzPositionEnumItem;\n    class HrzPosition extends YDataRendering.YEnum {\n    }\n    HrzPosition.LEFT = new HrzPositionEnumItem(\"LEFT\", \"Left\");\n    HrzPosition.RIGHT = new HrzPositionEnumItem(\"RIGHT\", \"Right\");\n    YAxis.HrzPosition = HrzPosition;\n})(YAxis || (YAxis = {}));\nexport class XAxis extends GenericAxis {\n    get position() { return this._position; }\n    set position(value) {\n        this._position = value;\n        this._parentRenderer.redraw();\n    }\n    get markers() { return this._markers; }\n    AddMarker() {\n        let m = new Marker(this._parentGraph, this);\n        this._markers.push(m);\n        this._parentGraph.clearCachedObjects();\n        this._parentGraph.redraw();\n        return m;\n    }\n    get initialZoom() { return this._initialZoom; }\n    set initialZoom(value) {\n        if (value <= 0)\n            throw new RangeError(\"Zoom must be a positive value\");\n        this._initialZoom = value;\n        this.min = this.min - (this._initialZoom * this._initialOffset / 100);\n        this.max = this.min + this.initialZoom;\n        this._parentRenderer.redraw();\n    }\n    get initialOffset() { return this._initialOffset; }\n    set initialOffset(value) {\n        this._initialOffset = value;\n        let p = this._parentGraph.getMostRecentPoint();\n        if (isNaN(p.x)) {\n            this._min = this._min - (this._initialZoom * this._initialOffset / 100);\n            this._max = this._min + this._initialZoom;\n            this._parentRenderer.redraw();\n        }\n        else {\n            let zoom = this._max - this._min;\n            this._min = p.x - (zoom * this._initialOffset / 100);\n            this._max = this._min + zoom;\n        }\n        this._parentRenderer.redraw();\n    }\n    get labelFormat() { return this._format; }\n    set labelFormat(value) {\n        this._format = value;\n        this._parentRenderer.redraw();\n    }\n    constructor(parent, directParent) {\n        super(parent, directParent);\n        this._position = XAxis.VrtPosition.BOTTOM;\n        this._markers = [];\n        this._initialZoom = 300;\n        this._initialOffset = 0;\n        this._format = XAxis.FORMATAUTO;\n        this._timeReference = TimeConverter.TimeReference.ABSOLUTE;\n        // in case of relative time reference : position of the Zero\n        this._zeroTime = 0;\n        //  Max timestamp- Min timestamp of all series values\n        this._fullSize = 0;\n        this.innerHeight = 0;\n        this._overflowHandling = XAxis.OverflowHandling.DONOTHING;\n        this._parentGraph = parent;\n        this._markers = [];\n        this.min = TimeConverter.ToUnixTime(TimeConverter.UTCNow());\n        this.max = this.min + this.initialZoom;\n        this.step = 30;\n    }\n    get timeReference() { return this._timeReference; }\n    set timeReference(value) {\n        this._timeReference = value;\n        this._parentRenderer.redraw();\n    }\n    get zeroTime() { return this._zeroTime; }\n    set zeroTime(value) { this._zeroTime = value; }\n    get fullSize() { return this._fullSize; }\n    set fullSize(value) { this._fullSize = value; }\n    bestFormat(dataTimedelta, viewportTimedelta) {\n        return TimeConverter.BestTimeformat(dataTimedelta, viewportTimedelta, this._timeReference);\n    }\n    get overflowHandling() { return this._overflowHandling; }\n    set overflowHandling(value) { this._overflowHandling = value; }\n}\nXAxis.FORMATAUTO = 0;\n(function (XAxis) {\n    // export enum VrtPosition {TOP =\"Top\", BOTTOM = 'Bottom' }\n    class VrtPositionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, VrtPosition);\n        }\n    }\n    XAxis.VrtPositionEnumItem = VrtPositionEnumItem;\n    class VrtPosition extends YDataRendering.YEnum {\n    }\n    VrtPosition.TOP = new VrtPositionEnumItem(\"TOP\", \"Top\");\n    VrtPosition.BOTTOM = new VrtPositionEnumItem(\"BOTTOM\", \"Bottom\");\n    XAxis.VrtPosition = VrtPosition;\n    class OverflowHandlingEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, OverflowHandling);\n        }\n    }\n    XAxis.OverflowHandlingEnumItem = OverflowHandlingEnumItem;\n    class OverflowHandling extends YDataRendering.YEnum {\n    }\n    OverflowHandling.DONOTHING = new OverflowHandlingEnumItem(\"DONOTHING\", \"Do nothing\");\n    OverflowHandling.SCROLL = new OverflowHandlingEnumItem(\"SCROLL\", \"Scroll contents\");\n    OverflowHandling.CONTRACT = new OverflowHandlingEnumItem(\"CONTRACT\", \"Squeeze contents\");\n    XAxis.OverflowHandling = OverflowHandling;\n})(XAxis || (XAxis = {}));\nexport class DataPanel extends YDataRendering.GenericPanel {\n    constructor(parent, directParent) {\n        super(parent, directParent);\n        this._panelHrzAlign = DataPanel.HorizontalAlign.CENTERED;\n        this._panelVrtAlign = DataPanel.VerticalAlign.CENTERED;\n        this._horizontalPosition = DataPanel.HorizontalPosition.ABSOLUTEX;\n        this._verticalPosition = DataPanel.VerticalPosition.ABSOLUTEY;\n        this._AbsoluteXposition = 0;\n        this._AbsoluteYposition = 0;\n        this._YScaleIndex = 0;\n    }\n    get panelHrzAlign() { return this._panelHrzAlign; }\n    set panelHrzAlign(value) {\n        this._panelHrzAlign = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get panelVrtAlign() { return this._panelVrtAlign; }\n    set panelVrtAlign(value) {\n        this._panelVrtAlign = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get horizontalPosition() { return this._horizontalPosition; }\n    set horizontalPosition(value) {\n        this._horizontalPosition = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get verticalPosition() { return this._verticalPosition; }\n    set verticalPosition(value) {\n        this._verticalPosition = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get AbsoluteXposition() { return this._AbsoluteXposition; }\n    set AbsoluteXposition(value) {\n        this._AbsoluteXposition = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get AbsoluteYposition() { return this._AbsoluteYposition; }\n    set AbsoluteYposition(value) {\n        this._AbsoluteYposition = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n    get yScaleIndex() { return this._YScaleIndex; }\n    set yScaleIndex(value) {\n        this._YScaleIndex = value;\n        if (this._enabled)\n            this._parentRenderer.redraw();\n    }\n}\n(function (DataPanel) {\n    class HorizontalAlignEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, HorizontalAlign);\n        }\n    }\n    DataPanel.HorizontalAlignEnumItem = HorizontalAlignEnumItem;\n    class HorizontalAlign extends YDataRendering.YEnum {\n    }\n    HorizontalAlign.LEFTOF = new HorizontalAlignEnumItem(\"LEFTOF\", \"Left\");\n    HorizontalAlign.CENTERED = new HorizontalAlignEnumItem(\"CENTERED\", \"Center\");\n    HorizontalAlign.RIGHTOF = new HorizontalAlignEnumItem(\"RIGHTOF\", \"Right\");\n    DataPanel.HorizontalAlign = HorizontalAlign;\n    class VerticalAlignEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, VerticalAlign);\n        }\n    }\n    DataPanel.VerticalAlignEnumItem = VerticalAlignEnumItem;\n    // export  enum VerticalAlign  {ABOVE=\"Top\",CENTERED=\"Center\", BELOW=\"Bottom\"}\n    class VerticalAlign extends YDataRendering.YEnum {\n    }\n    VerticalAlign.ABOVE = new VerticalAlignEnumItem(\"ABOVE\", \"Top\");\n    VerticalAlign.CENTERED = new VerticalAlignEnumItem(\"CENTERED\", \"Center\");\n    VerticalAlign.BELOW = new VerticalAlignEnumItem(\"BELOW\", \"Bottom\");\n    DataPanel.VerticalAlign = VerticalAlign;\n    class HorizontalPositionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, HorizontalPosition);\n        }\n    }\n    DataPanel.HorizontalPositionEnumItem = HorizontalPositionEnumItem;\n    class HorizontalPosition extends YDataRendering.YEnum {\n    }\n    HorizontalPosition.LEFTBORDER = new HorizontalPositionEnumItem(\"LEFTBORDER\", \"Left border\");\n    HorizontalPosition.ABSOLUTEX = new HorizontalPositionEnumItem(\"ABSOLUTEX\", \"Absolute X position\");\n    HorizontalPosition.RIGHTBORDER = new HorizontalPositionEnumItem(\"RIGHTBORDER\", \"Right borde\");\n    DataPanel.HorizontalPosition = HorizontalPosition;\n    class VerticalPositionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, VerticalPosition);\n        }\n    }\n    DataPanel.VerticalPositionEnumItem = VerticalPositionEnumItem;\n    class VerticalPosition extends YDataRendering.YEnum {\n    }\n    VerticalPosition.TOPBORDER = new VerticalPositionEnumItem(\"TOPBORDER\", \"Top border\");\n    VerticalPosition.ABSOLUTEY = new VerticalPositionEnumItem(\"ABSOLUTEY\", \"Absolute Y position\");\n    VerticalPosition.BOTTOMBORDER = new VerticalPositionEnumItem(\"BOTTOMBORDER\", \"Bottom border\");\n    DataPanel.VerticalPosition = VerticalPosition;\n})(DataPanel || (DataPanel = {}));\nclass YCursor {\n    constructor(pngImageData) { }\n    get handle() { return \"crosshair\"; }\n}\nclass YTimeSpan {\n    constructor(value) {\n        this._value = 0;\n        this._value = value;\n    }\n    toString(format) {\n        let res = \"\";\n        let v = Math.abs(this._value / 1000);\n        let dec = Math.floor(v);\n        let frac = Math.round(1000 * (v - Math.floor(v)));\n        if (format & YDate.ms1) {\n            let ms = \"00\" + frac.toString();\n            res = \".\" + ms.substring(ms.length - 3).substring(0, 1);\n        }\n        else if (format & YDate.ms01) {\n            let ms = \"00\" + frac.toString();\n            res = \".\" + ms.substring(ms.length - 3).substring(0, 2);\n        }\n        else if (format & YDate.ms001) {\n            let ms = \"00\" + frac.toString();\n            res = \".\" + ms.substring(ms.length - 3).substring(0, 3);\n        }\n        if (format & YDate.s) {\n            let sec = dec % 60;\n            let s = \"0\" + sec.toString();\n            res = s.substring(s.length - 2) + res + \"s\";\n        }\n        dec = Math.floor(dec / 60);\n        if (format & YDate.m) {\n            let min = dec % 60;\n            let s = \"0\" + min.toString();\n            res = s.substring(s.length - 2) + \"m\" + res;\n        }\n        dec = Math.floor(dec / 60);\n        if (format & YDate.h) {\n            let hrs = dec % 24;\n            let s = \"0\" + hrs.toString();\n            res = s.substring(s.length - 2) + \"h\" + res;\n        }\n        dec = Math.floor(dec / 24);\n        if (format & YDate.D) {\n            let s = dec.toString();\n            res = s.substring(s.length - 2) + \"d\" + res;\n        }\n        return res;\n    }\n}\nYTimeSpan.TicksPerSecond = 1000;\nexport class YGraph extends YDataRendering.YDataRenderer {\n    get legendPanel() { return this._legendPanel; }\n    get dataTracker() { return this._dataTracker; }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._borderPen = null;\n        this.redraw();\n    }\n    get borderThickness() { return this._borderThickness; }\n    set borderThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"thickness must be a positive value\");\n        this._borderThickness = value;\n        this._borderPen = null;\n        this.redraw();\n    }\n    static get verticalDragZoomEnabled() { return YGraph._defaultVerticalDragZoomEnabled; }\n    static set verticalDragZoomEnabled(value) { YGraph._defaultVerticalDragZoomEnabled = value; }\n    static createCaptureCursor() {\n        if (YGraph.captureCursor != null)\n            return;\n        // mouse cursor graphics stored  in a base64 encoded PNG\n        // this is just a way to keep the source code monolithic\n        // no separate ressources file\n        let base64png = \"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALHRFWHRDcmVhdGlvbi\"\n            + \"BUaW1lAFRodSAyMCBBdWcgMjAyMCAxMjoxNTo1MCArMDEwMP38NhoAAAAHdElNRQfk\"\n            + \"CBQOJAvCrm0ZAAAACXBIWXMAAFxGAABcRgEUlENBAAAABGdBTUEAALGPC / xhBQAA\"\n            + \"AmVJREFUeNrtVrFuFDEQHd9eBImAIBFoAgVC0NJQUFDwL / QgRXzAfUz + Iy0pQw\"\n            + \"sIJAhCQMQBUS5c2DXv7T5fzN5qs / Fxdw0jPY3ttT3jt54ZmyXIYDDoQXnodWBV /\"\n            + \" SRJXZhJbwCXov65pZ + 4zklfBsZRf2EMxOuTjc / igIu0s0UygAvnonWZ0NP4fB\"\n            + \"2QkQz6yHvP / i76V4E1jZ / bic4LIuMnND7ZwDl + u4 / me + AnkKPvu + 7r\"\n            + \"FMNZBzZ64eRTm5w6sQ8cAcUZexVytOCpOnv7j + QdDD + CHgKjMg80nWpeQrYgd4\"\n            + \"A3wHjWPJAqN4BVoLcsB1ZMd25ZDkzkvwNLd6AMQ4XGIuXElKz6SAo3rYpLhsZKyyJm\"\n            + \"wu2WTLiF5g / g2NozIY1 / BkacRwaYkZgUPlr7L2EdeAhjLxpqwTOr0vAHOZG37F\"\n            + \"PIOO3mfXXG1qEWAGvM + TC6Rydk / KmMv7bmWlD / v95qtaCThGpo1TPsFvp7wB\"\n            + \"O0v4nBqWoYvR0yOeLFThHmdH4TcgGQy8i + hkn5V / WbSjGr7e9oD96372LJB1o7\"\n            + \"izbPtYHpPw7V / 8u4yvzFkvPTO3MXuMbx8JRPij8svgAcAw / EwCe0f8XGxZYFB6\"\n            + \"JQZzl + rHWj1Gf5WZLVTj5py5HbVoXjeF4OuMhYnQHKulW / x6U64CPtbfpVxQu7\"\n            + \"CX0PeicMov3cKup5EZmw / KwMFNb8pMtl5G3MhIyHkOX3PPUSMmXzOX7Fqsw35Gu5\"\n            + \"NidEwXWr / jnnD + XUFzLARJRaDXnCQ53o0BpSLzcXzQfAK + Cl9EEwXrKTyr1O\"\n            + \"WGa3sFnLvPDsn6Tg8P0PrBcSMR2NtfsAAAAASUVORK5CYII =\";\n        try {\n            YGraph.captureCursor = new YCursor(atob(base64png));\n        }\n        catch (Exception) {\n            console.log(\"Cannot create custom cursor\");\n        }\n    }\n    get dataPanels() { return this._dataPanels; }\n    addDataPanel() {\n        let p = new DataPanel(this, this);\n        this._dataPanels.push(p);\n        return p;\n    }\n    setMarkerCaptureCallbacks(start, stop) {\n        this._markerCaptureStartedCallback = start;\n        this._markerCaptureStoppedCallback = stop;\n    }\n    startMarkerCapture(m) {\n        if (this._markerCaptureStartedCallback != null)\n            this._markerCaptureStartedCallback(m);\n        this.markerCapture = m;\n        this.UIContainer.focus();\n    }\n    constructor(ChartContainer, logFunction) {\n        super(ChartContainer, logFunction);\n        this._markerCaptureStartedCallback = null;\n        this._markerCaptureStoppedCallback = null;\n        this.lastPointCount = -1;\n        this.lastTopMargin = -1;\n        this.lastBottomMargin = -1;\n        this.navigatorCache = null;\n        this.markerCapture = null;\n        this._borderPen = null;\n        this._borderColor = YDataRendering.YColor.LightGray;\n        this._borderThickness = 1.0;\n        this._touchStartfct = null;\n        this._touchMovefct = null;\n        this._touchEndfct = null;\n        this._mouseDownfct = null;\n        this._mouseMovefct = null;\n        this._mouseWheelfct = null;\n        this._mouseKeyDownfct = null;\n        this.mainViewPort = new YDataRendering.ViewPortSettings();\n        this._timeRange = null;\n        this._bgBrush = null;\n        this._bgColor1 = YDataRendering.YColor.FromArgb(255, 200, 200, 200);\n        this._bgColor2 = YDataRendering.YColor.FromArgb(255, 255, 255, 255);\n        this._touchStartPinchDistance = -1;\n        this._touchStartPinchCenter = new YDataRendering.Point(0, 0);\n        this._touchStartPinchZoom = 1;\n        this._touchStartPinchIRLx = 0;\n        this._touchStartPinchRange = 0;\n        this.dataTrackerRefreshtimeout = null;\n        YGraph.createCaptureCursor();\n        this._xAxis = new XAxis(this, this);\n        this._yAxes = [];\n        this._series = [];\n        this._dataPanels = [];\n        this._navigator = new Navigator(this, this);\n        this._legendPanel = new LegendPanel(this, this);\n        this._dataTracker = new DataTracker(this, this);\n        this._touchStartfct = (e) => { this.TouchStart(this.UIContainer, e); };\n        this._touchMovefct = (e) => { this.TouchMove(this.UIContainer, e); };\n        this._touchEndfct = (e) => { this.TouchEnd(this.UIContainer, e); };\n        this._mouseDownfct = (e) => { this.MouseDown(this.UIContainer, e); };\n        this._mouseMovefct = (e) => { this.MouseMove(this.UIContainer, e); };\n        this._mouseWheelfct = (e) => { this.mouseWheelEvent(this.UIContainer, e); };\n        this._mouseKeyDownfct = (e) => { this.KeyDown(this.UIContainer, e); };\n        this.UIContainer.addEventListener(\"touchstart\", this._touchStartfct);\n        this.UIContainer.addEventListener(\"touchmove\", this._touchMovefct);\n        this.UIContainer.addEventListener(\"touchend\", this._touchEndfct);\n        this.UIContainer.addEventListener(\"mousedown\", this._mouseDownfct);\n        this.UIContainer.addEventListener(\"mousemove\", this._mouseMovefct);\n        this.UIContainer.addEventListener(\"wheel\", this._mouseWheelfct);\n        this.UIContainer.addEventListener(\"keydown\", this._mouseKeyDownfct);\n        this._timeRange = MinMaxHandler.DefaultValue();\n        let originalContainerWidth = ChartContainer.width;\n        let originalContainerHeight = ChartContainer.height;\n        let originalFormWidth = ChartContainer.width;\n        let originalFormHeight = ChartContainer.height;\n    }\n    destroy() {\n        if (this._touchStartfct != null)\n            this.UIContainer.removeEventListener(\"touchstart\", this._touchStartfct);\n        if (this._touchMovefct != null)\n            this.UIContainer.removeEventListener(\"touchstart\", this._touchMovefct);\n        if (this._touchEndfct != null)\n            this.UIContainer.removeEventListener(\"touchstart\", this._touchEndfct);\n        if (this._mouseDownfct != null)\n            this.UIContainer.removeEventListener(\"mousedown\", this._mouseDownfct);\n        if (this._mouseMovefct != null)\n            this.UIContainer.removeEventListener(\"mousemove\", this._mouseMovefct);\n        if (this._mouseWheelfct != null)\n            this.UIContainer.removeEventListener(\"wheel\", this._mouseWheelfct);\n        if (this._mouseKeyDownfct != null)\n            this.UIContainer.removeEventListener(\"keydown\", this._mouseKeyDownfct);\n        super.destroy();\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    getMostRecentPoint() {\n        let res = new pointXY(NaN, NaN);\n        for (let i = 0; i < this._series.length; i++)\n            if (!this.series[i].disabled) {\n                let p = this.series[i].getlastPoint();\n                if (!isNaN(p.x)) {\n                    if (isNaN(res.x))\n                        res = p;\n                    else if (p.x > res.x)\n                        res = p;\n                }\n            }\n        return res;\n    }\n    adjustGlobalTimeRange(x) {\n        let max = this._timeRange.Max;\n        this._timeRange = MinMaxHandler.CombineWithNumber(this._timeRange, x);\n        if (isNaN(max))\n            return;\n        let ofset = x - max;\n        if (ofset > 0) {\n            switch (this._xAxis.overflowHandling) {\n                case XAxis.OverflowHandling.SCROLL:\n                    if (max > this._xAxis.min + ((this._xAxis.max - this._xAxis.min) * 0.85) && (max <= this._xAxis.max)) {\n                        this.DisableRedraw();\n                        this._xAxis.set_minMax(this._xAxis.min + ofset, this._xAxis.max + ofset);\n                        this.AllowRedraw();\n                    }\n                    break;\n                case XAxis.OverflowHandling.CONTRACT:\n                    if (max > this._xAxis.min + ((this._xAxis.max - this._xAxis.min) * 0.95) && (max <= this._xAxis.max)) {\n                        this.DisableRedraw();\n                        this._xAxis.max += ofset;\n                        this.AllowRedraw();\n                    }\n                    break;\n            }\n        }\n    }\n    get bgColor1() { return this._bgColor1; }\n    set bgColor1(value) {\n        this._bgColor1 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get bgColor2() { return this._bgColor2; }\n    set bgColor2(value) {\n        this._bgColor2 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get xAxis() { return this._xAxis; }\n    get navigator() { return this._navigator; }\n    get yAxes() { return this._yAxes; }\n    get series() { return this._series; }\n    addYAxis() {\n        let s = new YAxis(this, this, this._yAxes.length);\n        this._yAxes.push(s);\n        this.redraw();\n        return s;\n    }\n    addSerie() {\n        let s = new DataSerie(this);\n        this._series.push(s);\n        this.redraw();\n        return s;\n    }\n    clearCachedObjects() {\n        this._bgBrush = null;\n        this.navigatorCache = null;\n    }\n    TouchStart(sender, e) {\n        if (e.touches.length == 1) {\n            this.HandleMouseDown(sender, e.touches[0].pageX, e.touches[0].pageY);\n        }\n        else if (e.touches.length == 2) {\n            e.preventDefault();\n            this.HandleEndOfMouseCapture();\n            this._touchStartPinchDistance = Math.sqrt(Math.pow(e.touches[1].pageX - e.touches[0].pageX, 2) + Math.pow(e.touches[1].pageY - e.touches[0].pageY, 2));\n            this._touchStartPinchCenter = new YDataRendering.Point((e.touches[1].pageX + e.touches[0].pageX) >> 2, (e.touches[1].pageY + e.touches[0].pageY) >> 2);\n            this._touchStartPinchZoom = this.mainViewPort.zoomx;\n            this._touchStartPinchIRLx = this.mainViewPort.IRLx;\n            this._touchStartPinchRange = this._xAxis.max - this._xAxis.min;\n        }\n    }\n    MouseDown(sender, e) {\n        if ((e.buttons == 2) && (this.markerCapture != null)) {\n            this.markerCapture = null;\n            if (this._markerCaptureStoppedCallback != null)\n                this._markerCaptureStoppedCallback(null);\n        }\n        if (e.buttons != 1)\n            return;\n        this.HandleMouseDown(sender, e.pageX, e.pageY);\n    }\n    HandleMouseDown(sender, pageX, pageY) {\n        let p = this.Scr2ElmMatrix.multiplyByV(YDataRendering.Vector3.FromXYCoord(pageX, pageY)).toPoint();\n        let eX = p.X;\n        let eY = p.Y;\n        if ((eX >= this.mainViewPort.Lmargin)\n            && (eX <= this.mainViewPort.Width - this.mainViewPort.Rmargin)\n            && (eY >= this.mainViewPort.Tmargin)\n            && (eY <= this.mainViewPort.Height - this.mainViewPort.Bmargin)) {\n            if (this.markerCapture != null) {\n                let p2 = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(eX, eY));\n                this.markerCapture.setCapturedPosition(p2.x, this.xAxis);\n                if (this._markerCaptureStoppedCallback != null)\n                    this._markerCaptureStoppedCallback(this.markerCapture);\n                this.markerCapture = null;\n                return;\n            }\n            let p = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(eX, eY));\n            this.mainViewPort.OriginalXAxisMin = this.xAxis.min;\n            this.mainViewPort.OriginalXAxisMax = this.xAxis.max;\n            this.mainViewPort.OriginalIRLx = this.mainViewPort.IRLx;\n            this.mainViewPort.OriginalLmargin = this.mainViewPort.Lmargin;\n            this.mainViewPort.OriginalZoomx = this.mainViewPort.zoomx;\n            this.mainViewPort.CaptureStartY = eY;\n            this.mainViewPort.IRLCaptureStartX = p.x;\n            this.mainViewPort.Capture = true;\n        }\n        else if ((eX >= this._navigator.viewport.Lmargin)\n            && (eX <= this._navigator.viewport.Width - this._navigator.viewport.Rmargin)\n            && (eY >= this._navigator.viewport.Lmargin)\n            && (eY <= this._navigator.viewport.Height - this._navigator.viewport.Bmargin)) {\n            let p = YGraph.ViewPortPointToIRL(this._navigator.viewport, new YDataRendering.Point(eX, eY));\n            let p2 = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(this.mainViewPort.Lmargin, 0));\n            let p3 = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(this.mainViewPort.Width - this.mainViewPort.Rmargin, 0));\n            if ((p.x >= p2.x) && (p.x <= p3.x)) {\n                this._navigator.startCapture(p, this._xAxis.min, this._xAxis.max);\n                //  log(\"monitor start monitor capture  at \" + _navigator.viewport.IRLCaptureStartX.ToString());\n            }\n            else {\n                this.DisableRedraw();\n                let min = p.x - (p3.x - p2.x) / 2;\n                let max = min + (p3.x - p2.x);\n                this._xAxis.set_minMax(min, max);\n                this.AllowRedraw();\n                //  log(\"Jump to \" + mainViewPort.IRLx.ToString());\n                this.Draw(0);\n            }\n        }\n    }\n    TouchMove(sender, e) {\n        if (e.touches.length == 1) {\n            e.preventDefault();\n            this.HandleMouseMove(sender, e.touches[0].pageX, e.touches[0].pageY);\n        }\n        else if (e.touches.length == 2) {\n            e.preventDefault();\n            let newdistance = Math.sqrt(Math.pow(e.touches[1].pageX - e.touches[0].pageX, 2) + Math.pow(e.touches[1].pageY - e.touches[0].pageY, 2));\n            let ZoomFactor = newdistance / this._touchStartPinchDistance;\n            let NextZoomX = this._touchStartPinchZoom * ZoomFactor;\n            if ((NextZoomX > this.mainViewPort.zoomx) && (NextZoomX > 1000))\n                return;\n            let currentRange = this._xAxis.max - this._xAxis.min;\n            this.mainViewPort.IRLx = this._touchStartPinchIRLx + ((this._touchStartPinchCenter.X - this.mainViewPort.Lmargin) / this._touchStartPinchZoom) - ((this._touchStartPinchCenter.X - this.mainViewPort.Lmargin) / NextZoomX);\n            this._xAxis.set_minMax(this.mainViewPort.IRLx, this.mainViewPort.IRLx + this._touchStartPinchRange / ZoomFactor);\n            this.mainViewPort.zoomx = NextZoomX;\n            this.redraw();\n        }\n    }\n    TouchEnd(sender, e) {\n        this.HandleEndOfMouseCapture();\n    }\n    MouseMove(sender, e) {\n        if ((e.buttons != 1) && (this.mainViewPort.Capture || this._navigator.Capture))\n            this.HandleEndOfMouseCapture();\n        this.HandleMouseMove(sender, e.pageX, e.pageY);\n        if (this.dataTracker.enabled) {\n            if (this.dataTrackerRefreshtimeout != null)\n                clearTimeout(this.dataTrackerRefreshtimeout);\n            this.dataTrackerRefreshtimeout = setTimeout(() => { this.redraw(); }, 100);\n        }\n    }\n    HandleEndOfMouseCapture() {\n        this.mainViewPort.Capture = false;\n        this._navigator.stopCapture();\n        if (this._dataTracker.enabled)\n            this.redraw();\n    }\n    HandleMouseMove(sender, pageX, pageY) {\n        let p = this.Scr2ElmMatrix.multiplyByV(YDataRendering.Vector3.FromXYCoord(pageX, pageY)).toPoint();\n        let eX = p.X;\n        let eY = p.Y;\n        if (this.markerCapture != null) {\n            if ((eX > this.mainViewPort.Lmargin) && (eX < this.mainViewPort.Width - this.mainViewPort.Rmargin)\n                && (eY > this.mainViewPort.Tmargin) && (eY < this.mainViewPort.Height - this.mainViewPort.Bmargin)) {\n                if ((this.UIContainer.style.cursor != YGraph.captureCursor.handle) && (this.UIContainer.style.cursor != \"crosshair\")) {\n                    this.UIContainer.style.cursor = YGraph.captureCursor != null ? YGraph.captureCursor.handle : \"crosshair\";\n                }\n            }\n            else if (this.UIContainer.style.cursor != \"default\")\n                this.UIContainer.style.cursor = \"default\";\n        }\n        else if (this.UIContainer.style.cursor != \"default\")\n            this.UIContainer.style.cursor = \"default\";\n        if (this.mainViewPort.Capture) {\n            let x1 = this.mainViewPort.OriginalIRLx + (eX - this.mainViewPort.OriginalLmargin) / this.mainViewPort.OriginalZoomx;\n            let deltaX = (x1 - this.mainViewPort.IRLCaptureStartX);\n            let deltaY = (eY - this.mainViewPort.CaptureStartY);\n            this.DisableRedraw();\n            let halfAxisDelta = (this.mainViewPort.OriginalXAxisMax - this.mainViewPort.OriginalXAxisMin) / 2;\n            let Axismiddle = (this.mainViewPort.OriginalXAxisMax + this.mainViewPort.OriginalXAxisMin) / 2;\n            let deltaCoef = (YGraph._defaultVerticalDragZoomEnabled && (Math.abs(deltaY) > 10)) ? Math.pow(1.01, deltaY) : 1;\n            this._xAxis.set_minMax(Axismiddle - halfAxisDelta * deltaCoef - deltaX, Axismiddle + halfAxisDelta * deltaCoef - deltaX);\n            this.AllowRedraw();\n            this.redraw();\n            return;\n        }\n        if (this._navigator.viewport.Capture) {\n            let x1 = this._navigator.viewport.OriginalIRLx + (eX - this._navigator.viewport.OriginalLmargin) / this._navigator.viewport.OriginalZoomx;\n            let delta = (x1 - this._navigator.viewport.IRLCaptureStartX);\n            this.DisableRedraw();\n            this._xAxis.set_minMax(this._navigator.viewport.OriginalXAxisMin + delta, this._navigator.viewport.OriginalXAxisMax + delta);\n            this.AllowRedraw();\n            this.redraw();\n            return;\n        }\n    }\n    cross(p) { }\n    static IRLPointToViewPort(viewport, p, IRLy, zoomy) {\n        if (IRLy === undefined) {\n            let xx = viewport.Lmargin + Math.round((p.x - viewport.IRLx) * viewport.zoomx);\n            let yy = viewport.Height - viewport.Bmargin - Math.round((p.y - viewport.IRLy) * viewport.zoomy);\n            return new YDataRendering.Point(xx >> 0, yy >> 0);\n        }\n        let xx = viewport.Lmargin + Math.round((p.x - viewport.IRLx) * viewport.zoomx);\n        let yy = viewport.Height - viewport.Bmargin - Math.round((p.y - IRLy) * zoomy);\n        return new YDataRendering.Point(xx >> 0, yy >> 0);\n    }\n    static ViewPortPointToIRL(viewport, p, IRLy, zoomy) {\n        if (IRLy === undefined) {\n            return new pointXY(viewport.IRLx + (p.X - viewport.Lmargin) / viewport.zoomx, viewport.IRLy + (+viewport.Height - p.Y - viewport.Bmargin) / viewport.zoomy);\n        }\n        return new pointXY(viewport.IRLx + (p.X - viewport.Lmargin) / viewport.zoomx, IRLy + (+viewport.Height - p.Y - viewport.Bmargin) / zoomy);\n    }\n    static FindMinMax(start, end, data, count) {\n        let res = MinMaxHandler.DefaultValue();\n        // Do we need to consider that segment?\n        if (!(data[0].x < end) && (data[count - 1].x > start))\n            return res; // completely out of view port full zone, abort.\n        let N1 = 0;\n        let N2 = 0;\n        // find out the first visible point ;\n        let First = 0;\n        if (data[0].x < start) {\n            N1 = 0;\n            N2 = count - 1;\n            while (N2 - N1 > 1) {\n                let N = (N1 + N2) >> 1;\n                if (data[N].x > start)\n                    N2 = N;\n                else\n                    N1 = N;\n            }\n            First = N1 - 1;\n            if (First < 0)\n                First = 0;\n        }\n        // data clipping: find out the last visible point;\n        let Last = count - 1;\n        if (data[Last] === undefined) {\n            debugger;\n        }\n        if (data[Last].x > end) {\n            N1 = 0;\n            N2 = count - 1;\n            while (N2 - N1 > 1) {\n                let N = (N1 + N2) >> 1;\n                if (data[N].x < end)\n                    N1 = N;\n                else\n                    N2 = N;\n            }\n            Last = N2 + 1;\n            if (Last > count - 1)\n                Last = count - 1;\n        }\n        res.Min = data[First].y;\n        res.Max = data[First].y;\n        for (let i = First + 1; i <= Last; i++) {\n            if (data[i].y < res.Min)\n                res.Min = data[i].y;\n            if (data[i].y > res.Max)\n                res.Max = data[i].y;\n        }\n        return res;\n    }\n    resetlegendPens() {\n        for (let i = 0; i < this._series.length; i++) {\n            this._series[i].resetlegendPen();\n        }\n    }\n    drawLegendPanel(g, viewPortWidth, viewPortHeight, mainViewPort) {\n        let verticalRatio = 1.25;\n        if (!this._legendPanel.enabled)\n            return;\n        let legendWidths = new Array(this._series.length);\n        let legendHeight = new Array(this._series.length);\n        let ofsetx = new Array(this._series.length);\n        let ofsety = new Array(this._series.length);\n        let legends = new Array(this._series.length);\n        let totalHeight = 0;\n        let totalWidth = 0;\n        let maxWidth = 0;\n        let maxHeight = 0;\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.SingleBitPerPixelGridFit;\n        g.SetClip(new YDataRendering.YRectangle(0, 0, viewPortWidth, viewPortHeight));\n        for (let i = 0; i < this._series.length; i++) {\n            if (this._series[i].legend != \"\")\n                legends[i] = this._series[i].legend;\n            else\n                legends[i] = \"Series \" + (i + 1).toString();\n        }\n        if ((this._legendPanel.position == LegendPanel.Position.TOP) || (this._legendPanel.position == LegendPanel.Position.BOTTOM)) {\n            let availableWidth = viewPortWidth - 2 * this._legendPanel.padding + this._legendPanel.borderthickness;\n            if (this._legendPanel.overlap)\n                availableWidth = availableWidth - mainViewPort.Lmargin - mainViewPort.Rmargin;\n            totalHeight = 0; // 2 * _legendPanel.padding + legendPanel.borderthickness;\n            let xx = 0;\n            let yy = 0;\n            for (let i = 0; i < this._series.length; i++) {\n                if ((this._series[i].segments.length > 0) && (this._series[i].visible) && (!this._series[i].disabled)) {\n                    let ssize = g.MeasureString(legends[i], this._legendPanel.font, 100000);\n                    legendHeight[i] = (ssize.height) + 1;\n                    let ww = (ssize.width + 20);\n                    if (xx == 0)\n                        totalHeight += ssize.height;\n                    if (availableWidth - xx < ww) {\n                        if (xx == 0) {\n                            ofsetx[i] = xx;\n                            ofsety[i] = yy;\n                            yy += ssize.height;\n                            if (maxWidth < ww)\n                                maxWidth = ww;\n                        }\n                        else {\n                            yy += ssize.height;\n                            ofsetx[i] = 0.0;\n                            ofsety[i] = yy;\n                            xx = ww;\n                            totalHeight += ssize.height;\n                            if (maxWidth < xx)\n                                maxWidth = xx;\n                        }\n                    }\n                    else {\n                        ofsetx[i] = xx;\n                        ofsety[i] = yy;\n                        xx += ww;\n                        if (maxWidth < xx)\n                            maxWidth = xx;\n                    }\n                }\n            }\n            if (totalWidth > availableWidth) { // noinspection JSUnusedAssignment\n                totalWidth = availableWidth;\n            }\n        }\n        else {\n            let ty = 0;\n            for (let i = 0; i < this._series.length; i++) {\n                if ((this._series[i].segments.length > 0) && (this._series[i].visible) && (!this._series[i].disabled)) {\n                    let ssize = g.MeasureString(legends[i], this._legendPanel.font, 100000);\n                    legendWidths[i] = (ssize.width) + 1;\n                    if (maxWidth < legendWidths[i] + 20)\n                        maxWidth = legendWidths[i] + 20;\n                    legendHeight[i] = (ssize.height) + 1;\n                    if (maxHeight < legendHeight[i])\n                        maxHeight = legendHeight[i];\n                    ofsetx[i] = 0;\n                    ofsety[i] = ty;\n                    ty += ssize.height * verticalRatio;\n                    totalHeight += i == 0 ? ssize.height : ssize.height * verticalRatio;\n                }\n            }\n        }\n        let w = maxWidth + 2 * this._legendPanel.padding + this._legendPanel.borderthickness;\n        let h = totalHeight + 2 * this._legendPanel.padding + this._legendPanel.borderthickness;\n        let x = 0;\n        let y = 0;\n        switch (this._legendPanel.position) {\n            case LegendPanel.Position.LEFT:\n                x = this._legendPanel.horizontalMargin;\n                if (!this._legendPanel.overlap) {\n                    mainViewPort.Lmargin += (w + 2 * this.legendPanel.horizontalMargin + this.legendPanel.borderthickness) >> 0;\n                    y = (viewPortHeight - h) / 2;\n                }\n                else {\n                    x += mainViewPort.Lmargin;\n                    y = mainViewPort.Tmargin + (viewPortHeight - mainViewPort.Tmargin - mainViewPort.Bmargin - h) / 2;\n                }\n                break;\n            case LegendPanel.Position.TOPLEFT:\n                x = this._legendPanel.horizontalMargin;\n                y = this._legendPanel.verticalMargin;\n                if (!this._legendPanel.overlap) {\n                    mainViewPort.Lmargin += (w + 2 * this.legendPanel.horizontalMargin + this.legendPanel.borderthickness) >> 0;\n                }\n                else {\n                    x += mainViewPort.Lmargin;\n                    y += mainViewPort.Tmargin;\n                }\n                break;\n            case LegendPanel.Position.TOP:\n                if (!this._legendPanel.overlap) {\n                    x = (viewPortWidth - w) / 2 - this._legendPanel.horizontalMargin - this._legendPanel.borderthickness;\n                    y = this._legendPanel.verticalMargin + this._legendPanel.borderthickness;\n                    mainViewPort.Tmargin += (totalHeight + this._legendPanel.verticalMargin + 2 * this._legendPanel.verticalMargin + this._legendPanel.borderthickness) >> 0;\n                }\n                else {\n                    x = mainViewPort.Lmargin + (viewPortWidth - mainViewPort.Lmargin - mainViewPort.Rmargin - w) / 2 - this._legendPanel.horizontalMargin - this._legendPanel.borderthickness;\n                    y = mainViewPort.Tmargin + this._legendPanel.verticalMargin - this._legendPanel.borderthickness;\n                }\n                break;\n            case LegendPanel.Position.TOPRIGHT:\n                x = viewPortWidth - this._legendPanel.horizontalMargin - w;\n                y = this._legendPanel.verticalMargin;\n                if (!this._legendPanel.overlap) {\n                    mainViewPort.Rmargin += (w + 2 * this._legendPanel.horizontalMargin + this._legendPanel.borderthickness) >> 0;\n                }\n                else {\n                    x -= mainViewPort.Rmargin;\n                    y += mainViewPort.Tmargin;\n                }\n                break;\n            case LegendPanel.Position.RIGHT:\n                x = viewPortWidth - this._legendPanel.horizontalMargin - w;\n                if (!this._legendPanel.overlap) {\n                    mainViewPort.Rmargin += (w + 2 * this._legendPanel.horizontalMargin + this._legendPanel.borderthickness) >> 0;\n                    y = (viewPortHeight - h) / 2;\n                }\n                else {\n                    x -= mainViewPort.Rmargin;\n                    y = mainViewPort.Tmargin + (viewPortHeight - mainViewPort.Tmargin - mainViewPort.Bmargin - h) / 2;\n                }\n                break;\n            case LegendPanel.Position.BOTTOMRIGHT:\n                x = viewPortWidth - this._legendPanel.horizontalMargin - w;\n                if (!this._legendPanel.overlap) {\n                    mainViewPort.Rmargin += (w + 2 * this._legendPanel.horizontalMargin + this._legendPanel.borderthickness) >> 0;\n                    y = viewPortHeight - this._legendPanel.verticalMargin - h;\n                }\n                else {\n                    x -= mainViewPort.Rmargin;\n                    y = viewPortHeight - mainViewPort.Bmargin - h - this._legendPanel.verticalMargin;\n                }\n                break;\n            case LegendPanel.Position.BOTTOM:\n                if (!this._legendPanel.overlap) {\n                    x = (viewPortWidth - w) / 2 - this._legendPanel.horizontalMargin - this._legendPanel.borderthickness;\n                    y = viewPortHeight - this._legendPanel.verticalMargin - 2 * this._legendPanel.padding - this._legendPanel.borderthickness - totalHeight;\n                    mainViewPort.Bmargin += (totalHeight + 2 * this._legendPanel.padding + 2 * this._legendPanel.verticalMargin + this._legendPanel.borderthickness);\n                }\n                else {\n                    x = mainViewPort.Lmargin + (viewPortWidth - mainViewPort.Lmargin - mainViewPort.Rmargin - w) / 2 - this._legendPanel.horizontalMargin - this._legendPanel.borderthickness;\n                    y = viewPortHeight - mainViewPort.Bmargin - totalHeight - 2 * this._legendPanel.padding - 2 * this._legendPanel.verticalMargin - this._legendPanel.borderthickness;\n                }\n                break;\n            case LegendPanel.Position.BOTTOMLEFT:\n                x = this._legendPanel.horizontalMargin;\n                y = this._legendPanel.verticalMargin;\n                if (!this._legendPanel.overlap) {\n                    mainViewPort.Lmargin += (w + 2 * this._legendPanel.horizontalMargin + this._legendPanel.borderthickness);\n                    y = viewPortHeight - this._legendPanel.verticalMargin - h;\n                }\n                else {\n                    x += mainViewPort.Lmargin;\n                    y = viewPortHeight - mainViewPort.Bmargin - h - this._legendPanel.verticalMargin;\n                }\n                break;\n        }\n        let rect = new YDataRendering.YRectangle(x >> 0, y >> 0, w >> 0, h >> 0);\n        g.FillRectangle(this._legendPanel.bgBrush, rect);\n        g.DrawRectangle(this._legendPanel.pen, rect);\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        for (let i = 0; i < this._series.length; i++) {\n            if ((this._series[i].segments.length > 0) && (this._series[i].visible) && (!this._series[i].disabled)) {\n                g.DrawStringXY(legends[i], this._legendPanel.font, this._legendPanel.font.brush, (x + ofsetx[i] + 20 + this._legendPanel.padding) >> 0, (y + ofsety[i] + this._legendPanel.padding) >> 0);\n                let px = (x + ofsetx[i] + this._legendPanel.borderthickness / 2 + this._legendPanel.padding + 6) >> 0;\n                let py = (y + ofsety[i] + this._legendPanel.padding + legendHeight[i] / 2) >> 0;\n                g.DrawLine(this._series[i].legendPen, new YDataRendering.PointF(px, py), new YDataRendering.PointF(px + 12, py));\n            }\n        }\n    }\n    static DoSegmentRendering(w, g, p, data, count, xTimeStart, xTimeEnd) {\n        if ((data[0].x > xTimeEnd) || (data[count - 1].x < xTimeStart))\n            return 0;\n        // let Bottomleft: pointXY = YGraph.ViewPortPointToIRL(w, new YDataRendering.Point(w.Lmargin, w.Height - w.Bmargin));\n        // let TopRight: pointXY = YGraph.ViewPortPointToIRL(w, new YDataRendering.Point(w.Width - w.Rmargin, w.Tmargin));\n        // Do we need to draw that segment?\n        // if ((data[0].x > TopRight.x) || (data[count - 1].x < Bottomleft.x)) return 0; // completely out of view port display zone, abort.\n        let isSVG = g instanceof YDataRendering.YGraphicsSVG;\n        let N1 = 0;\n        let N2 = 0;\n        // data clipping: find out the first point to draw;\n        let First = 0;\n        if (data[0].x < xTimeStart) {\n            N1 = 0;\n            N2 = count - 1;\n            while (N2 - N1 > 1) {\n                let N = (N1 + N2) >> 1;\n                if (data[N].x > xTimeStart)\n                    N2 = N;\n                else\n                    N1 = N;\n            }\n            First = N1 - 1;\n            if (First < 0)\n                First = 0;\n        }\n        // data clipping: find out the last point to draw;\n        let Last = count - 1;\n        if (data[Last].x > xTimeEnd) {\n            N1 = 0;\n            N2 = count - 1;\n            while (N2 - N1 > 1) {\n                let N = (N1 + N2) >> 1;\n                if (data[N].x < xTimeEnd)\n                    N1 = N;\n                else\n                    N2 = N;\n            }\n            Last = N2 + 1;\n            if (Last > count - 1)\n                Last = count - 1;\n        }\n        if (Last - First > 2 * w.Width - w.Lmargin - w.Rmargin) // to many points to Draw, lets do some clean up\n         {\n            let ToDraw = new Array(3 * (Last - First + 1));\n            let Current = YGraph.IRLPointToViewPort(w, data[First]);\n            let New;\n            let i = First + 1;\n            let n = 0;\n            let max;\n            let min;\n            let limit;\n            while (i < Last) {\n                ToDraw[n++] = new YDataRendering.PointF(Current.X, Current.Y);\n                min = data[i].y;\n                max = min;\n                limit = YGraph.ViewPortPointToIRL(w, new YDataRendering.Point(Current.X + 1, Current.Y + 1)).x;\n                do {\n                    if (data[i].y > max)\n                        max = data[i].y;\n                    if (data[i].y < min)\n                        min = data[i].y;\n                    i++;\n                } while ((i < Last) && (data[i].x < limit));\n                let p1 = YGraph.IRLPointToViewPort(w, new pointXY(data[i].x, min));\n                let p2 = YGraph.IRLPointToViewPort(w, new pointXY(data[i].x, max));\n                if (Math.abs(p1.Y - p2.Y) > 2) {\n                    ToDraw[n++] = new YDataRendering.PointF(p1.X, p1.Y);\n                    ToDraw[n++] = new YDataRendering.PointF(p2.X, p2.Y);\n                }\n                /*\n                let min: number = Current.Y;\n                let max: number = Current.Y;\n                ToDraw[n++] = new YDataRendering.PointF(Current.X, Current.Y);\n                do\n                {\n                    New = YGraph.IRLPointToViewPort(w, data[i]);\n                    if (New.Y > max) max = New.Y;\n                    if (New.Y < min) min = New.Y;\n                    i++;\n                } while ((i < Last) && (Current.X == New.X));\n\n                ToDraw[n++] = new YDataRendering.PointF(Current.X, min);\n                ToDraw[n++] = new YDataRendering.PointF(Current.X, max);\n                */\n                Current = YGraph.IRLPointToViewPort(w, data[i]);\n            }\n            ToDraw[n++] = Current; //YGraph.IRLPointToViewPort(w, data[Last]);\n            ToDraw = ToDraw.slice(0, n);\n            if (n > 1)\n                g.DrawLines(p, ToDraw);\n            return n;\n        }\n        else { // in SVG mode, DrawLines linejoins are rendered correctly,\n            // in bitmap mode they aren't\n            if (isSVG) {\n                let ToDraw = new Array(Last - First + 1);\n                for (let i = First; i <= Last; i++) {\n                    ToDraw[i - First] = YGraph.IRLPointToViewPort(w, data[i]);\n                }\n                g.DrawLines(p, ToDraw);\n            }\n            else {\n                for (let i = First; i < Last; i++) {\n                    g.DrawLine(p, YGraph.IRLPointToViewPort(w, data[i]), YGraph.IRLPointToViewPort(w, data[i + 1]));\n                }\n            }\n        }\n        return Last - First;\n    }\n    DrawYAxisZones(w, g, scale) {\n        if (!scale.visible)\n            return;\n        let Delta = scale.startStopStep.dataMax - scale.startStopStep.dataMin;\n        let YZoom = (Delta) / (w.Height - w.Bmargin - w.Tmargin);\n        for (let i = 0; i < scale.zones.length; i++) {\n            if (scale.zones[i].visible) {\n                let max = scale.zones[i].max;\n                let min = scale.zones[i].min;\n                if (Number.isNaN(max)) {\n                    max = scale.startStopStep.dataMax;\n                }\n                if (Number.isNaN(min))\n                    min = scale.startStopStep.dataMin;\n                if (max < min) {\n                    let t = max;\n                    max = min;\n                    min = t;\n                }\n                let y0 = w.Height - w.Bmargin - Math.round((max - scale.startStopStep.dataMin) / YZoom) >> 0;\n                let h = Math.round((max - min) / YZoom) >> 0;\n                g.FillRectangleXYHW(scale.zones[i].zoneBrush, this.mainViewPort.Lmargin, y0, this.mainViewPort.Width - this.mainViewPort.Rmargin - this.mainViewPort.Lmargin + 1, h);\n            }\n        }\n    }\n    DrawXAxisZones(w, g, scale) {\n        if (!scale.visible)\n            return;\n        let delta = scale.max - scale.min;\n        let XZoom = (delta) / (w.Width - w.Lmargin - w.Rmargin);\n        for (let i = 0; i < scale.zones.length; i++) {\n            if (scale.zones[i].visible) {\n                let max = scale.zones[i].max;\n                let min = scale.zones[i].min;\n                if (Number.isNaN(max))\n                    max = scale.min;\n                if (Number.isNaN(min))\n                    min = scale.max;\n                if (max < min) {\n                    let t = max;\n                    max = min;\n                    min = t;\n                }\n                let x0 = w.Lmargin + Math.round((min - scale.min) / XZoom) >> 0;\n                g.FillRectangleXYHW(scale.zones[i].zoneBrush, x0, this.mainViewPort.Tmargin, ((max - min) / XZoom) >> 0, this.mainViewPort.Height - this.mainViewPort.Tmargin - this.mainViewPort.Bmargin);\n            }\n        }\n    }\n    // noinspection JSSuspiciousNameCombination\n    static DrawYAxis(w, g, axis, ofset, simulation) {\n        if (!axis.visible) {\n            axis.innerWidth = 0;\n            // noinspection JSSuspiciousNameCombination\n            return axis.innerWidth;\n        }\n        let Delta = axis.startStopStep.dataMax - axis.startStopStep.dataMin;\n        let YZoom = (Delta) / (w.Height - w.Bmargin - w.Tmargin);\n        let leftSide = axis.position == YAxis.HrzPosition.LEFT;\n        let x = leftSide ? w.Lmargin - ofset : (w.Width - w.Rmargin + ofset);\n        if (!simulation)\n            g.DrawLineXY(axis.pen, x, w.Tmargin, x, w.Height - w.Bmargin);\n        let format = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        format.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n        format.Alignment = leftSide ? 2 /* YDataRendering.YStringFormat.StringAlignment.Far */ : 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n        let FirstStep = axis.startStopStep.step * (Math.floor(axis.startStopStep.start / axis.startStopStep.step));\n        if (FirstStep < 0) {\n            FirstStep -= axis.startStopStep.step;\n        }\n        let stepCount = (((Delta - (FirstStep - axis.startStopStep.dataMin)) / axis.startStopStep.step) >> 0) + 1;\n        if (!simulation)\n            g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let UnitWidth = 0;\n        let labelPrecision = 0; // fix me\n        if (axis.startStopStep.precision < 0)\n            labelPrecision = (-axis.startStopStep.precision);\n        if (stepCount < w.Height) // protection again infinity of graduation\n         {\n            for (let i = 0; i < stepCount; i++) {\n                let y = Math.round((FirstStep + i * axis.startStopStep.step - axis.startStopStep.dataMin) / YZoom) >> 0;\n                if (y >= 0) {\n                    y = w.Height - w.Bmargin - y;\n                    let v = FirstStep + i * axis.startStopStep.step;\n                    if (!simulation) {\n                        if ((axis.showGrid) && ((i > 0) || (axis.startStopStep.dataMin != 0)))\n                            g.DrawLineXY(axis.gridPen, w.Lmargin, y, w.Width - w.Rmargin, y);\n                        if ((Math.abs(v) < 1E-6) && axis.highlightZero) {\n                            g.DrawLineXY(axis.pen, w.Lmargin, y, w.Width - w.Rmargin, y);\n                        }\n                        g.DrawLineXY(axis.pen, x + ((leftSide) ? -2 : 2), y, x + ((leftSide) ? 5 : -5), y);\n                    }\n                    let label = v.toFixed(labelPrecision);\n                    let ssize = g.MeasureString(label, axis.font, 100000);\n                    if (ssize.width > UnitWidth)\n                        UnitWidth = ssize.width;\n                    if (!simulation) {\n                        let p = new YDataRendering.Point(x + (leftSide ? -3 : 3), y);\n                        g.DrawStringPF(label, axis.font, axis.font.brush, p, format);\n                    }\n                }\n            }\n        }\n        if (axis.legend.title != \"\") {\n            let size = g.MeasureString(axis.legend.title, axis.legend.font, 100000);\n            if (!simulation) {\n                let format = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n                format.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                format.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                format.Trimming = 0 /* YDataRendering.YStringFormat.StringTrimming.None */;\n                let legendX = x + ((leftSide) ? -UnitWidth - size.height : UnitWidth + size.height + 2) >> 0;\n                let legendY = (w.Tmargin + (w.Height - w.Tmargin - w.Bmargin) / 2) >> 0;\n                g.Transform(legendX, legendY, leftSide ? -Math.PI / 2 : Math.PI / 2);\n                g.DrawStringPF(axis.legend.title, axis.legend.font, axis.legend.font.brush, new YDataRendering.Point(0, 0), format);\n                g.ResetTransform();\n            }\n            // noinspection JSSuspiciousNameCombination\n            UnitWidth += size.height;\n        }\n        axis.innerWidth = (UnitWidth >> 0) + 10;\n        // noinspection JSSuspiciousNameCombination\n        return axis.innerWidth;\n    }\n    DrawMonitorXAxis(w, g, xRange, format) {\n        let delta = xRange.Max - xRange.Min;\n        let scale = TimeConverter.BestTimeformat(delta, delta, this.xAxis.timeReference);\n        let XZoom = (delta) / (w.Width - w.Lmargin - w.Rmargin);\n        let stepCount = ((delta / scale.step) >> 0) + 2;\n        let FirstStep = scale.step * (Math.floor(xRange.Min / scale.step));\n        if (FirstStep < xRange.Min)\n            FirstStep += scale.step;\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let y = w.Height - w.Bmargin;\n        g.DrawLineXY(this._navigator.pen, w.Lmargin, w.Height - w.Bmargin - 1, w.Width - w.Rmargin, w.Height - w.Bmargin - 1);\n        let label;\n        let t = FirstStep;\n        do {\n            let d = TimeConverter.FromUnixTime(t);\n            if (scale.step > 30 * 86400) // resynchronize with the beginning of the month.\n             {\n                t = TimeConverter.ToUnixTime(new Date(d.getFullYear(), d.getMonth(), 1));\n            }\n            if (t >= xRange.Min) {\n                let x = w.Lmargin + Math.round((t - xRange.Min) / XZoom);\n                g.DrawLineXY(this._navigator.pen, x, y, x, y - 4);\n                if (format == XAxis.FORMATAUTO) {\n                    label = TimeConverter.FromUnixTime(t).ToString(scale.format);\n                }\n                else {\n                    label = TimeConverter.FromUnixTime(t).ToString(format);\n                }\n                let ssize = g.MeasureString(label, this._navigator.font, 100000);\n                g.DrawString(label, this._navigator.font, this._navigator.font.brush, new YDataRendering.Point((x - ssize.width / 2), (y - ssize.height - 1)));\n            }\n            t += scale.step;\n        } while (t < xRange.Max);\n    }\n    static XLabel(t, scale, scaleFormat, timeRange) {\n        let label;\n        if (scale.timeReference == TimeConverter.TimeReference.ABSOLUTE) {\n            if (scale.labelFormat == XAxis.FORMATAUTO) {\n                label = TimeConverter.FromUnixTime(t).ToString(scaleFormat.format);\n            }\n            else {\n                label = t.toString();\n            } //(scale.labelFormat);\n        }\n        else {\n            let ticks = YTimeSpan.TicksPerSecond * (Math.round(1000 * (t - scale.zeroTime)) / 1000);\n            label = (ticks < 0) ? \"-\" + new YTimeSpan(-ticks).toString(scaleFormat.format) : new YTimeSpan(ticks).toString(scaleFormat.format);\n        }\n        return label;\n    }\n    DrawXAxis(w, g, scale, simulation) {\n        if (w.Width - w.Rmargin - w.Lmargin < 10)\n            return 1;\n        //string lastdate = \"\";\n        let stringFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        stringFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */; // Horizontal Alignment\n        let bottomSide = scale.position == XAxis.VrtPosition.BOTTOM;\n        let y = bottomSide ? w.Height - w.Bmargin : w.Tmargin;\n        if (!simulation)\n            g.DrawLineXY(scale.pen, w.Lmargin, y, w.Width - w.Rmargin, y);\n        let delta = scale.max - scale.min;\n        let XZoom = (delta) / (w.Width - w.Lmargin - w.Rmargin);\n        let stepCount = ((delta / scale.step) >> 0) + 1;\n        let FirstStep = 0;\n        let timeRange = MinMaxHandler.DefaultValue();\n        for (let i = 0; i < this._series.length; i++) {\n            if (!this._series[i].disabled) {\n                timeRange = MinMaxHandler.Combine(timeRange, this._series[i].timeRange);\n            }\n        }\n        scale.zeroTime = timeRange.Min;\n        if (scale.timeReference == TimeConverter.TimeReference.ABSOLUTE) {\n            FirstStep = scale.step * (Math.floor(scale.min / scale.step));\n            timeRange.Min = scale.min;\n            timeRange.Max = scale.max;\n        }\n        else {\n            if (Number.isNaN(timeRange.Min))\n                return 0;\n            FirstStep = timeRange.Min + scale.step * (Math.floor((scale.min - scale.zeroTime) / scale.step));\n        }\n        if (FirstStep < scale.min)\n            FirstStep += scale.step;\n        let timeOffset = 0;\n        if (scale.timeReference != TimeConverter.TimeReference.ABSOLUTE) {\n            timeOffset = FirstStep;\n        }\n        scale.fullSize = timeRange.Max - timeRange.Min;\n        //log(\"Viewport Size: \" + (scale.max - scale.min).toString() + \"Sec (\" + ((scale.max - scale.min)/86400).toString()+\" days)\");\n        let scaleFormat = scale.bestFormat(timeRange.Max - timeRange.Min, scale.max - scale.min);\n        if (!simulation)\n            g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        let UnitHeight = 0;\n        let label;\n        scale.step = scaleFormat.step;\n        // compute the size of the first label\n        let t = parseFloat(FirstStep.toString());\n        label = YGraph.XLabel(t, scale, scaleFormat, timeRange);\n        let ssize = g.MeasureString(label, scale.font, 100000);\n        // Compute step to skip, to make sure labels don't overlap\n        let mod = 1;\n        while ((mod * (w.Width - w.Rmargin - w.Lmargin) / stepCount) < ssize.width) {\n            mod++;\n        }\n        let steps = Math.round((t - timeOffset) / scale.step) >> 0;\n        let previousT = 0;\n        do {\n            let d = TimeConverter.FromUnixTime(t);\n            if ((scale.step > 32 * 86400) && (scale.timeReference == TimeConverter.TimeReference.ABSOLUTE)) // resynchronize with the begining of the month.\n             {\n                if (scale.step >= 365 * 86400) {\n                    let m = d.getMonth();\n                    t = TimeConverter.ToUnixTime(new Date(d.getFullYear() + (m > 5 ? 1 : 0), 0, 1));\n                }\n                else\n                    t = TimeConverter.ToUnixTime(new Date(d.getFullYear(), d.getMonth(), 1));\n                if (t < previousT) {\n                    debugger;\n                } // if this happens, we are in deep sh*t\n                // console.log(\" \" + t.toString() +\" / \"+scale.max.toString() + \" step = \"+scale.step.toString())\n            }\n            if (t >= scale.min) {\n                let x = w.Lmargin + Math.round((t - scale.min) / XZoom) >> 0;\n                if (x <= w.Width - w.Rmargin) {\n                    if (!simulation) {\n                        if (scale.showGrid)\n                            g.DrawLineXY(scale.gridPen, x, w.Tmargin, x, w.Height - w.Bmargin);\n                        g.DrawLineXY(scale.pen, x, y + (bottomSide ? 2 : -2), x, y + (bottomSide ? -5 : 5));\n                    }\n                    label = YGraph.XLabel(t, scale, scaleFormat, timeRange);\n                    //console.log(\"t=\"+t+\" label=\"+label);\n                    ssize = g.MeasureString(label, scale.font, 100000);\n                    if (ssize.height > UnitHeight)\n                        UnitHeight = ssize.height;\n                    if (!simulation) {\n                        if (steps % mod == 0) \n                        //if (Math.round(100 * (t - timeOffset)) % Math.round(100 * (scale.step * mod)) == 0)\n                        {\n                            g.DrawStringPF(label, scale.font, scale.font.brush, new YDataRendering.PointF(x, y + (bottomSide ? +5 : (-ssize.height) >> 0) - 2), stringFormat);\n                        }\n                    }\n                }\n            }\n            previousT = t;\n            t += scale.step;\n            if (t < previousT)\n                debugger; // if this happens, we are in deep sh*t\n            steps++;\n        } while (t <= scale.max);\n        if (scale.legend.title != \"\") {\n            let size = g.MeasureString(scale.legend.title, scale.legend.font, 100000);\n            if (!simulation) {\n                let legendX = (w.Lmargin + (w.Width - w.Lmargin - w.Rmargin - size.width) / 2) >> 0;\n                let legendY = (bottomSide ? w.Height - w.Bmargin + UnitHeight + 5 : w.Tmargin - UnitHeight - size.height * 1.5);\n                g.DrawString(scale.legend.title, scale.legend.font, scale.legend.font.brush, new YDataRendering.PointF(legendX, legendY));\n            }\n            UnitHeight += size.height >> 0;\n        }\n        scale.innerHeight = (UnitHeight >> 0) + 10;\n        // noinspection JSSuspiciousNameCombination\n        return scale.innerHeight;\n    }\n    pixelxSize(mainViewPort, scaleX) {\n        let dtime = scaleX.max - scaleX.min;\n        let dview = mainViewPort.Width - mainViewPort.Lmargin - mainViewPort.Rmargin;\n        if (dview > 0)\n            return dtime / dview;\n        return 0;\n    }\n    TimeToAutoSting(t, mainViewPort, scaleX) {\n        let strValue = \"\";\n        let dtime = scaleX.max - scaleX.min;\n        let months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n        // double dview = mainViewPort.Width - mainViewPort.Lmargin - mainViewPort.Rmargin;\n        if (dtime > 0) {\n            let pixelSize = this.pixelxSize(mainViewPort, scaleX);\n            if (pixelSize > 0) {\n                if (scaleX.timeReference == TimeConverter.TimeReference.ABSOLUTE) {\n                    let date = TimeConverter.FromUnixTime(t);\n                    let MMMM = months[date.getMonth()];\n                    let dd = date.getDate().toString();\n                    let HH = date.getHours().toString();\n                    if (HH.length < 2)\n                        HH = \"0\" + HH;\n                    let mm = date.getMinutes().toString();\n                    if (mm.length < 2)\n                        mm = \"0\" + mm;\n                    let ss = date.getSeconds().toString();\n                    if (ss.length < 2)\n                        ss = \"0\" + ss;\n                    let ff = Math.round(date.getMilliseconds() / 10).toString();\n                    if (ff.length < 2)\n                        ff = \"0\" + ss;\n                    let f = Math.round(date.getMilliseconds() / 100).toString();\n                    if (dtime >= 86400)\n                        strValue += MMMM + \" \" + dd;\n                    if (pixelSize < 0.1) {\n                        strValue += (strValue != \"\" ? \" \" : \"\") + HH + \":\" + mm + \":\" + ss + \".\" + ff;\n                    }\n                    else if (pixelSize < 1) {\n                        strValue += (strValue != \"\" ? \" \" : \"\") + HH + \":\" + mm + \":\" + ss + \".\" + f;\n                    }\n                    else if (pixelSize < 60) {\n                        strValue += (strValue != \"\" ? \" \" : \"\") + HH + \":\" + mm + \":\" + ss;\n                    }\n                    else if (pixelSize < 3600) {\n                        strValue += (strValue != \"\" ? \" \" : \"\") + HH + \":\" + mm;\n                    }\n                    else if (pixelSize < 86400)\n                        strValue += (strValue != \"\" ? \" \" : \"\") + HH + \"H\";\n                }\n                else {\n                    let format = TimeConverter.RelativeFormat(scaleX.fullSize, dtime, pixelSize);\n                    let ticks = YTimeSpan.TicksPerSecond * (Math.round(100 * (t - scaleX.zeroTime)) / 100);\n                    strValue += (ticks < 0) ? \"-\" + new YTimeSpan(-ticks).toString(format) : new YTimeSpan(ticks).toString(format);\n                }\n            }\n        }\n        return strValue;\n    }\n    DrawDataTracker(g, viewPortWidth, viewPortHeight, scaleX) {\n        if (!this._dataTracker.enabled) {\n            return;\n        }\n        let p = this.mouseLocalPosition();\n        if (p == null) {\n            return;\n        }\n        if (p.X <= this.mainViewPort.Lmargin) {\n            return;\n        }\n        if (p.Y <= this.mainViewPort.Tmargin) {\n            return;\n        }\n        if (p.X >= this.UIContainer.width - this.mainViewPort.Rmargin) {\n            return;\n        }\n        if (p.Y >= this.UIContainer.height - this.mainViewPort.Bmargin) {\n            return;\n        }\n        g.SetClip(new YDataRendering.YRectangle(0, 0, viewPortWidth, viewPortHeight));\n        let DataPoint = YGraph.ViewPortPointToIRL(this.mainViewPort, p); //DataPoint Y value will be incorrect, but we don't need it.\n        let delta = -1;\n        let bestindex = -1;\n        let bestmatch = new Array(this._series.length);\n        let IRLmatch = new Array(this._series.length);\n        for (let i = 0; i < this._series.length; i++) {\n            if ((this._series[i].visible) && (!this._series[i].disabled)) {\n                let p2 = this._series[i].findClosestValue(DataPoint.x, false);\n                if (p2 != null) {\n                    IRLmatch[i] = p2;\n                    bestmatch[i] = YGraph.IRLPointToViewPort(this.mainViewPort, IRLmatch[i], this.yAxes[this._series[i].yAxisIndex].IRLy, this.yAxes[this._series[i].yAxisIndex].zoom);\n                    if (bestindex < 0 || (delta > Math.abs(bestmatch[i].Y - p.Y))) {\n                        delta = Math.abs(bestmatch[i].Y - p.Y);\n                        if ((this._dataTracker.detectionDistance == 0) ||\n                            ((delta <= this._dataTracker.detectionDistance) &&\n                                (Math.abs(bestmatch[i].X - p.X) < this._dataTracker.detectionDistance))) {\n                            bestindex = i;\n                        }\n                    }\n                }\n            }\n        }\n        if (bestindex >= 0) {\n            let xx = (bestmatch[bestindex].X - this._dataTracker.diameter / 2) >> 0;\n            let yy = (bestmatch[bestindex].Y - this._dataTracker.diameter / 2) >> 0;\n            let dd = this._dataTracker.diameter;\n            g.FillEllipse(this._series[bestindex].brush, xx, yy, dd, dd);\n            g.DrawEllipse(this._dataTracker.pen, xx, yy, dd, dd);\n            let dx;\n            let dy;\n            if (p.X > this.mainViewPort.Lmargin + (viewPortWidth - this.mainViewPort.Lmargin - this.mainViewPort.Rmargin) / 2)\n                dx = -1;\n            else\n                dx = 1;\n            if (p.Y > this.mainViewPort.Tmargin + (viewPortHeight - this.mainViewPort.Tmargin - this.mainViewPort.Bmargin) / 2)\n                dy = -1;\n            else\n                dy = 1;\n            let xx2 = (bestmatch[bestindex].X + dx * (this._dataTracker.handleLength * 1.5)) >> 0;\n            let yy2 = (bestmatch[bestindex].Y + dy * this._dataTracker.handleLength) >> 0;\n            g.DrawLineXY(this._dataTracker.pen, (bestmatch[bestindex].X + dx * 0.707 * this._dataTracker.diameter / 2) >> 0, (bestmatch[bestindex].Y + dy * 0.707 * this._dataTracker.diameter / 2) >> 0, (bestmatch[bestindex].X + dx * this._dataTracker.handleLength) >> 0, (bestmatch[bestindex].Y + dy * this._dataTracker.handleLength) >> 0);\n            g.DrawLineXY(this._dataTracker.pen, (bestmatch[bestindex].X + dx * this._dataTracker.handleLength) >> 0, (bestmatch[bestindex].Y + dy * this._dataTracker.handleLength) >> 0, xx2, yy2);\n            let strValue = \"\";\n            if (this._dataTracker.showSerieName)\n                strValue += this._series[bestindex].legend + \"\\r\\n\";\n            if (this._dataTracker.showTimeStamp) {\n                let t = IRLmatch[bestindex].x;\n                strValue += this.TimeToAutoSting(t, this.mainViewPort, scaleX) + \"\\r\\n\";\n            }\n            // this string based comparaison  is an exception this._dataTracker.dataPrecision might actually be\n            // DataTrackerDescription from Properties.ts which was  probably added to avoid precision values that\n            // make no Sense in Yocto-Visualization\n            if (this._dataTracker.dataPrecision.toString == DataTracker.DataPrecision.PRECISION_NOLIMIT.toString) {\n                strValue += IRLmatch[bestindex].y.toString() + this._series[bestindex].unit;\n            }\n            else {\n                let strvalue = this._dataTracker.dataPrecision.description; // not very elegent but it will do\n                let precision = -Math.log10(Number(strvalue));\n                strValue += IRLmatch[bestindex].y.toFixed(precision) + this._series[bestindex].unit; //FIXME\n            }\n            let ssize = g.MeasureString(strValue, this._dataTracker.font, 10000);\n            let labelwidth = (ssize.width + 2 * this._dataTracker.padding + this._dataTracker.borderthickness);\n            let labelHeight = (ssize.height + 2 * this._dataTracker.padding + this._dataTracker.borderthickness);\n            if (dx > 0) {\n                g.FillRectangleXYHW(this._dataTracker.bgBrush, xx2, yy2 - (labelHeight >> 1), labelwidth, labelHeight);\n                g.DrawRectangleXYHW(this._dataTracker.pen, xx2, yy2 - (labelHeight >> 1), labelwidth, labelHeight);\n                g.DrawStringXY(strValue, this._dataTracker.font, this._dataTracker.font.brush, (xx2 + this._dataTracker.padding) >> 0, (yy2 - (labelHeight >> 1) + this._dataTracker.padding) >> 0);\n            }\n            else {\n                g.FillRectangleXYHW(this._dataTracker.bgBrush, xx2 - labelwidth, yy2 - (labelHeight >> 1), labelwidth, labelHeight);\n                g.DrawRectangleXYHW(this._dataTracker.pen, xx2 - labelwidth, yy2 - (labelHeight >> 1), labelwidth, labelHeight);\n                g.DrawStringXY(strValue, this._dataTracker.font, this.dataTracker.font.brush, (xx2 + this._dataTracker.padding - labelwidth) >> 0, (yy2 - (labelHeight >> 1) + this._dataTracker.padding) >> 0);\n            }\n        }\n    }\n    /*\n     *  XAxis scale)\n    {\n        if (!scale.visible) return;\n        double delta = scale.max - scale.min;\n        Double XZoom = (delta) / (w.Width - w.Lmargin - w.Rmargin);\n\n        for (int i = 0; i < scale.zones.Count; i++)\n            if (scale.zones[i].visible)\n            {\n                double max = scale.zones[i].max;\n                double min = scale.zones[i].min;\n                if (double.IsNaN(max)) max = scale.min;\n                if (double.IsNaN(min)) min = scale.max;\n                if (max < min) { double t = max; max = min; min = t; }\n                int x0 =  w.Lmargin + (int)Math.Round((min - scale.min) / XZoom);\n     *\n     * */\n    DrawMarkers(w, g, scaleX, viewPortWidth, viewPortHeight) {\n        if (this._xAxis.markers.length == 0)\n            return;\n        g.SetClip(new YDataRendering.YRectangle(w.Lmargin, w.Tmargin, w.Width - w.Rmargin - w.Lmargin, w.Height - w.Bmargin - w.Tmargin));\n        let Bottomleft = YGraph.ViewPortPointToIRL(w, new YDataRendering.Point(w.Lmargin, w.Height - w.Bmargin));\n        let TopRight = YGraph.ViewPortPointToIRL(w, new YDataRendering.Point(w.Width - w.Rmargin, w.Tmargin));\n        let dy = (w.Height - w.Bmargin - w.Tmargin) / 100.0;\n        let pixelSize = -1;\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        for (let i = 0; i < this._xAxis.markers.length; i++) {\n            if (this._xAxis.markers[i].enabled) {\n                if (pixelSize < 0)\n                    pixelSize = this.pixelxSize(this.mainViewPort, scaleX);\n                let mustdraw = true;\n                let xpos = 0;\n                if (this._xAxis.markers[i].timereference == TimeConverter.TimeReference.RELATIVE) {\n                    if (this._xAxis.zeroTime > 0) {\n                        xpos = this._xAxis.markers[i].xposition + this._xAxis.zeroTime;\n                    }\n                    else {\n                        mustdraw = false;\n                    }\n                }\n                else {\n                    xpos = this._xAxis.markers[i].xposition;\n                }\n                if ((xpos > Bottomleft.x - 100 * pixelSize) && (xpos < TopRight.x + 100 * pixelSize) && mustdraw) {\n                    let p = YGraph.IRLPointToViewPort(w, new pointXY(xpos, 0));\n                    let xxCenter = (p.X) >> 0;\n                    let yyCenter = (w.Height - w.Bmargin - (this._xAxis.markers[i].yposition * dy)) >> 0;\n                    let strValue = this._xAxis.markers[i].text.replace(\"\\\\n\", \"\\n\");\n                    let now = new Date();\n                    if (strValue.indexOf('$') >= 0) {\n                        if (strValue.indexOf(\"$MARKERTIME$\") >= 0) {\n                            // string s = _xAxis.markers[i].xpositionIsRelative ? _xAxis.markers[i].positionOnXAxis.toString()\n                            // : TimeToAutoSting(_xAxis.markers[i].xposition, mainViewPort, scaleX);\n                            let s = this._xAxis.markers[i].timereference == TimeConverter.TimeReference.RELATIVE ? TimeConverter.secTimeSpanToString(this._xAxis.markers[i].xposition, pixelSize)\n                                : this.TimeToAutoSting(this._xAxis.markers[i].xposition, this.mainViewPort, scaleX);\n                            strValue = strValue.replace(\"$MARKERTIME$\", s);\n                        }\n                        if (strValue.indexOf(\"$VALUE\") >= 0) {\n                            for (let j = 0; j < this._series.length; j++) {\n                                if (!this._series[j].disabled) {\n                                    let pt = this._series[j].findClosestValue(xpos, true);\n                                    let st = (pt != null) ? (pt.y).toFixed(0) : \"--\";\n                                    strValue = strValue.replace(\"$VALUE\" + (j + 1).toString() + \"$\", st);\n                                }\n                                else {\n                                    strValue = strValue.replace(\"$VALUE\" + (j + 1).toString() + \"$\", \"\");\n                                }\n                            }\n                        }\n                        if (strValue.indexOf(\"$UNIT\") >= 0) {\n                            for (let j = 0; j < this._series.length; j++) {\n                                if (!this._series[j].disabled) {\n                                    strValue = strValue.replace(\"$UNIT\" + (j + 1).toString() + \"$\", this._series[j].unit);\n                                }\n                                else {\n                                    strValue = strValue.replace(\"$UNIT\" + (j + 1).toString() + \"$\", \"\");\n                                }\n                            }\n                        }\n                        if (strValue.indexOf(\"$LEGEND\") >= 0) {\n                            for (let j = 0; j < this._series.length; j++) {\n                                if (!this._series[j].disabled) {\n                                    strValue = strValue.replace(\"$LEGEND\" + (j + 1).toString() + \"$\", this._series[j].legend);\n                                }\n                                else {\n                                    strValue = strValue.replace(\"$LEGEND\" + (j + 1).toString() + \"$\", \"\");\n                                }\n                            }\n                        }\n                        if (this._xAxis.markers[i].PatchTextCallback != null) {\n                            strValue = this._xAxis.markers[i].PatchTextCallback(strValue);\n                        }\n                    }\n                    let ssize = g.MeasureString(strValue, this._xAxis.markers[i].font, 10000);\n                    let labelWidth = (ssize.width + 2 * this._xAxis.markers[i].padding + this._xAxis.markers[i].borderthickness);\n                    let labelHeight = (ssize.height + 2 * this._xAxis.markers[i].padding + this._xAxis.markers[i].borderthickness);\n                    g.FillRectangleXYHW(this._xAxis.markers[i].bgBrush, xxCenter - (labelWidth >> 1), yyCenter - (labelHeight >> 1), labelWidth >> 0, labelHeight >> 0);\n                    g.DrawRectangleXYHW(this._xAxis.markers[i].pen, xxCenter - (labelWidth >> 1), yyCenter - (labelHeight >> 1), labelWidth >> 0, labelHeight >> 0);\n                    let xText;\n                    switch (this._xAxis.markers[i].textAlign) {\n                        case Marker.TextAlign.LEFT:\n                            xText = xxCenter - (labelWidth >> 1) + this._xAxis.markers[i].padding;\n                            break;\n                        case Marker.TextAlign.RIGHT:\n                            xText = xxCenter + (labelWidth >> 1) - this._xAxis.markers[i].padding;\n                            break;\n                        default:\n                            xText = xxCenter;\n                            break;\n                    }\n                    g.DrawStringPF(strValue, this._xAxis.markers[i].font, this._xAxis.markers[i].font.brush, new YDataRendering.PointF(xText, yyCenter), this._xAxis.markers[i].stringFormat);\n                    g.DrawLineXY(this._xAxis.markers[i].pen, xxCenter, (w.Tmargin) >> 0, xxCenter, yyCenter - (labelHeight >> 1));\n                    g.DrawLineXY(this._xAxis.markers[i].pen, xxCenter, yyCenter + (labelHeight >> 1), xxCenter, (w.Height - w.Bmargin) >> 0);\n                    if (this._xAxis.markers[i].arrowSize > 0) {\n                        if (this._xAxis.markers[i].yposition > 25) {\n                            let triangle = [\n                                new YDataRendering.PointF((xxCenter - this._xAxis.markers[i].arrowSize), (yyCenter + (labelHeight >> 1))),\n                                new YDataRendering.PointF((xxCenter + this._xAxis.markers[i].arrowSize), (yyCenter + (labelHeight >> 1))),\n                                new YDataRendering.PointF(xxCenter, ((yyCenter + (labelHeight >> 1) + this._xAxis.markers[i].arrowSize)))\n                            ];\n                            g.FillPolygon(this._xAxis.markers[i].arrowBrush, triangle);\n                        }\n                        if (this._xAxis.markers[i].yposition < 75) {\n                            let triangle = [\n                                new YDataRendering.PointF((xxCenter - this._xAxis.markers[i].arrowSize), (yyCenter + (labelHeight >> 1))),\n                                new YDataRendering.PointF((xxCenter + this._xAxis.markers[i].arrowSize), (yyCenter + (labelHeight >> 1))),\n                                new YDataRendering.PointF(xxCenter, ((yyCenter - (labelHeight >> 1) - this._xAxis.markers[i].arrowSize)))\n                            ];\n                            g.FillPolygon(this._xAxis.markers[i].arrowBrush, triangle);\n                        }\n                    }\n                }\n            }\n        }\n        g.ResetClip();\n    }\n    DrawDataPanels(w, g, scaleX, scalesY, viewPortWidth, viewPortHeight) {\n        if (this._dataPanels.length == 0)\n            return;\n        g.SetClip(new YDataRendering.YRectangle(w.Lmargin, w.Tmargin, w.Width - w.Rmargin - w.Lmargin, w.Height - w.Bmargin - w.Tmargin));\n        for (let i = 0; i < this._dataPanels.length; i++) {\n            if (this._dataPanels[i].enabled) {\n                let p = this._dataPanels[i];\n                if (p.yScaleIndex < scalesY.length) {\n                    let AvailableWidth = w.Width - 2 * p.padding - p.borderthickness;\n                    if (AvailableWidth < 100)\n                        AvailableWidth = 100;\n                    let ssize = g.MeasureString(p.text, p.font, AvailableWidth >> 0);\n                    let panelWidth = ssize.width + 2 * p.padding + p.borderthickness;\n                    let panelHeight = ssize.height + 2 * p.padding + p.borderthickness;\n                    let x = 0;\n                    switch (p.horizontalPosition) {\n                        case DataPanel.HorizontalPosition.LEFTBORDER:\n                            x = w.Lmargin;\n                            break;\n                        case DataPanel.HorizontalPosition.RIGHTBORDER:\n                            x = w.Width - w.Rmargin;\n                            break;\n                        case DataPanel.HorizontalPosition.ABSOLUTEX:\n                            let delta = scaleX.max - scaleX.min;\n                            let XZoom = (delta) / (w.Width - w.Lmargin - w.Rmargin);\n                            x = w.Lmargin + Math.round((p.AbsoluteXposition - scaleX.min) / XZoom) >> 0;\n                            break;\n                    }\n                    let y = 0;\n                    switch (p.verticalPosition) {\n                        case DataPanel.VerticalPosition.TOPBORDER:\n                            y = w.Tmargin;\n                            break;\n                        case DataPanel.VerticalPosition.BOTTOMBORDER:\n                            y = w.Height - w.Bmargin;\n                            break;\n                        case DataPanel.VerticalPosition.ABSOLUTEY:\n                            y = w.Height - w.Bmargin - Math.round((p.AbsoluteYposition - scalesY[p.yScaleIndex].IRLy) * scalesY[p.yScaleIndex].zoom) >> 0;\n                            break;\n                    }\n                    switch (p.panelHrzAlign) {\n                        case DataPanel.HorizontalAlign.LEFTOF:\n                            x -= panelWidth + p.horizontalMargin;\n                            break;\n                        case DataPanel.HorizontalAlign.RIGHTOF:\n                            x += p.horizontalMargin;\n                            break;\n                        default:\n                            x -= (panelWidth) / 2;\n                            break;\n                    }\n                    switch (p.panelVrtAlign) {\n                        case DataPanel.VerticalAlign.ABOVE:\n                            y -= panelHeight + p.verticalMargin;\n                            break;\n                        case DataPanel.VerticalAlign.BELOW:\n                            y += p.verticalMargin;\n                            break;\n                        default:\n                            y -= (panelHeight) / 2;\n                            break;\n                    }\n                    g.FillRectangleXYHW(p.bgBrush, x >> 0, y >> 0, panelWidth >> 0, panelHeight >> 0);\n                    if (p.borderthickness > 0)\n                        g.DrawRectangleXYHW(p.pen, x >> 0, y >> 0, panelWidth >> 0, panelHeight >> 0);\n                    let sf = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n                    switch (p.panelTextAlign) {\n                        case YDataRendering.MessagePanel.TextAlign.LEFT:\n                            sf.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                            sf.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                            break;\n                        case YDataRendering.MessagePanel.TextAlign.RIGHT:\n                            sf.LineAlignment = 2 /* YDataRendering.YStringFormat.StringAlignment.Far */;\n                            sf.Alignment = 2 /* YDataRendering.YStringFormat.StringAlignment.Far */;\n                            break;\n                        default:\n                            sf.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                            sf.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                            break;\n                    }\n                    let rect = new YDataRendering.YRectangle((x + p.padding + p.borderthickness / 2) >> 0, (y + p.padding + p.borderthickness / 2) >> 0, ssize.width >>= +1, (ssize.height >> 0) + 1);\n                    g.DrawStringRect(p.text, p.font, p.font.brush, rect, sf);\n                }\n                else {\n                    throw new RangeError(\"Cannot renderer data panel #\" + i.toString() + \", no such Y axis\");\n                }\n            }\n        }\n    }\n    Render(g, UIw, UIh) {\n        if ((UIw < 50) || (UIh < 50))\n            return 0; // too small size is likely to cause endless loops\n        //#ifdef PROFILING\n        //        let RenderTime :number = performance.now();\n        ////#endif\n        let lastLmargin = this.mainViewPort.Lmargin;\n        let lastRmargin = this.mainViewPort.Rmargin;\n        this.mainViewPort.Width = UIw;\n        this.mainViewPort.Height = UIh;\n        this.mainViewPort.Lmargin = 0;\n        this.mainViewPort.Rmargin = 0;\n        g.SmoothingMode = YDataRendering.YSmoothingMode.HighQuality;\n        let yMarginOffset = 5;\n        /* Step 1, found out margins */\n        // top (bottom) margin: make sure the top(/bottom) number\n        // on Y scale can be draw completely\n        for (let i = 0; i < this._yAxes.length; i++) {\n            if (this._yAxes[i].visible) {\n                let s = g.MeasureString(\"8\", this._yAxes[i].font, 100000);\n                let o = ((s.height + 1) / 2) >> 0;\n                if (yMarginOffset < o)\n                    yMarginOffset = o;\n            }\n        }\n        this.mainViewPort.Tmargin = (this._xAxis.position == XAxis.VrtPosition.TOP) ? 0 : yMarginOffset;\n        this.mainViewPort.Bmargin = (this._xAxis.position == XAxis.VrtPosition.BOTTOM) ? 0 : yMarginOffset;\n        /* Step 2B-2  Draw Legend if it doesn't overlap the data */\n        if (!this._legendPanel.overlap)\n            this.drawLegendPanel(g, UIw, UIh, this.mainViewPort);\n        /* Step 2B-3  Draw annotations if it doesn't overlap the data */\n        this.drawAnnotationPanels(g, this._annotationPanels, UIw, UIh, false, this.mainViewPort);\n        if (this.mainViewPort.Bmargin == 0)\n            this.mainViewPort.Bmargin = 5;\n        if (this.mainViewPort.Tmargin == 0)\n            this.mainViewPort.Tmargin = 5;\n        /* Step 1-A  compute margins dues to X axis  */\n        let h = this.DrawXAxis(this.mainViewPort, g, this._xAxis, true);\n        if (this._xAxis.position == XAxis.VrtPosition.TOP)\n            this.mainViewPort.Tmargin += h;\n        else\n            this.mainViewPort.Bmargin += h;\n        this.mainViewPort.IRLx = this._xAxis.min;\n        /* Step 1-B  Find out all Y axis  start / stop  graduation spacing  */\n        let M;\n        for (let i = 0; i < this._yAxes.length; i++) {\n            M = MinMaxHandler.DefaultValue();\n            for (let k = 0; k < this._series.length; k++) {\n                if ((this._series[k].yAxisIndex == i) && (!this._series[k].disabled)) {\n                    for (let j = 0; j < this._series[k].segments.length; j++) {\n                        M = MinMaxHandler.Combine(M, YGraph.FindMinMax(this._xAxis.min, this._xAxis.max, this._series[k].segments[j].data, this._series[k].segments[j].count));\n                    }\n                }\n            }\n            this._yAxes[i].computeStartAndStep(M);\n        }\n        /* Step 1-B  compute  margins dues to Y axes  */\n        if (this.mainViewPort.Lmargin == 0)\n            this.mainViewPort.Lmargin = 5;\n        if (this.mainViewPort.Rmargin == 0)\n            this.mainViewPort.Rmargin = 5;\n        for (let i = 0; i < this._yAxes.length; i++) {\n            let sw = YGraph.DrawYAxis(this.mainViewPort, g, this._yAxes[i], 0, true);\n            this.mainViewPort.Lmargin += (this._yAxes[i].position == YAxis.HrzPosition.LEFT) ? sw : 0;\n            this.mainViewPort.Rmargin += (this._yAxes[i].position == YAxis.HrzPosition.RIGHT) ? sw : 0;\n        }\n        if (this._navigator.enabled) {\n            if ((lastLmargin != this.mainViewPort.Lmargin) || (lastRmargin != this.mainViewPort.Rmargin)) {\n                //console.log(\"L/R margin changed\");\n                this.navigatorCache = null;\n            }\n            let nh = (this._navigator.relativeheight * this.UIContainer.height / 100.0) >> 0;\n            let ofset = this.xAxis.position == XAxis.VrtPosition.BOTTOM ? h : 0;\n            this._navigator.setPosition(UIw, UIh, this.mainViewPort.Lmargin, this.mainViewPort.Rmargin, this.mainViewPort.Height - nh - this.mainViewPort.Bmargin + ofset, this.mainViewPort.Bmargin - ofset);\n            this.mainViewPort.Bmargin += nh;\n        }\n        /* step 2A draw background */\n        if ((this.lastTopMargin != this.mainViewPort.Tmargin) || (this.lastBottomMargin != this.mainViewPort.Bmargin)) {\n            this._bgBrush = null;\n            this.lastTopMargin = this.mainViewPort.Tmargin;\n            this.lastBottomMargin = this.mainViewPort.Bmargin;\n        }\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YLinearGradientBrush(this._bgColor2, this._bgColor1);\n        } // not sure why colors had to be inverted here\n        g.FillRectangleXYHW(this._bgBrush, this.mainViewPort.Lmargin, this.mainViewPort.Tmargin, this.mainViewPort.Width - this.mainViewPort.Rmargin - this.mainViewPort.Lmargin, this.mainViewPort.Height - this.mainViewPort.Bmargin - this.mainViewPort.Tmargin);\n        if (this._borderThickness > 0) {\n            if (this._borderPen == null)\n                this._borderPen = new YDataRendering.YPen(this._borderColor, this._borderThickness);\n            g.DrawRectangleXYHW(this._borderPen, this.mainViewPort.Lmargin, this.mainViewPort.Tmargin, this.mainViewPort.Width - this.mainViewPort.Rmargin - this.mainViewPort.Lmargin, this.mainViewPort.Height - this.mainViewPort.Bmargin - this.mainViewPort.Tmargin);\n        }\n        /* Step 2B  Draw Y-axes and X axis zones */\n        g.SetClip(new YDataRendering.YRectangle(this.mainViewPort.Lmargin, this.mainViewPort.Tmargin, this.mainViewPort.Width - this.mainViewPort.Rmargin - this.mainViewPort.Lmargin, this.mainViewPort.Height - this.mainViewPort.Bmargin - this.mainViewPort.Tmargin));\n        for (let i = 0; i < this._yAxes.length; i++) {\n            this.DrawYAxisZones(this.mainViewPort, g, this._yAxes[i]);\n        }\n        this.DrawXAxisZones(this.mainViewPort, g, this.xAxis);\n        g.ResetClip();\n        /* step 3 draw X scale */\n        this.DrawXAxis(this.mainViewPort, g, this._xAxis, false);\n        /* step 4 draw Y scale */\n        let leftOffset = 0;\n        let rightOffset = 0;\n        //YDataRendering.YDataRenderer.RendererDebug = true;\n        for (let i = 0; i < this._yAxes.length; i++) {\n            let ww = YGraph.DrawYAxis(this.mainViewPort, g, this._yAxes[i], (this._yAxes[i].position == YAxis.HrzPosition.LEFT) ? leftOffset : rightOffset, false);\n            if (this._yAxes[i].position == YAxis.HrzPosition.LEFT)\n                leftOffset += ww;\n            if (this._yAxes[i].position == YAxis.HrzPosition.RIGHT)\n                rightOffset += ww;\n        }\n        //YDataRendering.YDataRenderer.RendererDebug = false;\n        // step 5 step define data zone\n        //  YDataRendering.YPen mypenb = Pens.Black;\n        //g.DrawRectangle(mypenb, ViewPort1.Lmargin, ViewPort1.Tmargin, ViewPort1.Width - ViewPort1.Rmargin - ViewPort1.Lmargin, ViewPort1.Height - ViewPort1.Bmargin - ViewPort1.Tmargin);\n        g.SetClip(new YDataRendering.YRectangle(this.mainViewPort.Lmargin, this.mainViewPort.Tmargin, this.mainViewPort.Width - this.mainViewPort.Rmargin - this.mainViewPort.Lmargin, this.mainViewPort.Height - this.mainViewPort.Bmargin - this.mainViewPort.Tmargin));\n        // step 6 series rendering\n        this.mainViewPort.zoomx = (this.mainViewPort.Width - this.mainViewPort.Lmargin - this.mainViewPort.Rmargin) / (this._xAxis.max - this._xAxis.min);\n        let mypenb = null;\n        let lineCount = 0;\n        let pointCount = 0;\n        let Bottomleft = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(this.mainViewPort.Lmargin, this.mainViewPort.Height - this.mainViewPort.Bmargin));\n        let TopRight = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(this.mainViewPort.Width - this.mainViewPort.Rmargin, this.mainViewPort.Tmargin));\n        let xTimeStart = Bottomleft.x;\n        let xTimeEnd = TopRight.x;\n        for (let k = 0; k < this._series.length; k++) {\n            if ((this._series[k].visible) && !(this._series[k].disabled)) { //#ifdef PROFILING\n                //                let perf : number  = performance.now();\n                //                //#endif\n                let scaleIndex = this._series[k].yAxisIndex;\n                mypenb = this._series[k].pen;\n                this.mainViewPort.IRLy = this._yAxes[scaleIndex].startStopStep.dataMin;\n                this._yAxes[this._series[k].yAxisIndex].IRLy = this.mainViewPort.IRLy;\n                let delta = this._yAxes[scaleIndex].startStopStep.dataMax - this._yAxes[scaleIndex].startStopStep.dataMin;\n                if (delta == 0) {\n                    delta = 1;\n                    this.mainViewPort.IRLy -= delta / 2;\n                }\n                this.mainViewPort.zoomy = (this.mainViewPort.Height - this.mainViewPort.Tmargin - this.mainViewPort.Bmargin) / (delta);\n                this._yAxes[this._series[k].yAxisIndex].zoom = this.mainViewPort.zoomy;\n                g.comment(\"** main view-port series \" + k.toString());\n                for (let i = 0; i < this._series[k].segments.length; i++) {\n                    lineCount += YGraph.DoSegmentRendering(this.mainViewPort, g, mypenb, this._series[k].segments[i].data, this._series[k].segments[i].count, xTimeStart, xTimeEnd);\n                    pointCount += this._series[k].segments[i].count;\n                }\n                //#ifdef PROFILING\n                //                console.log(\"Serie \"+k+\" rendering took  \"+(performance.now()-perf).toString()+\"ms (\"+this._series[k].segments.length+\" segments)\");\n                //                //#endif\n            }\n        }\n        // step 7  draw  navigator\n        g.ResetClip();\n        if (this._navigator.enabled) { //#ifdef PROFILING\n            //            let ntime :number =  performance.now();\n            //            //#endif\n            g.comment(\"** navigator **\");\n            let v = this._navigator.viewport;\n            // step 7A, find out Time Range\n            let range = MinMaxHandler.DefaultValue();\n            for (let i = 0; i < this._series.length; i++) {\n                if (!this._series[i].disabled)\n                    range = MinMaxHandler.Combine(range, this._series[i].timeRange);\n            }\n            this._navigator.Xrange = MinMaxHandler.extend(range, 1.05);\n            v.zoomx = (v.Width - v.Lmargin - v.Rmargin) / (this._navigator.Xrange.Max - this._navigator.Xrange.Min);\n            if (((this.lastPointCount != pointCount)\n                && (!this.mainViewPort.Capture) && (!this._navigator.Capture)) // performance : do not redraw navigator when a drag operation is running.\n                || (this.navigatorCache == null) || (g instanceof YDataRendering.YGraphicsSVG)) {\n                g.comment(\"Redraw navigator\");\n                if (this.navigatorCache != null)\n                    this.navigatorCache = null; //.Dispose();\n                this.navigatorCache = document.createElement('canvas'); //  new HTMLCanvasElement(); //v.Width, v.Height, g.graphics); FIXME?\n                //document.body.appendChild(this.navigatorCache); // debug\n                this.navigatorCache.width = v.Width;\n                this.navigatorCache.height = v.Height;\n                this.lastPointCount = pointCount;\n                let ng;\n                if (g instanceof YDataRendering.YGraphicsSVG) {\n                    ng = g;\n                }\n                else {\n                    ng = new YDataRendering.YGraphics(this.navigatorCache, v.Width, v.Height, 90);\n                }\n                //ng.SetClip(new Rectangle(v.Lmargin, v.Tmargin, v.Width - v.Rmargin - v.Lmargin, v.Height - v.Bmargin - v.Tmargin));\n                //ng.ResetClip();\n                ng.FillRectangleXYHW(this._navigator.bgBrush, v.Lmargin, v.Tmargin, v.Width - v.Rmargin - v.Lmargin, v.Height - v.Bmargin - v.Tmargin);\n                if ((this.xAxis.zones.length > 0) && this._navigator.showXAxisZones) {\n                    let delta = this._navigator.Xrange.Max - this._navigator.Xrange.Min;\n                    let XZoom = (delta) / (v.Width - v.Lmargin - v.Rmargin);\n                    for (let i = 0; i < this.xAxis.zones.length; i++) {\n                        if (this.xAxis.zones[i].visible) {\n                            let min = this.xAxis.zones[i].min;\n                            let max = this.xAxis.zones[i].max;\n                            if (isNaN(min))\n                                min = this._navigator.Xrange.Min;\n                            if (isNaN(max))\n                                max = this._navigator.Xrange.Max;\n                            ng.FillRectangleXYHW(this.xAxis.zones[i].zoneBrush, v.Lmargin + ((min - this._navigator.Xrange.Min) / XZoom) >> 0, v.Tmargin >> 0, ((max - min) / XZoom) >> 0, v.Height - v.Bmargin - v.Tmargin);\n                        }\n                    }\n                }\n                if ((MinMaxHandler.isDefined(this._navigator.Xrange)) && ((this._navigator.Xrange.Max - this._navigator.Xrange.Min) > 0)) // if (Xrange<=0) then nothing to draw\n                 { // step 7B, draw series\n                    let Min;\n                    let Max;\n                    v.IRLx = this._navigator.Xrange.Min;\n                    let dontSticktoBorderZoom = 4.0 / (v.Height - v.Bmargin - v.Tmargin);\n                    let Bottomleft = YGraph.ViewPortPointToIRL(v, new YDataRendering.Point(v.Lmargin, v.Height - v.Bmargin));\n                    let TopRight = YGraph.ViewPortPointToIRL(v, new YDataRendering.Point(v.Width - v.Rmargin, v.Tmargin));\n                    let xTimeStart = Bottomleft.x;\n                    let xTimeEnd = TopRight.x;\n                    if (this._navigator.yAxisHandling == Navigator.YAxisHandling.AUTO) { // Automatic yAxis handling\n                        for (let k = 0; k < this._series.length; k++) {\n                            if (!this._series[k].disabled) {\n                                ng.comment(\"** navigator series \" + k.toString());\n                                v.IRLy = this._series[k].valueRange.Min;\n                                let yAxisIndex = this._series[k].yAxisIndex;\n                                mypenb = this._series[k].navigatorpen;\n                                Min = this._series[k].valueRange.Min;\n                                Max = this._series[k].valueRange.Max;\n                                if (Max - Min <= 0) {\n                                    v.IRLy = Min - 0.5;\n                                    Max = Min + 0.5;\n                                }\n                                else {\n                                    let delta = Max - Min;\n                                    Min -= delta * dontSticktoBorderZoom; // 0.025;\n                                    Max += delta * dontSticktoBorderZoom; // 0.025;\n                                }\n                                v.IRLy = Min;\n                                v.zoomy = (v.Height - v.Tmargin - v.Bmargin) / (Max - Min);\n                                for (let i = 0; i < this._series[k].segments.length; i++) {\n                                    lineCount += YGraph.DoSegmentRendering(v, ng, mypenb, this._series[k].segments[i].data, this._series[k].segments[i].count, xTimeStart, xTimeEnd);\n                                }\n                            }\n                        }\n                    }\n                    else { //  yAxis handling inherited from main view-port settings\n                        for (let i = 0; i < this._yAxes.length; i++) { // find out data MinMax\n                            let Yrange = MinMaxHandler.DefaultValue();\n                            for (let j = 0; j < this._series.length; j++) {\n                                if ((this._series[j].yAxisIndex == i) && (!this._series[j].disabled)) {\n                                    Yrange = MinMaxHandler.Combine(Yrange, this._series[j].valueRange);\n                                }\n                            }\n                            Yrange = MinMaxHandler.extend(Yrange, 1 + 2 * dontSticktoBorderZoom);\n                            Min = this._yAxes[i].min;\n                            if (isNaN(Min))\n                                Min = Yrange.Min;\n                            Max = this._yAxes[i].max;\n                            if (isNaN(Max))\n                                Max = Yrange.Max;\n                            if (Number.isNaN(Min)) {\n                                Min = 0.0;\n                                Max = 1.0;\n                            }\n                            if (Max - Min <= 0) {\n                                Min = Min - 0.5;\n                                Max = Min + 0.5;\n                            }\n                            v.IRLy = Min;\n                            v.zoomy = (v.Height - v.Tmargin - v.Bmargin) / (Max - Min);\n                            for (let j = 0; j < this._series.length; j++) {\n                                if ((this._series[j].yAxisIndex == i) && (!this._series[j].disabled) && (this._series[j].visible)) {\n                                    ng.comment(\"** navigator series \" + j.toString());\n                                    mypenb = this._series[j].navigatorpen;\n                                    for (let k = 0; k < this._series[j].segments.length; k++) {\n                                        lineCount += YGraph.DoSegmentRendering(v, ng, mypenb, this._series[j].segments[k].data, this._series[j].segments[k].count, xTimeStart, xTimeEnd);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    for (let i = 0; i < this._xAxis.markers.length; i++) {\n                        if (this._xAxis.markers[i].enabled) {\n                            let p = YGraph.IRLPointToViewPort(v, new pointXY(this._xAxis.markers[i].xposition + (this._xAxis.markers[i].timereference == TimeConverter.TimeReference.RELATIVE ? this._xAxis.zeroTime : 0), 0));\n                            ng.DrawLineXY(this._xAxis.markers[i].navigatorpen, p.X, v.Tmargin, p.X, v.Height - v.Bmargin);\n                        }\n                    }\n                    if (this._navigator.borderThickness > 0) {\n                        ng.DrawLineXY(this._navigator.borderPen, v.Lmargin, v.Tmargin, v.Width - v.Rmargin, v.Tmargin);\n                    }\n                    // step 7C, draw Scale\n                    this.DrawMonitorXAxis(v, ng, this._navigator.Xrange, this.xAxis.labelFormat);\n                    this._navigator.setIRLPosition(v.IRLx, v.IRLy, v.zoomx, v.zoomy);\n                }\n                if (!(g instanceof YDataRendering.YGraphicsSVG))\n                    ng.Dispose();\n            }\n            // set  7E, copy cache to display\n            let cacheW = v.Width - v.Rmargin - v.Lmargin + 1;\n            let cacheH = v.Width - v.Rmargin - v.Lmargin + 1;\n            let rectsrc = new YDataRendering.YRectangle(v.Lmargin, v.Tmargin - 1, cacheW, cacheH);\n            let rectdst = new YDataRendering.YRectangle(v.Lmargin, v.Tmargin, cacheW, cacheH);\n            g.SetClip(rectdst);\n            if (!(g instanceof YDataRendering.YGraphicsSVG)) {\n                //g.SetClip(rect);\n                //let  p : YDataRendering.YPen = new YDataRendering.YPen( YDataRendering.YColor.Blue,1);\n                //g.DrawLineXY(p,0,0,this.UIContainer.width,this.UIContainer.height);\n                //g.DrawLineXY(p,this.UIContainer.width,0,0,this.UIContainer.height);\n                g.DrawImage(this.navigatorCache, rectsrc, rectdst, 2 /* YDataRendering.YGraphicsUnit.Pixel */);\n                // g.ResetClip();\n            }\n            //navigatorCache.Save(\"C:\\\\tmp\\\\t.png\", ImageFormat.Png);\n            // set  7E, draw Cursor\n            if (this._navigator.borderThickness > 0) {\n                g.DrawLineXY(this._navigator.borderPen, v.Lmargin + 1, v.Tmargin, v.Lmargin + 1, v.Height - v.Bmargin - 1);\n                g.DrawLineXY(this._navigator.borderPen, v.Width - v.Rmargin, v.Tmargin, v.Width - v.Rmargin, v.Height - v.Bmargin - 1);\n                g.DrawLineXY(this._navigator.borderPen, v.Lmargin + 1, v.Tmargin, v.Width - v.Rmargin, v.Tmargin);\n            }\n            let IRLCursorStart = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(this.mainViewPort.Lmargin, 0));\n            let IRLCursorEnd = YGraph.ViewPortPointToIRL(this.mainViewPort, new YDataRendering.Point(this.mainViewPort.Width - this.mainViewPort.Rmargin, 0));\n            let CursorStart = YGraph.IRLPointToViewPort(this._navigator.viewport, new pointXY(IRLCursorStart.x, 0));\n            let CursorEnd = YGraph.IRLPointToViewPort(this._navigator.viewport, new pointXY(IRLCursorEnd.x, 0));\n            g.FillRectangle(this._navigator.cursorBrush, new YDataRendering.YRectangle(CursorStart.X - 1, v.Tmargin, CursorEnd.X - CursorStart.X + 2, v.Height - v.Bmargin - v.Tmargin - 1));\n            g.DrawLineXY(this._navigator.cursorBorderPen, (CursorStart.X - 1) >> 0, (v.Tmargin) >> 0, (CursorStart.X - 1) >> 0, (v.Height - v.Bmargin) - 1);\n            g.DrawLineXY(this._navigator.cursorBorderPen, (CursorEnd.X + 1) >> 0, (v.Tmargin) >> 0, (CursorEnd.X + 1) >> 0, (v.Height - v.Bmargin) - 1);\n            g.ResetClip();\n            //#ifdef PROFILING\n            //            console.log(\"Navigator rendering took \"+(performance.now()-ntime).toString()+\"ms\")\n            //            //#endif\n        }\n        if (this._legendPanel.overlap)\n            this.drawLegendPanel(g, UIw, UIh, this.mainViewPort);\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.SingleBitPerPixelGridFit;\n        this.DrawMarkers(this.mainViewPort, g, this.xAxis, UIw, UIh);\n        this.drawAnnotationPanels(g, this._annotationPanels, UIw, UIh, true, this.mainViewPort);\n        this.DrawDataPanels(this.mainViewPort, g, this.xAxis, this._yAxes, UIw, UIh);\n        this.DrawDataTracker(g, UIw, UIh, this.xAxis);\n        this.DrawMessagePanels(g, UIw, UIh);\n        /*\n                let p: YDataRendering.Point | null = this.mouseLocalPosition();\n                 if (p != null)\n                 {    let pen = new YPen(YColor.Red, 1);\n                     g.DrawLineXY(pen, p.X - 5, p.Y, p.X + 5, p.Y);\n                     g.DrawLineXY(pen, p.X, p.Y - 5, p.X, p.Y + 5);\n                 }\n        */\n        //console.log(\"END OF GRAPH\")\n        //#ifdef PROFILING\n        //\n        //        console.log(\"graph rendering took \"+ ( performance.now()-RenderTime ).toString()+\"ms\");\n        //        //#endif\n        return 0;\n    }\n    KeyDown(sender, e) {\n        if (e.code == \"ArrowLeft\") {\n            let delta = 0.2 * (this._xAxis.max - this._xAxis.min);\n            this._xAxis.set_minMax(this._xAxis.min - delta, this._xAxis.max - delta);\n            this.redraw();\n        }\n        if (e.code == \"ArrowRight\") {\n            let delta = 0.2 * (this._xAxis.max - this._xAxis.min);\n            this._xAxis.set_minMax(this._xAxis.min + delta, this._xAxis.max + delta);\n            this.redraw();\n        }\n        if (e.code == \"ArrowUp\") {\n            this.mouseWheel(new YDataRendering.Point(this.UIContainer.width >> 1, this.UIContainer.height >> 1), 10);\n        }\n        if (e.code == \"ArrowDown\") {\n            this.mouseWheel(new YDataRendering.Point(this.UIContainer.width >> 1, this.UIContainer.height >> 1), -10);\n        }\n    }\n    mouseWheel(pos, delta) {\n        let ZoomFactor = Math.pow(1.25, delta / 120); // 120 is totally arbitrary\n        let NextZoomX = this.mainViewPort.zoomx * ZoomFactor;\n        if ((NextZoomX > this.mainViewPort.zoomx) && (NextZoomX > 1000))\n            return;\n        let currentRange = this._xAxis.max - this._xAxis.min;\n        if ((currentRange / ZoomFactor) > 25 * 365.0 * 86400.0)\n            return; //  more zoom out may cause overflows, never-ending loops and freeze the browser\n        this.mainViewPort.IRLx += ((pos.X - this.mainViewPort.Lmargin) / this.mainViewPort.zoomx) - ((pos.X - this.mainViewPort.Lmargin) / NextZoomX);\n        let range = this._xAxis.max - this._xAxis.min;\n        this._xAxis.set_minMax(this.mainViewPort.IRLx, this.mainViewPort.IRLx + range / ZoomFactor);\n        this.mainViewPort.zoomx = NextZoomX;\n        this.redraw();\n    }\n    mouseWheelEvent(sender, e) {\n        let p = this.Scr2ElmMatrix.multiplyByV(YDataRendering.Vector3.FromXYCoord(e.pageX, e.pageY)).toPoint();\n        let eX = p.X;\n        let eY = p.Y;\n        this.mouseWheel(new YDataRendering.Point(eX, eY), e.deltaY > 0 ? -150 : 150);\n        e.preventDefault();\n    }\n}\nYGraph._defaultVerticalDragZoomEnabled = false;\nYGraph.captureCursor = null;\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Solid gauge widget renderer\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./YDataRendererCommon.js\";\nclass DrawPrameters {\n    constructor() {\n        this.outerRadius = 0;\n        this.innerRadius = 0;\n        this.angleStart = 0;\n        this.angleEnd = 0;\n        this.ycenter = 0;\n        this.xcenter = 0;\n        this.heightTop = 0;\n        this.heightBottom = 0;\n        this.valueRectangle = new YDataRendering.YRectangle(0, 0, 0, 0);\n        this.valueFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        this.minValueRectangle = new YDataRendering.YRectangle(0, 0, 0, 0);\n        this.minValueFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        this.maxValueRectangle = new YDataRendering.YRectangle(0, 0, 0, 0);\n        this.maxValueFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        this.minValue = \"\";\n        this.maxValue = \"\";\n        this.value = \"\";\n    }\n}\nexport class YSolidGauge extends YDataRendering.YDataRenderer {\n    get min() { return this._min; }\n    set min(value) {\n        if ((value >= this._max) && (!YDataRendering.YDataRenderer.minMaxCheckDisabled)) {\n            throw new RangeError(\"Min cannot be greater than max (\" + this._max.toString() + \")\");\n        }\n        this._min = value;\n        if (this._shownValue < this._min)\n            this._shownValue = this._min;\n        this.redraw();\n    }\n    get max() { return this._max; }\n    set max(value) {\n        if ((value <= this._min) && (!YDataRendering.YDataRenderer.minMaxCheckDisabled)) {\n            throw new RangeError(\"Max cannot be less than min (\" + this._min.toString() + \")\");\n        }\n        this._max = value;\n        if (this._shownValue > this._max)\n            this._shownValue = this._max;\n        this.redraw();\n    }\n    get borderpen() {\n        if (this._borderpen == null) {\n            this._borderpen = new YDataRendering.YPen(this._borderColor, this._borderThickness);\n            this._borderpen.startCap = 1 /* YDataRendering.YPen.LineCap.Square */;\n            this._borderpen.endCap = 1 /* YDataRendering.YPen.LineCap.Square */;\n        }\n        return this._borderpen;\n    }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) {\n        this._borderColor = value;\n        this._borderpen = null;\n        this.redraw();\n    }\n    get backgroundColor1() { return this._backgroundColor1; }\n    set backgroundColor1(value) {\n        this._backgroundColor1 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get backgroundColor2() { return this._backgroundColor2; }\n    set backgroundColor2(value) {\n        this._backgroundColor2 = value;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    get borderThickness() { return this._borderThickness; }\n    set borderThickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._borderThickness = value;\n        this._borderpen = null;\n        this._path = null;\n        this.redraw();\n    }\n    get valueFormater() { return this._valueFormater; }\n    set valueFormater(value) {\n        this._valueFormater = value;\n        this.redraw();\n    }\n    get minmaxFormater() { return this._minmaxFormater; }\n    set minmaxFormater(value) {\n        this._minmaxFormater = value;\n        this.redraw();\n    }\n    get thickness() { return this._thickness; }\n    set thickness(value) {\n        if (value < 0)\n            throw new RangeError(\"Thickness must be a positive value\");\n        this._thickness = Math.max(Math.min(value, 80), 1);\n        this._path = null;\n        this.redraw();\n    }\n    get maxSpeed() { return this._maxSpeed; }\n    set maxSpeed(value) {\n        if (value <= 0)\n            throw new RangeError(\"Speed must be a positive value\");\n        this._maxSpeed = value;\n    }\n    get value() { return this._value; }\n    set value(value) {\n        this._value = value;\n        this.redraw();\n    }\n    get color1() { return this._color1; }\n    set color1(value) {\n        this._color1 = value;\n        this.redraw();\n    }\n    get color2() { return this._color2; }\n    set color2(value) {\n        this._color2 = value;\n        this.redraw();\n    }\n    get font() { return this._font; }\n    get minMaxFont() { return this._minMaxFont; }\n    get showMinMax() { return this._showMinMax; }\n    set showMinMax(value) {\n        this._showMinMax = value;\n        this._path = null;\n        this.redraw();\n    }\n    get displayMode() { return this._displayMode; }\n    set displayMode(value) {\n        this._displayMode = value;\n        this._path = null;\n        this._bgBrush = null;\n        this.redraw();\n    }\n    FontsizeChange(source) { this._path = null; }\n    constructor(UIContainer, mode, logFunction) {\n        super(UIContainer, logFunction);\n        this._shownValue = 0;\n        this._min = 0;\n        this._max = 100;\n        this.SegmentMaxLength = 8;\n        this.mainViewPort = new YDataRendering.ViewPortSettings();\n        this._borderpen = null;\n        this._borderColor = YDataRendering.YColor.Black;\n        this._bgBrush = null;\n        this._backgroundColor1 = YDataRendering.YColor.FromArgb(255, 240, 240, 240);\n        this._backgroundColor2 = YDataRendering.YColor.FromArgb(255, 200, 200, 200);\n        this._borderThickness = 5;\n        this._valueFormater = null;\n        this._minmaxFormater = null;\n        this._thickness = 25;\n        this._maxSpeed = 0.1;\n        this._value = 0;\n        this._color1 = YDataRendering.YColor.Green;\n        this._color2 = YDataRendering.YColor.Red;\n        this._font = null;\n        this._minMaxFont = null;\n        this._showMinMax = true;\n        this._path = null;\n        this.lastDrawParameters = new DrawPrameters();\n        this._displayMode = YSolidGauge.DisplayMode.DISPLAY90;\n        this._minMaxFont = new YDataRendering.YFont(this, this, Math.min(UIContainer.width, UIContainer.height) / 15, () => { this.FontsizeChange(this._minMaxFont); });\n        this._displayMode = mode;\n        this._font = new YDataRendering.YFont(this, this, Math.min(UIContainer.width, UIContainer.height) / 5, null);\n        this.resizeRule = YDataRendering.Proportional.ResizeRule.RELATIVETOBOTH;\n        let g = new YDataRendering.YGraphics(UIContainer, UIContainer.width, UIContainer.height, 90);\n        let p = this.ComputeDrawParameters(g, UIContainer.width, UIContainer.height, this.mainViewPort);\n        g.Dispose();\n    }\n    clearCachedObjects() {\n        this._bgBrush = null;\n        this._path = null;\n    }\n    ComputeDrawParameters(g, UIw, UIh, mainViewPort) {\n        UIw -= mainViewPort.Lmargin + mainViewPort.Rmargin;\n        UIh -= mainViewPort.Tmargin + mainViewPort.Bmargin;\n        let w = UIw - 5 - this._borderThickness;\n        let h = UIh - 5 - this._borderThickness;\n        let xcenter = UIw / 2;\n        let outerRadius = 0;\n        let angleStart = 0;\n        let angleEnd = 0;\n        let ycenter = 0;\n        let ValueRectangle = new YDataRendering.YRectangle(0, 0, 0, 0);\n        let valueFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n        let innerRadius = 0;\n        let minMaxHeight = 0;\n        let s1 = new YDataRendering.YSizeF(null, \"\");\n        let s2 = new YDataRendering.YSizeF(null, \"\");\n        this.lastDrawParameters.value = this._valueFormater == null ? this._value.toFixed(0) : this._valueFormater(this, this._value);\n        if (this._showMinMax) {\n            this.lastDrawParameters.minValue = this._minmaxFormater == null ? this._min.toFixed(0) : this._minmaxFormater(this, this._min);\n            this.lastDrawParameters.maxValue = this._minmaxFormater == null ? this._max.toFixed(0) : this._minmaxFormater(this, this._max);\n            s1 = g.MeasureString(this.lastDrawParameters.minValue, this._minMaxFont, 100000);\n            s2 = g.MeasureString(this.lastDrawParameters.maxValue, this._minMaxFont, 100000);\n            this.lastDrawParameters.minValueFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n            this.lastDrawParameters.maxValueFormat = new YDataRendering.YStringFormat(16384 /* YDataRendering.YStringFormat.StringFormatFlags.NoClip */);\n            minMaxHeight = s1.height;\n            if (s2.height > minMaxHeight)\n                minMaxHeight = s2.height;\n        }\n        switch (this._displayMode) {\n            case YSolidGauge.DisplayMode.DISPLAY90:\n                h = h - minMaxHeight;\n                w = w - minMaxHeight;\n                outerRadius = w;\n                if (outerRadius > h - this._borderThickness)\n                    outerRadius = h - this.borderThickness;\n                if (outerRadius > w - this.borderThickness)\n                    outerRadius = w - this.borderThickness;\n                angleStart = Math.PI / 2;\n                angleEnd = Math.PI;\n                this.lastDrawParameters.heightTop = outerRadius;\n                this.lastDrawParameters.heightBottom = 0;\n                ycenter = mainViewPort.Tmargin + h;\n                xcenter = mainViewPort.Lmargin + UIw / 2 + outerRadius / 2 - minMaxHeight + this._borderThickness;\n                innerRadius = outerRadius * (100 - this._thickness) / 100;\n                ValueRectangle = new YDataRendering.YRectangle((xcenter - innerRadius) >> 0, (ycenter - innerRadius) >> 0, innerRadius >> 0, innerRadius >> 0);\n                valueFormat.Alignment = 2 /* YDataRendering.YStringFormat.StringAlignment.Far */;\n                valueFormat.LineAlignment = 2 /* YDataRendering.YStringFormat.StringAlignment.Far */;\n                if (this._showMinMax) {\n                    this.lastDrawParameters.minValueRectangle = new YDataRendering.YRectangle((xcenter - ((outerRadius + innerRadius + s1.width) / 2)) >> 0, (ycenter + this._borderThickness) >> 0, (s1.width + 1) >> 0, (minMaxHeight + 1) >> 0);\n                    this.lastDrawParameters.minValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.minValueFormat.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueRectangle = new YDataRendering.YRectangle((xcenter + this._borderThickness) >> 0, (ycenter - outerRadius + (outerRadius - innerRadius - s2.width) / 2) >> 0, (minMaxHeight + 1) >> 0, (s2.width + 1) >> 0);\n                    this.lastDrawParameters.maxValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueFormat.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueFormat.FormatFlags = 2 /* YDataRendering.YStringFormat.StringFormatFlags.DirectionVertical */;\n                }\n                break;\n            case YSolidGauge.DisplayMode.DISPLAY180:\n                h = h - minMaxHeight;\n                let s0 = new YDataRendering.YSizeF(null, \"\");\n                s0 = g.MeasureString(this.lastDrawParameters.value, this._font, 100000);\n                outerRadius = (w / 2) - this.borderThickness;\n                if (outerRadius > h - this._borderThickness)\n                    outerRadius = h - this._borderThickness;\n                if (outerRadius > w - this.borderThickness)\n                    outerRadius = w - this.borderThickness;\n                angleStart = 0;\n                angleEnd = Math.PI;\n                ycenter = outerRadius + this._borderThickness / 2;\n                innerRadius = outerRadius * (100 - this._thickness) / 100;\n                this.lastDrawParameters.heightTop = outerRadius;\n                this.lastDrawParameters.heightBottom = 0;\n                ValueRectangle = new YDataRendering.YRectangle((xcenter - innerRadius) >> 0, (ycenter + this._borderThickness + minMaxHeight - s0.height) >> 0, (2 * innerRadius) >> 0, (s0.height + 1) >> 0);\n                valueFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                valueFormat.LineAlignment = 2 /* YDataRendering.YStringFormat.StringAlignment.Far */;\n                if (this._showMinMax) {\n                    this.lastDrawParameters.minValueRectangle = new YDataRendering.YRectangle((xcenter - ((outerRadius + innerRadius + s1.width) / 2)) >> 0, (ycenter + this._borderThickness) >> 0, (s1.width + 1) >> 0, (minMaxHeight + 1) >> 0);\n                    this.lastDrawParameters.minValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.minValueFormat.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueRectangle = new YDataRendering.YRectangle((xcenter + ((outerRadius + innerRadius - s2.width) / 2)) >> 0, (ycenter + this._borderThickness) >> 0, (s2.width + 1) >> 0, (minMaxHeight + 1) >> 0);\n                    this.lastDrawParameters.maxValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueFormat.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                }\n                break;\n            case YSolidGauge.DisplayMode.DISPLAY270:\n                outerRadius = w;\n                if (outerRadius > h / 2)\n                    outerRadius = h / 2;\n                if (outerRadius > w / 2)\n                    outerRadius = w / 2;\n                this.lastDrawParameters.heightTop = outerRadius;\n                this.lastDrawParameters.heightBottom = outerRadius;\n                angleStart = 0;\n                angleEnd = 3 * Math.PI / 2;\n                ycenter = mainViewPort.Tmargin + UIh / 2;\n                innerRadius = outerRadius * (100 - this._thickness) / 100;\n                ValueRectangle = new YDataRendering.YRectangle((xcenter - innerRadius) >> 0, (ycenter - innerRadius) >> 0, (2 * innerRadius) >> 0, (2 * innerRadius) >> 0);\n                valueFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                valueFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                if (this._showMinMax) {\n                    this.lastDrawParameters.minValueRectangle = new YDataRendering.YRectangle((xcenter + this._borderThickness) >> 0, (ycenter + (innerRadius + innerRadius + s1.height) / 2) >> 0, (s1.width + 1) >> 0, (s1.height + 1) >> 0);\n                    this.lastDrawParameters.minValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.minValueFormat.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueRectangle = new YDataRendering.YRectangle((xcenter + (innerRadius + innerRadius + s1.height) / 2) >> 0, (ycenter + this._borderThickness) >> 0, (s2.height + 1) >> 0, (s2.width + 1) >> 0);\n                    this.lastDrawParameters.maxValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueFormat.LineAlignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueFormat.FormatFlags = 2 /* YDataRendering.YStringFormat.StringFormatFlags.DirectionVertical */;\n                }\n                break;\n            case YSolidGauge.DisplayMode.DISPLAY360:\n                outerRadius = w;\n                if (outerRadius > (h / .85) / 2)\n                    outerRadius = (h / .85) / 2;\n                if (outerRadius > w / 2)\n                    outerRadius = w / 2;\n                this.lastDrawParameters.heightTop = outerRadius;\n                this.lastDrawParameters.heightBottom = outerRadius * 0.7;\n                ycenter = mainViewPort.Tmargin + outerRadius + this._borderThickness / 2;\n                angleStart = -Math.PI / 4;\n                angleEnd = 5 * Math.PI / 4;\n                innerRadius = outerRadius * (100 - this._thickness) / 100;\n                ValueRectangle = new YDataRendering.YRectangle((xcenter - innerRadius) >> 0, (ycenter - innerRadius) >> 0, (2 * innerRadius) >> 0, (2 * innerRadius) >> 0);\n                valueFormat.Alignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                valueFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                if (this._showMinMax) {\n                    let dx = Math.abs(innerRadius * Math.cos(angleStart));\n                    let dy = innerRadius * Math.abs(Math.sin(angleStart)) + 2 * Math.abs((outerRadius - innerRadius) * Math.sin(angleStart) / 3);\n                    this.lastDrawParameters.minValueRectangle = new YDataRendering.YRectangle((xcenter - dx) >> 0, (ycenter + dy - minMaxHeight / 2) >> 0, (s1.width + 1) >> 0, (minMaxHeight + 1) >> 0);\n                    this.lastDrawParameters.minValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.minValueFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                    this.lastDrawParameters.maxValueRectangle = new YDataRendering.YRectangle((xcenter + dx - s2.width) >> 0, (ycenter + dy - minMaxHeight / 2) >> 0, (s2.width + 1) >> 0, (minMaxHeight + 1) >> 0);\n                    this.lastDrawParameters.maxValueFormat.Alignment = 0 /* YDataRendering.YStringFormat.StringAlignment.Near */;\n                    this.lastDrawParameters.maxValueFormat.LineAlignment = 1 /* YDataRendering.YStringFormat.StringAlignment.Center */;\n                }\n                break;\n        }\n        this.lastDrawParameters.outerRadius = outerRadius;\n        this.lastDrawParameters.innerRadius = innerRadius;\n        this.lastDrawParameters.angleStart = angleStart;\n        this.lastDrawParameters.angleEnd = angleEnd;\n        this.lastDrawParameters.ycenter = ycenter;\n        this.lastDrawParameters.xcenter = xcenter;\n        this.lastDrawParameters.valueRectangle = ValueRectangle;\n        this.lastDrawParameters.valueFormat = valueFormat;\n        return this.lastDrawParameters;\n    }\n    Render(g, w, h) {\n        this.mainViewPort = new YDataRendering.ViewPortSettings();\n        g.SmoothingMode = YDataRendering.YSmoothingMode.HighQuality;\n        g.TextRenderingHint = YDataRendering.YTextRenderingHint.AntiAlias;\n        this.drawAnnotationPanels(g, this._annotationPanels, w, h, false, this.mainViewPort);\n        let p = this.ComputeDrawParameters(g, w, h, this.mainViewPort);\n        if (this._path == null) {\n            let outterlength = (2 * p.outerRadius * Math.PI) * (p.angleEnd - p.angleStart) / (2 * Math.PI);\n            let stepCount = (outterlength / this.SegmentMaxLength) >> 0;\n            let stepsize = (p.angleEnd - p.angleStart) / stepCount;\n            this._path = new Array(2 * (stepCount + 1));\n            let n = 0;\n            for (let i = 0; i <= stepCount; i++) {\n                let a = p.angleStart + i * stepsize;\n                this._path[n++] = new YDataRendering.PointF((p.xcenter + p.outerRadius * Math.cos(a)), (p.ycenter - p.outerRadius * Math.sin(a)));\n            }\n            for (let i = stepCount; i >= 0; i--) {\n                let a = p.angleStart + i * stepsize;\n                this._path[n++] = new YDataRendering.PointF((p.xcenter + p.innerRadius * Math.cos(a)), (p.ycenter - p.innerRadius * Math.sin(a)));\n            }\n        }\n        if (this._bgBrush == null) {\n            this._bgBrush = new YDataRendering.YLinearGradientBrush(this._backgroundColor1, this._backgroundColor2);\n        }\n        if (this._borderpen == null) {\n            this._borderpen = new YDataRendering.YPen(this._borderColor, this._borderThickness);\n            this._borderpen.linejoin = YDataRendering.YPen.LineJoin.Round;\n        }\n        g.FillPolygon(this._bgBrush, this._path);\n        if (this._shownValue != this._value) {\n            let step = this._maxSpeed * (this._max - this._min) / 100;\n            if (Math.abs(this._value - this._shownValue) < step) {\n                this._shownValue = this._value;\n            }\n            else if (this._shownValue < this._value) {\n                this._shownValue += step;\n            }\n            else {\n                this._shownValue -= step;\n            }\n        }\n        let v = this._shownValue;\n        if (v >= this._min) {\n            if (v > this._max)\n                v = this._max;\n            let valueFactor = (v - this._min) / (this._max - this.min);\n            let angleValue = p.angleStart + (p.angleEnd - p.angleStart) * valueFactor;\n            let outterlength = (2 * p.outerRadius * Math.PI) * (angleValue - p.angleStart) / (2 * Math.PI);\n            let stepCount = (outterlength / this.SegmentMaxLength) >> 0;\n            let stepsize = (angleValue - p.angleStart) / stepCount;\n            let pt = new Array(2 * (stepCount + 1));\n            let n = 0;\n            for (let i = 0; i <= stepCount; i++) {\n                let a = p.angleEnd - i * stepsize;\n                pt[n++] = new YDataRendering.PointF((p.xcenter + p.outerRadius * Math.cos(a)), (p.ycenter - p.outerRadius * Math.sin(a)));\n            }\n            for (let i = stepCount; i >= 0; i--) {\n                let a = p.angleEnd - i * stepsize;\n                pt[n++] = new YDataRendering.PointF((p.xcenter + p.innerRadius * Math.cos(a)), (p.ycenter - p.innerRadius * Math.sin(a)));\n            }\n            let b;\n            if (this._color1 == this._color2) {\n                b = new YDataRendering.YSolidBrush(this._color1);\n            }\n            else {\n                let A1 = this._color1.alpha;\n                let H1 = this._color1.hue;\n                let S1 = this._color1.saturation;\n                let L1 = this._color1.luminosity;\n                let A2 = this._color2.alpha;\n                let H2 = this._color2.hue;\n                let S2 = this._color2.saturation;\n                let L2 = this._color2.luminosity;\n                let A = (Math.round(A1 + (A2 - A1) * valueFactor) >> 0) & 0xff;\n                let H;\n                if (Math.abs(H2 - H1) <= 127) {\n                    H = (H1 + (H2 - H1) * valueFactor) >> 0;\n                }\n                else {\n                    H = (H1 + 256 + (H2 - H1 + 256) * valueFactor) >> 0;\n                    if (H > 256)\n                        H -= 256;\n                }\n                let S = (S1 + (S2 - S1) * valueFactor) >> 0;\n                let L = (L1 + (L2 - L1) * valueFactor) >> 0;\n                //console.log(H+\" \"+S+\" \"+L) ;\n                b = new YDataRendering.YSolidBrush(new YDataRendering.YColor(true, A, H, S, L));\n            }\n            g.FillPolygon(b, pt);\n        }\n        if (this._borderThickness > 0)\n            g.DrawPolygon(this._borderpen, this._path);\n        g.DrawStringRect(this.lastDrawParameters.value, this._font, this._font.brush, p.valueRectangle, p.valueFormat);\n        if (this._showMinMax) {\n            //YDataRendering.YPen pn = new YDataRendering.YPen(YDataRendering.YColor.Red);\n            //g.DrawRectangle(pn,lastDrawParameters.minValueRectangle);\n            //g.DrawRectangle(pn, lastDrawParameters.maxValueRectangle);\n            g.DrawStringRect(this.lastDrawParameters.minValue, this._minMaxFont, this._minMaxFont.brush, this.lastDrawParameters.minValueRectangle, this.lastDrawParameters.minValueFormat);\n            g.DrawStringRect(this.lastDrawParameters.maxValue, this._minMaxFont, this._minMaxFont.brush, this.lastDrawParameters.maxValueRectangle, this.lastDrawParameters.maxValueFormat);\n        }\n        this.drawAnnotationPanels(g, this._annotationPanels, w, h, true, this.mainViewPort);\n        this.DrawMessagePanels(g, w, h);\n        return 0;\n    }\n    renderingPostProcessing() {\n        if (this._shownValue != this._value)\n            this.redraw();\n    }\n}\n(function (YSolidGauge) {\n    // export enum DisplayMode {DISPLAY90 = \"90\\u00B0\", DISPLAY180 = \"180\\u00B0\", DISPLAY270 = \"270\\u00B0\", DISPLAY360 = \"360\\u00B0\" };\n    class DisplayModeEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, DisplayMode);\n        }\n    }\n    YSolidGauge.DisplayModeEnumItem = DisplayModeEnumItem;\n    class DisplayMode extends YDataRendering.YEnum {\n    }\n    DisplayMode.DISPLAY90 = new DisplayModeEnumItem(\"DISPLAY90\", \"90\\u00B0\");\n    DisplayMode.DISPLAY180 = new DisplayModeEnumItem(\"DISPLAY180\", \"180\\u00B0\");\n    DisplayMode.DISPLAY270 = new DisplayModeEnumItem(\"DISPLAY270\", \"270\\u00B0\");\n    DisplayMode.DISPLAY360 = new DisplayModeEnumItem(\"DISPLAY360\", \"360\\u00B0\");\n    YSolidGauge.DisplayMode = DisplayMode;\n})(YSolidGauge || (YSolidGauge = {}));\n", "/*********************************************************************\n *\n * $Id: yocto_api.ts 51764 2022-11-25 07:52:50Z mvuilleu $\n *\n * High-level programming interface, common to all modules\n *\n * - - - - - - - - - License information: - - - - - - - - -\n *\n *  Copyright (C) 2011 and beyond by Yoctopuce Sarl, Switzerland.\n *\n *  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n *  non-exclusive license to use, modify, copy and integrate http\n *  file into your software for the sole purpose of interfacing\n *  with Yoctopuce products.\n *\n *  You may reproduce and distribute copies of this file in\n *  source or object form, as long as the sole purpose of this\n *  code is to interface with Yoctopuce products. You must retain\n *  this notice in the distributed source file.\n *\n *  You should refer to Yoctopuce General Terms and Conditions\n *  for additional information regarding your rights and\n *  obligations.\n *\n *  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n *  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n *  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n *  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n *  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n *  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n *  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n *  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n *  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n *  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n *  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n *  WARRANTY, OR OTHERWISE.\n *\n *********************************************************************/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n//--- (generated code: YFunction return codes)\n// Yoctopuce error codes, also used by default as function return value\nexport const YAPI_SUCCESS = 0; // everything worked all right\nexport const YAPI_NOT_INITIALIZED = -1; // call yInitAPI() first !\nexport const YAPI_INVALID_ARGUMENT = -2; // one of the arguments passed to the function is invalid\nexport const YAPI_NOT_SUPPORTED = -3; // the operation attempted is (currently) not supported\nexport const YAPI_DEVICE_NOT_FOUND = -4; // the requested device is not reachable\nexport const YAPI_VERSION_MISMATCH = -5; // the device firmware is incompatible with this API version\nexport const YAPI_DEVICE_BUSY = -6; // the device is busy with another task and cannot answer\nexport const YAPI_TIMEOUT = -7; // the device took too long to provide an answer\nexport const YAPI_IO_ERROR = -8; // there was an I/O problem while talking to the device\nexport const YAPI_NO_MORE_DATA = -9; // there is no more data to read from\nexport const YAPI_EXHAUSTED = -10; // you have run out of a limited resource, check the documentation\nexport const YAPI_DOUBLE_ACCES = -11; // you have two process that try to access to the same device\nexport const YAPI_UNAUTHORIZED = -12; // unauthorized access to password-protected device\nexport const YAPI_RTC_NOT_READY = -13; // real-time clock has not been initialized (or time was lost)\nexport const YAPI_FILE_NOT_FOUND = -14; // the file is not found\nexport const YAPI_SSL_ERROR = -15; // Error reported by mbedSSL\nexport const YAPI_INVALID_INT = 0x7fffffff;\nexport const YAPI_INVALID_UINT = -1;\nexport const YAPI_INVALID_LONG = 0x7fffffffffffffff;\nexport const YAPI_INVALID_DOUBLE = -Number.MAX_VALUE;\nexport const YAPI_INVALID_STRING = '!INVALID!';\n//--- (end of generated code: YFunction return codes)\nexport const YAPI_MIN_DOUBLE = -Number.MAX_VALUE;\nexport const YAPI_MAX_DOUBLE = Number.MAX_VALUE;\nexport const Y_FUNCTIONDESCRIPTOR_INVALID = YAPI_INVALID_STRING;\n// yInitAPI constants (not really useful in Javascript, but defined for code portability)\nexport const Y_DETECT_NONE = 0;\nexport const Y_DETECT_USB = 1;\nexport const Y_DETECT_NET = 2;\nexport const Y_DETECT_ALL = (Y_DETECT_USB | Y_DETECT_NET);\nconst DEFAULT_DEVICE_LIST_VALIDITY_MS = 10000;\nconst DEFAULT_NETWORK_TIMEOUT_MS = 20000;\n// calibration types\nconst YOCTO_CALIB_TYPE_OFS = 30;\nconst NOTIFY_NETPKT_NAME = '0';\nconst NOTIFY_NETPKT_CHILD = '2';\nconst NOTIFY_NETPKT_FUNCNAME = '4';\nconst NOTIFY_NETPKT_FUNCVAL = '5';\nconst NOTIFY_NETPKT_LOG = '7';\nconst NOTIFY_NETPKT_FUNCNAMEYDX = '8';\nconst NOTIFY_NETPKT_CONFCHGYDX = 's';\nconst NOTIFY_NETPKT_FLUSHV2YDX = 't';\nconst NOTIFY_NETPKT_FUNCV2YDX = 'u';\nconst NOTIFY_NETPKT_TIMEV2YDX = 'v';\nconst NOTIFY_NETPKT_DEVLOGYDX = 'w';\nconst NOTIFY_NETPKT_TIMEVALYDX = 'x';\nconst NOTIFY_NETPKT_FUNCVALYDX = 'y';\nconst NOTIFY_NETPKT_TIMEAVGYDX = 'z';\nconst NOTIFY_NETPKT_NOT_SYNC = '@';\nconst NOTIFY_NETPKT_STOP = 10; // =\\n\nconst NOTIFY_V2_LEGACY = 0; // unused (reserved for compatibility with legacy notifications)\nconst NOTIFY_V2_6RAWBYTES = 1; // largest type: data is always 6 bytes\nconst NOTIFY_V2_TYPEDDATA = 2; // other types: first data byte holds the decoding format\nconst NOTIFY_V2_FLUSHGROUP = 3; // no data associated\nconst PUBVAL_LEGACY = 0; // 0-6 ASCII characters (normally sent as YSTREAM_NOTICE)\nconst PUBVAL_1RAWBYTE = 1; // 1 raw byte  (=2 characters)\nconst PUBVAL_2RAWBYTES = 2; // 2 raw bytes (=4 characters)\nconst PUBVAL_3RAWBYTES = 3; // 3 raw bytes (=6 characters)\nconst PUBVAL_4RAWBYTES = 4; // 4 raw bytes (=8 characters)\nconst PUBVAL_5RAWBYTES = 5; // 5 raw bytes (=10 characters)\nconst PUBVAL_6RAWBYTES = 6; // 6 hex bytes (=12 characters) (sent as V2_6RAWBYTES)\nconst PUBVAL_C_LONG = 7; // 32-bit C signed integer\nconst PUBVAL_C_FLOAT = 8; // 32-bit C float\nconst PUBVAL_YOCTO_FLOAT_E3 = 9; // 32-bit Yocto fixed-point format (e-3)\nconst PUBVAL_YOCTO_FLOAT_E6 = 10; // 32-bit Yocto fixed-point format (e-6)\nconst YOCTO_PUBVAL_LEN = 16;\nconst YOCTO_PUBVAL_SIZE = 6;\nconst YOCTO_HASH_BUF_SIZE = 28;\nconst YOCTO_BASETYPE_FUNCTION = 0;\nconst YOCTO_BASETYPE_SENSOR = 1;\nconst Y_BASETYPES = {\n    Function: YOCTO_BASETYPE_FUNCTION,\n    Sensor: YOCTO_BASETYPE_SENSOR\n};\nexport class YErrorMsg {\n    constructor(msg = '') {\n        this.msg = msg;\n    }\n}\nexport class YoctoError extends Error {\n    constructor(...params) {\n        // Pass remaining arguments (including vendor specific ones) to parent constructor\n        super(...params);\n        this.errorMsg = this.name;\n        this.name = 'YoctoError';\n        // Maintains proper stack trace for where our error was thrown (only available on V8)\n        if ('captureStackTrace' in Error) {\n            // @ts-ignore\n            Error.captureStackTrace(this, YoctoError);\n        }\n    }\n}\n/**\n * MD5 hash computation code\n *\n * This code is derived from the MD5 implementation from Sergey Lyubka, author of SHTTPD.\n * Any other implementation would do as well, but we chose to translate this one to JS.\n * This code has been published by Sergey under his \"THE BEER-WARE LICENSE\" (Revision 42):\n *\n *   Sergey Lyubka wrote this software. As long as you retain this notice you\n *   can do whatever you want with this stuff. If we meet some day, and you think\n *   this stuff is worth it, you can buy me a beer in return.\n *\n */\nclass Y_MD5Ctx {\n    constructor() {\n        this.buf = new Uint32Array(4);\n        this.bits = new Uint32Array(2);\n        this.inBuf = new ArrayBuffer(64);\n        this.in8 = new Uint8Array(this.inBuf);\n        this.in32 = new Uint32Array(this.inBuf);\n        this.in32[0] = 1;\n        this.bigEndian = (this.in8[0] != 1);\n        this.buf[0] = 0x67452301 >>> 0;\n        this.buf[1] = 0xefcdab89 >>> 0;\n        this.buf[2] = 0x98badcfe >>> 0;\n        this.buf[3] = 0x10325476 >>> 0;\n        this.bits[0] = 0;\n        this.bits[1] = 0;\n    }\n    _byteReverseIn() {\n        for (let i = 0; i < 16; i++) {\n            let a = this.in32[i];\n            this.in32[i] = ((a >>> 24) | ((a & 0xff) << 24) | ((a & 0xff0000) >>> 8) | ((a & 0xff00) << 8)) >>> 0;\n        }\n    }\n    _transform() {\n        let F1 = ((x, y, z) => ((z ^ (x & (y ^ z)))) >>> 0);\n        let F2 = ((x, y, z) => F1(z, x, y));\n        let F3 = ((x, y, z) => ((x ^ y ^ z)) >>> 0);\n        let F4 = ((x, y, z) => ((y ^ (x | ~z))) >>> 0);\n        let MD5STEP = ((f, w, x, y, z, data, s) => {\n            w = (w + f(x, y, z) + (data >>> 0)) >>> 0;\n            w = (((w << s) >>> 0) | (w >>> (32 - s))) >>> 0;\n            return (w + x) >>> 0;\n        });\n        let a = this.buf[0];\n        let b = this.buf[1];\n        let c = this.buf[2];\n        let d = this.buf[3];\n        let dataIn = this.in32;\n        a = MD5STEP(F1, a, b, c, d, dataIn[0] + 0xd76aa478, 7);\n        d = MD5STEP(F1, d, a, b, c, dataIn[1] + 0xe8c7b756, 12);\n        c = MD5STEP(F1, c, d, a, b, dataIn[2] + 0x242070db, 17);\n        b = MD5STEP(F1, b, c, d, a, dataIn[3] + 0xc1bdceee, 22);\n        a = MD5STEP(F1, a, b, c, d, dataIn[4] + 0xf57c0faf, 7);\n        d = MD5STEP(F1, d, a, b, c, dataIn[5] + 0x4787c62a, 12);\n        c = MD5STEP(F1, c, d, a, b, dataIn[6] + 0xa8304613, 17);\n        b = MD5STEP(F1, b, c, d, a, dataIn[7] + 0xfd469501, 22);\n        a = MD5STEP(F1, a, b, c, d, dataIn[8] + 0x698098d8, 7);\n        d = MD5STEP(F1, d, a, b, c, dataIn[9] + 0x8b44f7af, 12);\n        c = MD5STEP(F1, c, d, a, b, dataIn[10] + 0xffff5bb1, 17);\n        b = MD5STEP(F1, b, c, d, a, dataIn[11] + 0x895cd7be, 22);\n        a = MD5STEP(F1, a, b, c, d, dataIn[12] + 0x6b901122, 7);\n        d = MD5STEP(F1, d, a, b, c, dataIn[13] + 0xfd987193, 12);\n        c = MD5STEP(F1, c, d, a, b, dataIn[14] + 0xa679438e, 17);\n        b = MD5STEP(F1, b, c, d, a, dataIn[15] + 0x49b40821, 22);\n        a = MD5STEP(F2, a, b, c, d, dataIn[1] + 0xf61e2562, 5);\n        d = MD5STEP(F2, d, a, b, c, dataIn[6] + 0xc040b340, 9);\n        c = MD5STEP(F2, c, d, a, b, dataIn[11] + 0x265e5a51, 14);\n        b = MD5STEP(F2, b, c, d, a, dataIn[0] + 0xe9b6c7aa, 20);\n        a = MD5STEP(F2, a, b, c, d, dataIn[5] + 0xd62f105d, 5);\n        d = MD5STEP(F2, d, a, b, c, dataIn[10] + 0x02441453, 9);\n        c = MD5STEP(F2, c, d, a, b, dataIn[15] + 0xd8a1e681, 14);\n        b = MD5STEP(F2, b, c, d, a, dataIn[4] + 0xe7d3fbc8, 20);\n        a = MD5STEP(F2, a, b, c, d, dataIn[9] + 0x21e1cde6, 5);\n        d = MD5STEP(F2, d, a, b, c, dataIn[14] + 0xc33707d6, 9);\n        c = MD5STEP(F2, c, d, a, b, dataIn[3] + 0xf4d50d87, 14);\n        b = MD5STEP(F2, b, c, d, a, dataIn[8] + 0x455a14ed, 20);\n        a = MD5STEP(F2, a, b, c, d, dataIn[13] + 0xa9e3e905, 5);\n        d = MD5STEP(F2, d, a, b, c, dataIn[2] + 0xfcefa3f8, 9);\n        c = MD5STEP(F2, c, d, a, b, dataIn[7] + 0x676f02d9, 14);\n        b = MD5STEP(F2, b, c, d, a, dataIn[12] + 0x8d2a4c8a, 20);\n        a = MD5STEP(F3, a, b, c, d, dataIn[5] + 0xfffa3942, 4);\n        d = MD5STEP(F3, d, a, b, c, dataIn[8] + 0x8771f681, 11);\n        c = MD5STEP(F3, c, d, a, b, dataIn[11] + 0x6d9d6122, 16);\n        b = MD5STEP(F3, b, c, d, a, dataIn[14] + 0xfde5380c, 23);\n        a = MD5STEP(F3, a, b, c, d, dataIn[1] + 0xa4beea44, 4);\n        d = MD5STEP(F3, d, a, b, c, dataIn[4] + 0x4bdecfa9, 11);\n        c = MD5STEP(F3, c, d, a, b, dataIn[7] + 0xf6bb4b60, 16);\n        b = MD5STEP(F3, b, c, d, a, dataIn[10] + 0xbebfbc70, 23);\n        a = MD5STEP(F3, a, b, c, d, dataIn[13] + 0x289b7ec6, 4);\n        d = MD5STEP(F3, d, a, b, c, dataIn[0] + 0xeaa127fa, 11);\n        c = MD5STEP(F3, c, d, a, b, dataIn[3] + 0xd4ef3085, 16);\n        b = MD5STEP(F3, b, c, d, a, dataIn[6] + 0x04881d05, 23);\n        a = MD5STEP(F3, a, b, c, d, dataIn[9] + 0xd9d4d039, 4);\n        d = MD5STEP(F3, d, a, b, c, dataIn[12] + 0xe6db99e5, 11);\n        c = MD5STEP(F3, c, d, a, b, dataIn[15] + 0x1fa27cf8, 16);\n        b = MD5STEP(F3, b, c, d, a, dataIn[2] + 0xc4ac5665, 23);\n        a = MD5STEP(F4, a, b, c, d, dataIn[0] + 0xf4292244, 6);\n        d = MD5STEP(F4, d, a, b, c, dataIn[7] + 0x432aff97, 10);\n        c = MD5STEP(F4, c, d, a, b, dataIn[14] + 0xab9423a7, 15);\n        b = MD5STEP(F4, b, c, d, a, dataIn[5] + 0xfc93a039, 21);\n        a = MD5STEP(F4, a, b, c, d, dataIn[12] + 0x655b59c3, 6);\n        d = MD5STEP(F4, d, a, b, c, dataIn[3] + 0x8f0ccc92, 10);\n        c = MD5STEP(F4, c, d, a, b, dataIn[10] + 0xffeff47d, 15);\n        b = MD5STEP(F4, b, c, d, a, dataIn[1] + 0x85845dd1, 21);\n        a = MD5STEP(F4, a, b, c, d, dataIn[8] + 0x6fa87e4f, 6);\n        d = MD5STEP(F4, d, a, b, c, dataIn[15] + 0xfe2ce6e0, 10);\n        c = MD5STEP(F4, c, d, a, b, dataIn[6] + 0xa3014314, 15);\n        b = MD5STEP(F4, b, c, d, a, dataIn[13] + 0x4e0811a1, 21);\n        a = MD5STEP(F4, a, b, c, d, dataIn[4] + 0xf7537e82, 6);\n        d = MD5STEP(F4, d, a, b, c, dataIn[11] + 0xbd3af235, 10);\n        c = MD5STEP(F4, c, d, a, b, dataIn[2] + 0x2ad7d2bb, 15);\n        b = MD5STEP(F4, b, c, d, a, dataIn[9] + 0xeb86d391, 21);\n        this.buf[0] = ((this.buf[0] + a) & 0xffffffff) >>> 0;\n        this.buf[1] = ((this.buf[1] + b) & 0xffffffff) >>> 0;\n        this.buf[2] = ((this.buf[2] + c) & 0xffffffff) >>> 0;\n        this.buf[3] = ((this.buf[3] + d) & 0xffffffff) >>> 0;\n    }\n    addData(buf) {\n        let len = buf.length;\n        let pos = 0;\n        let t = this.bits[0];\n        this.bits[0] = (t + (len << 3)) >>> 0;\n        if (this.bits[0] < t) {\n            this.bits[1]++;\n        }\n        this.bits[1] += len >>> 29;\n        t = (t >>> 3) & 0x3f;\n        while (pos < len) {\n            while (pos < len && t < 64) {\n                this.in8[t++] = buf[pos++];\n            }\n            if (t < 64)\n                return;\n            if (this.bigEndian)\n                this._byteReverseIn();\n            this._transform();\n            t = 0;\n        }\n    }\n    calculate() {\n        let t = (this.bits[0] >>> 3) & 0x3f;\n        this.in8[t++] = 0x80;\n        if (t > 56) {\n            while (t < 64) {\n                this.in8[t++] = 0;\n            }\n            if (this.bigEndian)\n                this._byteReverseIn();\n            this._transform();\n            for (t = 0; t < 14; t++) {\n                this.in32[t] = 0;\n            }\n        }\n        else {\n            while (t < 56) {\n                this.in8[t++] = 0;\n            }\n            if (this.bigEndian)\n                this._byteReverseIn();\n        }\n        this.in32[14] = this.bits[0];\n        this.in32[15] = this.bits[1];\n        this._transform();\n        let res = new Uint8Array(16);\n        for (t = 0; t < 16; t++) {\n            res[t] = (this.buf[t >>> 2] >>> (8 * (t & 3))) & 0xff;\n        }\n        return res;\n    }\n}\n//\n// YFunctionType Class (used internally)\n//\n// Instances of this class stores everything we know about a given type of function:\n// Mapping between function logical names and Hardware ID as discovered on hubs,\n// and existing instances of YFunction (either already connected or simply requested).\n// To keep it simple, this implementation separates completely the name resolution\n// mechanism, implemented using the yellow pages, and the storage and retrieval of\n// existing YFunction instances.\n//\nclass YFunctionType {\n    constructor(yapi, classname) {\n        this._yapi = yapi;\n        this._className = classname;\n        this._connectedFns = {}; // functions requested and available, by Hardware Id\n        this._requestedFns = {}; // functions requested but not yet known, by any type of name\n        this._hwIdByName = {}; // hash table of function Hardware Id by logical name\n        this._nameByHwId = {}; // hash table of function logical name by Hardware Id\n        this._valueByHwId = {}; // hash table of function advertised value by logical name\n        this._baseType = 0; // default to no abstract base type (generic YFunction)\n    }\n    /** Index a single function given by HardwareId and logical name; store any advertised value\n     *\n     * @param {string} str_hwid\n     * @param {string} str_name\n     * @param {string|null} str_val\n     * @param {number|null} int_basetype\n     * @returns {boolean} true iff there was a logical name discrepancy\n     */\n    imm_reindexFunction(str_hwid, str_name, str_val, int_basetype) {\n        let currname = this._nameByHwId[str_hwid];\n        let res = false;\n        if (currname == undefined || currname == '') {\n            if (str_name != '') {\n                this._nameByHwId[str_hwid] = str_name;\n                res = true;\n            }\n        }\n        else if (currname != str_name) {\n            if (this._hwIdByName[currname] == str_hwid)\n                delete this._hwIdByName[currname];\n            if (str_name != '') {\n                this._nameByHwId[str_hwid] = str_name;\n            }\n            else {\n                delete this._nameByHwId[str_hwid];\n            }\n            res = true;\n        }\n        if (str_name != '') {\n            this._hwIdByName[str_name] = str_hwid;\n        }\n        if (str_val) {\n            this._valueByHwId[str_hwid] = str_val;\n        }\n        else {\n            if (this._valueByHwId[str_hwid] == undefined) {\n                this._valueByHwId[str_hwid] = '';\n            }\n        }\n        if (int_basetype) {\n            if (this._baseType == 0) {\n                this._baseType = int_basetype;\n            }\n        }\n        return res;\n    }\n    /** Forget a disconnected function given by HardwareId\n     *\n     * @param {string} str_hwid\n     */\n    imm_forgetFunction(str_hwid) {\n        let currname = this._nameByHwId[str_hwid];\n        if (currname != undefined) {\n            if (currname != '' && this._hwIdByName[currname] == str_hwid) {\n                delete this._hwIdByName[currname];\n            }\n            delete this._nameByHwId[str_hwid];\n        }\n        if (this._valueByHwId[str_hwid] != undefined) {\n            delete this._valueByHwId[str_hwid];\n        }\n        // Move the function object to the disconnected list\n        let con_fn = this._connectedFns[str_hwid];\n        if (con_fn) {\n            this._requestedFns[str_hwid] = con_fn;\n            delete this._connectedFns[str_hwid];\n        }\n    }\n    /** Find the exact Hardware Id of the specified function, if currently connected\n     * If device is not known as connected, return a clean error\n     * This function will not cause any network access\n     *\n     * @param {string} str_func\n     * @return {object}\n     */\n    imm_resolve(str_func) {\n        let res;\n        let dotpos = str_func.indexOf('.');\n        if (dotpos < 0) {\n            // First case: str_func is the logicalname of a function\n            res = this._hwIdByName[str_func];\n            if (res != undefined) {\n                return { errorType: YAPI_SUCCESS,\n                    errorMsg: 'no error',\n                    result: String(res) };\n            }\n            // fallback to assuming that str_func is a logicalname or serial number of a module\n            // with an implicit function name (like serial.module for instance)\n            dotpos = str_func.length;\n            str_func += '.' + this._className.substr(0, 1).toLowerCase() + this._className.substr(1);\n        }\n        // Second case: str_func is in the form: device_id.function_id\n        // quick lookup for a known pure hardware id\n        if (this._valueByHwId[str_func] != undefined) {\n            return { errorType: YAPI_SUCCESS,\n                errorMsg: 'no error',\n                result: String(str_func) };\n        }\n        let serial = '';\n        let funcid;\n        if (dotpos > 0) {\n            // either the device id is a logical name, or the function is unknown\n            let devid = str_func.substr(0, dotpos);\n            funcid = str_func.substr(dotpos + 1);\n            let dev = this._yapi.imm_getDevice(devid);\n            if (!dev) {\n                return { errorType: YAPI_DEVICE_NOT_FOUND,\n                    errorMsg: 'Device [' + devid + '] not online',\n                    result: '' };\n            }\n            serial = dev.imm_getSerialNumber();\n            res = serial + '.' + funcid;\n            if (this._valueByHwId[res] != undefined) {\n                return { errorType: YAPI_SUCCESS,\n                    errorMsg: 'no error',\n                    result: String(res) };\n            }\n            // not found neither, may be funcid is a function logicalname\n            let i, nfun = dev.imm_functionCount();\n            for (i = 0; i < nfun; i++) {\n                res = serial + '.' + dev.imm_functionId(i);\n                let name = this._nameByHwId[res];\n                if (name != undefined && name == funcid) {\n                    return { errorType: YAPI_SUCCESS,\n                        errorMsg: 'no error',\n                        result: String(res) };\n                }\n            }\n        }\n        else {\n            funcid = str_func.substr(1);\n            for (let hwid_str in this._connectedFns) {\n                let pos = hwid_str.indexOf('.');\n                let str_function = hwid_str.substr(pos + 1);\n                if (str_function == funcid) {\n                    return { errorType: YAPI_SUCCESS,\n                        errorMsg: 'no error',\n                        result: String(hwid_str) };\n                }\n            }\n        }\n        return { errorType: YAPI_DEVICE_NOT_FOUND,\n            errorMsg: 'No function [' + funcid + '] found on device [' + serial + ']',\n            result: '' };\n    }\n    /** Find the friendly name (use logical name if available) of the specified function, if currently connected\n     * If device is not known as connected, return a clean error\n     * This function will not cause any network access\n     *\n     * @param {string} str_func\n     * @return {object}\n     */\n    imm_getFriendlyName(str_func) {\n        let resolved = this.imm_resolve(str_func);\n        let name;\n        if (resolved.errorType != YAPI_SUCCESS) {\n            return resolved;\n        }\n        let hwId = resolved.result;\n        if (this._className == 'Module') {\n            let friend = hwId;\n            name = this._nameByHwId[friend];\n            if (name != undefined && name != '') {\n                friend = this._nameByHwId[friend];\n            }\n            return { errorType: YAPI_SUCCESS,\n                errorMsg: 'no error',\n                result: String(friend) };\n        }\n        else {\n            let pos = hwId.indexOf('.');\n            let str_serialMod = hwId.substr(0, pos);\n            let str_friendModFull = this._yapi.imm_getFriendlyNameFunction('Module', str_serialMod).result;\n            let int_friendModDot = str_friendModFull.indexOf('.');\n            let str_friendMod = (int_friendModDot > 0 ? str_friendModFull.substr(0, int_friendModDot) : str_friendModFull);\n            let str_friendFunc = hwId.substr(pos + 1);\n            name = this._nameByHwId[hwId];\n            if (name != undefined && name != '') {\n                str_friendFunc = name;\n            }\n            return { errorType: YAPI_SUCCESS,\n                errorMsg: 'no error',\n                result: String(str_friendMod + '.' + str_friendFunc) };\n        }\n    }\n    /** Associates a given function object to a function id\n     *\n     * @param {string} str_func\n     * @param {YFunction} obj_func\n     */\n    imm_setFunction(str_func, obj_func) {\n        let funres = this.imm_resolve(str_func);\n        if (funres.result) {\n            // the function has been located on a device\n            this._connectedFns[funres.result] = obj_func;\n        }\n        else {\n            // the function is still abstract\n            this._requestedFns[str_func] = obj_func;\n        }\n    }\n    /** Retrieve a function object by hardware id, updating the indexes on the fly if needed\n     *\n     * @param {string} str_func\n     * @return {YFunction}\n     */\n    imm_getFunction(str_func) {\n        let funres = this.imm_resolve(str_func);\n        if (funres.errorType == YAPI_SUCCESS) {\n            // the function has been located on a device\n            let conn_fn = this._connectedFns[funres.result];\n            if (conn_fn != undefined) {\n                return conn_fn;\n            }\n            let req_fn = this._requestedFns[str_func];\n            if (req_fn != undefined) {\n                this._connectedFns[funres.result] = req_fn;\n                delete this._requestedFns[str_func];\n            }\n            return req_fn;\n        }\n        else {\n            // the function is still abstract\n            return this._requestedFns[str_func];\n        }\n    }\n    /** Stores a function advertised value by hardware id, and tell if an event should be queued for it\n     *\n     * @param {string} str_hwid\n     * @param {string} str_pubval\n     * @return {boolean}\n     */\n    imm_setFunctionValue(str_hwid, str_pubval) {\n        let currval = this._valueByHwId[str_hwid];\n        if (!(currval == undefined) && currval == str_pubval) {\n            return false;\n        }\n        this._valueByHwId[str_hwid] = str_pubval;\n        return true;\n    }\n    /** Retrieve a function advertised value by hardware id\n     *\n     * @param {string} str_hwid\n     * @return {string}\n     */\n    imm_getFunctionValue(str_hwid) {\n        return this._valueByHwId[str_hwid];\n    }\n    /** Return the basetype of this function class\n     *\n     * @return {number}\n     */\n    imm_getBaseType() {\n        return this._baseType;\n    }\n    /** Test if function type is compatible with basetype\n     *\n     * @return {boolean}\n     */\n    imm_matchBaseType(baseclass) {\n        return baseclass == YOCTO_BASETYPE_FUNCTION || baseclass == this._baseType;\n    }\n    /** Find the hardwareId of the first instance of a given function class\n     *\n     * @return {string|null}\n     */\n    imm_getFirstHardwareId() {\n        let res = null;\n        //noinspection LoopStatementThatDoesntLoopJS\n        for (res in this._valueByHwId)\n            break;\n        return res;\n    }\n    /** Find the hardwareId for the next instance of a given function class\n     *\n     * @param {string} str_hwid\n     * @return {string|null}\n     */\n    imm_getNextHardwareId(str_hwid) {\n        for (let iter_hwid in this._valueByHwId) {\n            if (str_hwid == '!')\n                return iter_hwid;\n            if (str_hwid == iter_hwid)\n                str_hwid = '!';\n        }\n        return null; // no more instance found\n    }\n}\nexport class YHTTPBody {\n    /** Object storing a file to upload\n     *\n     * @param str_fname {string}\n     * @param bin_data {Uint8Array}\n     * @param fun_progressCb {YDownloadProgressCallback}\n     */\n    constructor(str_fname, bin_data, fun_progressCb) {\n        this.fname = str_fname;\n        this.data = bin_data;\n        this.progressCb = fun_progressCb;\n    }\n}\nexport class YHTTPRequest {\n    /** Object storing the result of any HTTP Query, with status code and error message\n     *\n     * @param bin_res {Uint8Array}\n     * @param int_errType {number}\n     * @param str_errMsg {string}\n     */\n    constructor(bin_res, int_errType = YAPI_SUCCESS, str_errMsg = 'no error') {\n        this.devUrl = null;\n        this.obj_result = null;\n        this.asyncId = 0;\n        this.acceptor = null;\n        this.toBeSent = null;\n        this.sendPos = 0;\n        this.progressCb = null;\n        this.timeoutId = null; /* actually a number | NodeJS.Timeout */\n        this.sendTimeoutId = null; /* actually a number | NodeJS.Timeout */\n        this.next = null;\n        this._creat = '';\n        this._sent = '';\n        this.bin_result = bin_res;\n        this.errorType = int_errType;\n        this.errorMsg = str_errMsg;\n    }\n}\nclass YFuncRequest {\n    /* Object storing the result of a function request, with status code and error message */\n    constructor(obj_res, int_errType = YAPI_SUCCESS, str_errMsg = 'no error') {\n        this.errorType = int_errType;\n        this.errorMsg = str_errMsg;\n        this.obj_result = obj_res;\n    }\n}\n//--- (generated code: YDataStream definitions)\n//--- (end of generated code: YDataStream definitions)\n//--- (generated code: YDataStream class start)\n/**\n * YDataStream Class: Unformatted data sequence\n *\n * DataStream objects represent bare recorded measure sequences,\n * exactly as found within the data logger present on Yoctopuce\n * sensors.\n *\n * In most cases, it is not necessary to use DataStream objects\n * directly, as the DataSet objects (returned by the\n * get_recordedData() method from sensors and the\n * get_dataSets() method from the data logger) provide\n * a more convenient interface.\n */\n//--- (end of generated code: YDataStream class start)\nexport class YDataStream {\n    // API symbols as static members\n    //--- (end of generated code: YDataStream attributes declaration)\n    constructor(obj_parent, obj_dataset, encoded) {\n        //--- (generated code: YDataStream constructor)\n        //--- (end of generated code: YDataStream constructor)\n        this._runNo = 0;\n        this._utcStamp = 0;\n        this._nCols = 0;\n        this._nRows = 0;\n        this._startTime = 0;\n        this._duration = 0;\n        this._dataSamplesInterval = 0;\n        this._firstMeasureDuration = 0;\n        this._columnNames = [];\n        this._functionId = '';\n        this._isClosed = false;\n        this._isAvg = false;\n        this._minVal = 0;\n        this._avgVal = 0;\n        this._maxVal = 0;\n        this._caltyp = 0;\n        this._calpar = [];\n        this._calraw = [];\n        this._calref = [];\n        this._values = [];\n        this._isLoaded = false;\n        this.DATA_INVALID = YAPI_INVALID_DOUBLE;\n        this.DURATION_INVALID = YAPI_INVALID_DOUBLE;\n        this._parent = obj_parent;\n        this._yapi = this._parent._yapi;\n        this.imm_calhdl = null;\n        if (typeof obj_dataset != 'undefined') {\n            this.imm_initFromDataSet(obj_dataset, encoded);\n        }\n    }\n    //--- (generated code: YDataStream implementation)\n    imm_initFromDataSet(dataset, encoded) {\n        let val;\n        let i;\n        let maxpos;\n        let ms_offset;\n        let samplesPerHour;\n        let fRaw;\n        let fRef;\n        let iCalib = [];\n        // decode sequence header to extract data\n        this._runNo = encoded[0] + (((encoded[1]) << (16)));\n        this._utcStamp = encoded[2] + (((encoded[3]) << (16)));\n        val = encoded[4];\n        this._isAvg = (((val) & (0x100)) == 0);\n        samplesPerHour = ((val) & (0xff));\n        if (((val) & (0x100)) != 0) {\n            samplesPerHour = samplesPerHour * 3600;\n        }\n        else {\n            if (((val) & (0x200)) != 0) {\n                samplesPerHour = samplesPerHour * 60;\n            }\n        }\n        this._dataSamplesInterval = 3600.0 / samplesPerHour;\n        ms_offset = encoded[6];\n        if (ms_offset < 1000) {\n            // new encoding -> add the ms to the UTC timestamp\n            this._startTime = this._utcStamp + (ms_offset / 1000.0);\n        }\n        else {\n            // legacy encoding subtract the measure interval form the UTC timestamp\n            this._startTime = this._utcStamp - this._dataSamplesInterval;\n        }\n        this._firstMeasureDuration = encoded[5];\n        if (!(this._isAvg)) {\n            this._firstMeasureDuration = this._firstMeasureDuration / 1000.0;\n        }\n        val = encoded[7];\n        this._isClosed = (val != 0xffff);\n        if (val == 0xffff) {\n            val = 0;\n        }\n        this._nRows = val;\n        if (this._nRows > 0) {\n            if (this._firstMeasureDuration > 0) {\n                this._duration = this._firstMeasureDuration + (this._nRows - 1) * this._dataSamplesInterval;\n            }\n            else {\n                this._duration = this._nRows * this._dataSamplesInterval;\n            }\n        }\n        else {\n            this._duration = 0;\n        }\n        // precompute decoding parameters\n        iCalib = dataset.imm_get_calibration();\n        this._caltyp = iCalib[0];\n        if (this._caltyp != 0) {\n            this.imm_calhdl = this._yapi.imm_getCalibrationHandler(this._caltyp);\n            maxpos = iCalib.length;\n            this._calpar.length = 0;\n            this._calraw.length = 0;\n            this._calref.length = 0;\n            i = 1;\n            while (i < maxpos) {\n                this._calpar.push(iCalib[i]);\n                i = i + 1;\n            }\n            i = 1;\n            while (i + 1 < maxpos) {\n                fRaw = iCalib[i];\n                fRaw = fRaw / 1000.0;\n                fRef = iCalib[i + 1];\n                fRef = fRef / 1000.0;\n                this._calraw.push(fRaw);\n                this._calref.push(fRef);\n                i = i + 2;\n            }\n        }\n        // preload column names for backward-compatibility\n        this._functionId = dataset.imm_get_functionId();\n        if (this._isAvg) {\n            this._columnNames.length = 0;\n            this._columnNames.push(this._functionId + '_min');\n            this._columnNames.push(this._functionId + '_avg');\n            this._columnNames.push(this._functionId + '_max');\n            this._nCols = 3;\n        }\n        else {\n            this._columnNames.length = 0;\n            this._columnNames.push(this._functionId);\n            this._nCols = 1;\n        }\n        // decode min/avg/max values for the sequence\n        if (this._nRows > 0) {\n            this._avgVal = this.imm_decodeAvg(encoded[8] + (((((encoded[9]) ^ (0x8000))) << (16))), 1);\n            this._minVal = this.imm_decodeVal(encoded[10] + (((encoded[11]) << (16))));\n            this._maxVal = this.imm_decodeVal(encoded[12] + (((encoded[13]) << (16))));\n        }\n        return 0;\n    }\n    imm_parseStream(sdata) {\n        let idx;\n        let udat = [];\n        let dat = [];\n        if (this._isLoaded && !(this._isClosed)) {\n            return YAPI_SUCCESS;\n        }\n        if ((sdata).length == 0) {\n            this._nRows = 0;\n            return YAPI_SUCCESS;\n        }\n        udat = this._yapi.imm_decodeWords(this._parent.imm_json_get_string(sdata));\n        this._values.length = 0;\n        idx = 0;\n        if (this._isAvg) {\n            while (idx + 3 < udat.length) {\n                dat.length = 0;\n                if ((udat[idx] == 65535) && (udat[idx + 1] == 65535)) {\n                    dat.push(NaN);\n                    dat.push(NaN);\n                    dat.push(NaN);\n                }\n                else {\n                    dat.push(this.imm_decodeVal(udat[idx + 2] + (((udat[idx + 3]) << (16)))));\n                    dat.push(this.imm_decodeAvg(udat[idx] + (((((udat[idx + 1]) ^ (0x8000))) << (16))), 1));\n                    dat.push(this.imm_decodeVal(udat[idx + 4] + (((udat[idx + 5]) << (16)))));\n                }\n                idx = idx + 6;\n                this._values.push(dat.slice());\n            }\n        }\n        else {\n            while (idx + 1 < udat.length) {\n                dat.length = 0;\n                if ((udat[idx] == 65535) && (udat[idx + 1] == 65535)) {\n                    dat.push(NaN);\n                }\n                else {\n                    dat.push(this.imm_decodeAvg(udat[idx] + (((((udat[idx + 1]) ^ (0x8000))) << (16))), 1));\n                }\n                this._values.push(dat.slice());\n                idx = idx + 2;\n            }\n        }\n        this._nRows = this._values.length;\n        this._isLoaded = true;\n        return YAPI_SUCCESS;\n    }\n    imm_wasLoaded() {\n        return this._isLoaded;\n    }\n    imm_get_url() {\n        let url;\n        url = 'logger.json?id=' + this._functionId + '&run=' + String(Math.round(this._runNo)) + '&utc=' + String(Math.round(this._utcStamp));\n        return url;\n    }\n    imm_get_baseurl() {\n        let url;\n        url = 'logger.json?id=' + this._functionId + '&run=' + String(Math.round(this._runNo)) + '&utc=';\n        return url;\n    }\n    imm_get_urlsuffix() {\n        let url;\n        url = String(Math.round(this._utcStamp));\n        return url;\n    }\n    loadStream() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.imm_parseStream(yield this._parent._download(this.imm_get_url()));\n        });\n    }\n    imm_decodeVal(w) {\n        let val;\n        val = w;\n        val = val / 1000.0;\n        if (this._caltyp != 0) {\n            if (this.imm_calhdl != null) {\n                val = this.imm_calhdl(val, this._caltyp, this._calpar, this._calraw, this._calref);\n            }\n        }\n        return val;\n    }\n    imm_decodeAvg(dw, count) {\n        let val;\n        val = dw;\n        val = val / 1000.0;\n        if (this._caltyp != 0) {\n            if (this.imm_calhdl != null) {\n                val = this.imm_calhdl(val, this._caltyp, this._calpar, this._calraw, this._calref);\n            }\n        }\n        return val;\n    }\n    isClosed() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._isClosed;\n        });\n    }\n    /**\n     * Returns the run index of the data stream. A run can be made of\n     * multiple datastreams, for different time intervals.\n     *\n     * @return an unsigned number corresponding to the run index.\n     */\n    get_runIndex() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._runNo;\n        });\n    }\n    /**\n     * Returns the relative start time of the data stream, measured in seconds.\n     * For recent firmwares, the value is relative to the present time,\n     * which means the value is always negative.\n     * If the device uses a firmware older than version 13000, value is\n     * relative to the start of the time the device was powered on, and\n     * is always positive.\n     * If you need an absolute UTC timestamp, use get_realStartTimeUTC().\n     *\n     * <b>DEPRECATED</b>: This method has been replaced by get_realStartTimeUTC().\n     *\n     * @return an unsigned number corresponding to the number of seconds\n     *         between the start of the run and the beginning of this data\n     *         stream.\n     */\n    get_startTime() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._utcStamp - ((Date.now() / 1000) >> 0);\n        });\n    }\n    /**\n     * Returns the start time of the data stream, relative to the Jan 1, 1970.\n     * If the UTC time was not set in the datalogger at the time of the recording\n     * of this data stream, this method returns 0.\n     *\n     * <b>DEPRECATED</b>: This method has been replaced by get_realStartTimeUTC().\n     *\n     * @return an unsigned number corresponding to the number of seconds\n     *         between the Jan 1, 1970 and the beginning of this data\n     *         stream (i.e. Unix time representation of the absolute time).\n     */\n    get_startTimeUTC() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Math.round(this._startTime);\n        });\n    }\n    /**\n     * Returns the start time of the data stream, relative to the Jan 1, 1970.\n     * If the UTC time was not set in the datalogger at the time of the recording\n     * of this data stream, this method returns 0.\n     *\n     * @return a floating-point number  corresponding to the number of seconds\n     *         between the Jan 1, 1970 and the beginning of this data\n     *         stream (i.e. Unix time representation of the absolute time).\n     */\n    get_realStartTimeUTC() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._startTime;\n        });\n    }\n    /**\n     * Returns the number of milliseconds between two consecutive\n     * rows of this data stream. By default, the data logger records one row\n     * per second, but the recording frequency can be changed for\n     * each device function\n     *\n     * @return an unsigned number corresponding to a number of milliseconds.\n     */\n    get_dataSamplesIntervalMs() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Math.round(this._dataSamplesInterval * 1000);\n        });\n    }\n    get_dataSamplesInterval() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._dataSamplesInterval;\n        });\n    }\n    get_firstDataSamplesInterval() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._firstMeasureDuration;\n        });\n    }\n    /**\n     * Returns the number of data rows present in this stream.\n     *\n     * If the device uses a firmware older than version 13000,\n     * this method fetches the whole data stream from the device\n     * if not yet done, which can cause a little delay.\n     *\n     * @return an unsigned number corresponding to the number of rows.\n     *\n     * On failure, throws an exception or returns zero.\n     */\n    get_rowCount() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if ((this._nRows != 0) && this._isClosed) {\n                return this._nRows;\n            }\n            yield this.loadStream();\n            return this._nRows;\n        });\n    }\n    /**\n     * Returns the number of data columns present in this stream.\n     * The meaning of the values present in each column can be obtained\n     * using the method get_columnNames().\n     *\n     * If the device uses a firmware older than version 13000,\n     * this method fetches the whole data stream from the device\n     * if not yet done, which can cause a little delay.\n     *\n     * @return an unsigned number corresponding to the number of columns.\n     *\n     * On failure, throws an exception or returns zero.\n     */\n    get_columnCount() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._nCols != 0) {\n                return this._nCols;\n            }\n            yield this.loadStream();\n            return this._nCols;\n        });\n    }\n    /**\n     * Returns the title (or meaning) of each data column present in this stream.\n     * In most case, the title of the data column is the hardware identifier\n     * of the sensor that produced the data. For streams recorded at a lower\n     * recording rate, the dataLogger stores the min, average and max value\n     * during each measure interval into three columns with suffixes _min,\n     * _avg and _max respectively.\n     *\n     * If the device uses a firmware older than version 13000,\n     * this method fetches the whole data stream from the device\n     * if not yet done, which can cause a little delay.\n     *\n     * @return a list containing as many strings as there are columns in the\n     *         data stream.\n     *\n     * On failure, throws an exception or returns an empty array.\n     */\n    get_columnNames() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._columnNames.length != 0) {\n                return this._columnNames;\n            }\n            yield this.loadStream();\n            return this._columnNames;\n        });\n    }\n    /**\n     * Returns the smallest measure observed within this stream.\n     * If the device uses a firmware older than version 13000,\n     * this method will always return YDataStream.DATA_INVALID.\n     *\n     * @return a floating-point number corresponding to the smallest value,\n     *         or YDataStream.DATA_INVALID if the stream is not yet complete (still recording).\n     *\n     * On failure, throws an exception or returns YDataStream.DATA_INVALID.\n     */\n    get_minValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._minVal;\n        });\n    }\n    /**\n     * Returns the average of all measures observed within this stream.\n     * If the device uses a firmware older than version 13000,\n     * this method will always return YDataStream.DATA_INVALID.\n     *\n     * @return a floating-point number corresponding to the average value,\n     *         or YDataStream.DATA_INVALID if the stream is not yet complete (still recording).\n     *\n     * On failure, throws an exception or returns YDataStream.DATA_INVALID.\n     */\n    get_averageValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._avgVal;\n        });\n    }\n    /**\n     * Returns the largest measure observed within this stream.\n     * If the device uses a firmware older than version 13000,\n     * this method will always return YDataStream.DATA_INVALID.\n     *\n     * @return a floating-point number corresponding to the largest value,\n     *         or YDataStream.DATA_INVALID if the stream is not yet complete (still recording).\n     *\n     * On failure, throws an exception or returns YDataStream.DATA_INVALID.\n     */\n    get_maxValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._maxVal;\n        });\n    }\n    get_realDuration() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._isClosed) {\n                return this._duration;\n            }\n            return ((Date.now() / 1000) >> 0) - this._utcStamp;\n        });\n    }\n    /**\n     * Returns the whole data set contained in the stream, as a bidimensional\n     * table of numbers.\n     * The meaning of the values present in each column can be obtained\n     * using the method get_columnNames().\n     *\n     * This method fetches the whole data stream from the device,\n     * if not yet done.\n     *\n     * @return a list containing as many elements as there are rows in the\n     *         data stream. Each row itself is a list of floating-point\n     *         numbers.\n     *\n     * On failure, throws an exception or returns an empty array.\n     */\n    get_dataRows() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if ((this._values.length == 0) || !(this._isClosed)) {\n                yield this.loadStream();\n            }\n            return this._values;\n        });\n    }\n    /**\n     * Returns a single measure from the data stream, specified by its\n     * row and column index.\n     * The meaning of the values present in each column can be obtained\n     * using the method get_columnNames().\n     *\n     * This method fetches the whole data stream from the device,\n     * if not yet done.\n     *\n     * @param row : row index\n     * @param col : column index\n     *\n     * @return a floating-point number\n     *\n     * On failure, throws an exception or returns YDataStream.DATA_INVALID.\n     */\n    get_data(row, col) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if ((this._values.length == 0) || !(this._isClosed)) {\n                yield this.loadStream();\n            }\n            if (row >= this._values.length) {\n                return YDataStream.DATA_INVALID;\n            }\n            if (col >= this._values[row].length) {\n                return YDataStream.DATA_INVALID;\n            }\n            return this._values[row][col];\n        });\n    }\n}\nYDataStream.DATA_INVALID = YAPI_INVALID_DOUBLE;\nYDataStream.DURATION_INVALID = YAPI_INVALID_DOUBLE;\n//--- (generated code: YDataSet definitions)\n//--- (end of generated code: YDataSet definitions)\n//--- (generated code: YDataSet class start)\n/**\n * YDataSet Class: Recorded data sequence, as returned by sensor.get_recordedData()\n *\n * YDataSet objects make it possible to retrieve a set of recorded measures\n * for a given sensor and a specified time interval. They can be used\n * to load data points with a progress report. When the YDataSet object is\n * instantiated by the sensor.get_recordedData()  function, no data is\n * yet loaded from the module. It is only when the loadMore()\n * method is called over and over than data will be effectively loaded\n * from the dataLogger.\n *\n * A preview of available measures is available using the function\n * get_preview() as soon as loadMore() has been called\n * once. Measures themselves are available using function get_measures()\n * when loaded by subsequent calls to loadMore().\n *\n * This class can only be used on devices that use a relatively recent firmware,\n * as YDataSet objects are not supported by firmwares older than version 13000.\n */\n//--- (end of generated code: YDataSet class start)\nexport class YDataSet {\n    // API symbols as static members\n    //--- (end of generated code: YDataSet attributes declaration)\n    constructor(obj_parent, str_functionId = '', str_unit = '', double_startTime = 0, double_endTime = 0) {\n        //--- (generated code: YDataSet constructor)\n        //--- (end of generated code: YDataSet constructor)\n        this._hardwareId = '';\n        this._functionId = '';\n        this._unit = '';\n        this._bulkLoad = 0;\n        this._startTimeMs = 0;\n        this._endTimeMs = 0;\n        this._progress = 0;\n        this._calib = [];\n        this._streams = [];\n        this._preview = [];\n        this._measures = [];\n        this._summaryMinVal = 0;\n        this._summaryMaxVal = 0;\n        this._summaryTotalAvg = 0;\n        this._summaryTotalTime = 0;\n        this.DATA_INVALID = YAPI_INVALID_DOUBLE;\n        this.DURATION_INVALID = YAPI_INVALID_DOUBLE;\n        this.HARDWAREID_INVALID = YAPI_INVALID_STRING;\n        this.FUNCTIONID_INVALID = YAPI_INVALID_STRING;\n        this.UNIT_INVALID = YAPI_INVALID_STRING;\n        // init _summary with dummy value\n        this._summary = new YMeasure(0, 0, 0, 0, 0);\n        if (str_functionId == '') {\n            // 1st version of constructor, called from YDataLogger\n            /** @member {YFunction} **/\n            this._parent = obj_parent;\n            /** @member {YAPIContext} **/\n            this._yapi = obj_parent._yapi;\n            this._startTimeMs = 0;\n            this._endTimeMs = 0;\n            // caller must call method async parse() just afterwards\n        }\n        else {\n            // 2nd version of constructor, called from YFunction\n            /** @member {YFunction} **/\n            this._parent = obj_parent;\n            /** @member {YAPIContext} **/\n            this._yapi = obj_parent._yapi;\n            this._functionId = str_functionId;\n            this._unit = str_unit;\n            this._startTimeMs = double_startTime * 1000;\n            this._endTimeMs = double_endTime * 1000;\n            this._progress = -1;\n        }\n    }\n    imm_get_functionId() {\n        return this._functionId;\n    }\n    //--- (generated code: YDataSet implementation)\n    imm_get_calibration() {\n        return this._calib;\n    }\n    loadSummary(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let dataRows = [];\n            let tim;\n            let mitv;\n            let itv;\n            let fitv;\n            let end_;\n            let nCols;\n            let minCol;\n            let avgCol;\n            let maxCol;\n            let res;\n            let m_pos;\n            let previewTotalTime;\n            let previewTotalAvg;\n            let previewMinVal;\n            let previewMaxVal;\n            let previewAvgVal;\n            let previewStartMs;\n            let previewStopMs;\n            let previewDuration;\n            let streamStartTimeMs;\n            let streamDuration;\n            let streamEndTimeMs;\n            let minVal;\n            let avgVal;\n            let maxVal;\n            let summaryStartMs;\n            let summaryStopMs;\n            let summaryTotalTime;\n            let summaryTotalAvg;\n            let summaryMinVal;\n            let summaryMaxVal;\n            let url;\n            let strdata;\n            let measure_data = [];\n            if (this._progress < 0) {\n                strdata = this._yapi.imm_bin2str(data);\n                if (strdata == '{}') {\n                    this._parent._throw(YAPI_VERSION_MISMATCH, 'device firmware is too old');\n                    return YAPI_VERSION_MISMATCH;\n                }\n                res = yield this._parse(strdata);\n                if (res < 0) {\n                    return res;\n                }\n            }\n            summaryTotalTime = 0;\n            summaryTotalAvg = 0;\n            summaryMinVal = YAPI_MAX_DOUBLE;\n            summaryMaxVal = YAPI_MIN_DOUBLE;\n            summaryStartMs = YAPI_MAX_DOUBLE;\n            summaryStopMs = YAPI_MIN_DOUBLE;\n            // Parse complete streams\n            for (let ii in this._streams) {\n                streamStartTimeMs = Math.round((yield this._streams[ii].get_realStartTimeUTC()) * 1000);\n                streamDuration = yield this._streams[ii].get_realDuration();\n                streamEndTimeMs = streamStartTimeMs + Math.round(streamDuration * 1000);\n                if ((streamStartTimeMs >= this._startTimeMs) && ((this._endTimeMs == 0) || (streamEndTimeMs <= this._endTimeMs))) {\n                    // stream that are completely inside the dataset\n                    previewMinVal = yield this._streams[ii].get_minValue();\n                    previewAvgVal = yield this._streams[ii].get_averageValue();\n                    previewMaxVal = yield this._streams[ii].get_maxValue();\n                    previewStartMs = streamStartTimeMs;\n                    previewStopMs = streamEndTimeMs;\n                    previewDuration = streamDuration;\n                }\n                else {\n                    // stream that are partially in the dataset\n                    // we need to parse data to filter value outside the dataset\n                    if (!(this._streams[ii].imm_wasLoaded())) {\n                        url = this._streams[ii].imm_get_url();\n                        data = yield this._parent._download(url);\n                        this._streams[ii].imm_parseStream(data);\n                    }\n                    dataRows = yield this._streams[ii].get_dataRows();\n                    if (dataRows.length == 0) {\n                        return yield this.get_progress();\n                    }\n                    tim = streamStartTimeMs;\n                    fitv = Math.round((yield this._streams[ii].get_firstDataSamplesInterval()) * 1000);\n                    itv = Math.round((yield this._streams[ii].get_dataSamplesInterval()) * 1000);\n                    nCols = dataRows[0].length;\n                    minCol = 0;\n                    if (nCols > 2) {\n                        avgCol = 1;\n                    }\n                    else {\n                        avgCol = 0;\n                    }\n                    if (nCols > 2) {\n                        maxCol = 2;\n                    }\n                    else {\n                        maxCol = 0;\n                    }\n                    previewTotalTime = 0;\n                    previewTotalAvg = 0;\n                    previewStartMs = streamEndTimeMs;\n                    previewStopMs = streamStartTimeMs;\n                    previewMinVal = YAPI_MAX_DOUBLE;\n                    previewMaxVal = YAPI_MIN_DOUBLE;\n                    m_pos = 0;\n                    while (m_pos < dataRows.length) {\n                        measure_data = dataRows[m_pos];\n                        if (m_pos == 0) {\n                            mitv = fitv;\n                        }\n                        else {\n                            mitv = itv;\n                        }\n                        end_ = tim + mitv;\n                        if ((end_ > this._startTimeMs) && ((this._endTimeMs == 0) || (tim < this._endTimeMs))) {\n                            minVal = measure_data[minCol];\n                            avgVal = measure_data[avgCol];\n                            maxVal = measure_data[maxCol];\n                            if (previewStartMs > tim) {\n                                previewStartMs = tim;\n                            }\n                            if (previewStopMs < end_) {\n                                previewStopMs = end_;\n                            }\n                            if (previewMinVal > minVal) {\n                                previewMinVal = minVal;\n                            }\n                            if (previewMaxVal < maxVal) {\n                                previewMaxVal = maxVal;\n                            }\n                            if (!(isNaN(avgVal))) {\n                                previewTotalAvg = previewTotalAvg + (avgVal * mitv);\n                                previewTotalTime = previewTotalTime + mitv;\n                            }\n                        }\n                        tim = end_;\n                        m_pos = m_pos + 1;\n                    }\n                    if (previewTotalTime > 0) {\n                        previewAvgVal = previewTotalAvg / previewTotalTime;\n                        previewDuration = (previewStopMs - previewStartMs) / 1000.0;\n                    }\n                    else {\n                        previewAvgVal = 0.0;\n                        previewDuration = 0.0;\n                    }\n                }\n                this._preview.push(new YMeasure(previewStartMs / 1000.0, previewStopMs / 1000.0, previewMinVal, previewAvgVal, previewMaxVal));\n                if (summaryMinVal > previewMinVal) {\n                    summaryMinVal = previewMinVal;\n                }\n                if (summaryMaxVal < previewMaxVal) {\n                    summaryMaxVal = previewMaxVal;\n                }\n                if (summaryStartMs > previewStartMs) {\n                    summaryStartMs = previewStartMs;\n                }\n                if (summaryStopMs < previewStopMs) {\n                    summaryStopMs = previewStopMs;\n                }\n                summaryTotalAvg = summaryTotalAvg + (previewAvgVal * previewDuration);\n                summaryTotalTime = summaryTotalTime + previewDuration;\n            }\n            if ((this._startTimeMs == 0) || (this._startTimeMs > summaryStartMs)) {\n                this._startTimeMs = summaryStartMs;\n            }\n            if ((this._endTimeMs == 0) || (this._endTimeMs < summaryStopMs)) {\n                this._endTimeMs = summaryStopMs;\n            }\n            if (summaryTotalTime > 0) {\n                this._summary = new YMeasure(summaryStartMs / 1000.0, summaryStopMs / 1000.0, summaryMinVal, summaryTotalAvg / summaryTotalTime, summaryMaxVal);\n            }\n            else {\n                this._summary = new YMeasure(0.0, 0.0, YAPI_INVALID_DOUBLE, YAPI_INVALID_DOUBLE, YAPI_INVALID_DOUBLE);\n            }\n            return yield this.get_progress();\n        });\n    }\n    processMore(progress, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let stream;\n            let dataRows = [];\n            let tim;\n            let itv;\n            let fitv;\n            let avgv;\n            let end_;\n            let nCols;\n            let minCol;\n            let avgCol;\n            let maxCol;\n            let firstMeasure;\n            let baseurl;\n            let url;\n            let suffix;\n            let suffixes = [];\n            let idx;\n            let bulkFile;\n            let streamStr = [];\n            let urlIdx;\n            let streamBin;\n            if (progress != this._progress) {\n                return this._progress;\n            }\n            if (this._progress < 0) {\n                return yield this.loadSummary(data);\n            }\n            stream = this._streams[this._progress];\n            if (!(stream.imm_wasLoaded())) {\n                stream.imm_parseStream(data);\n            }\n            dataRows = yield stream.get_dataRows();\n            this._progress = this._progress + 1;\n            if (dataRows.length == 0) {\n                return yield this.get_progress();\n            }\n            tim = Math.round((yield stream.get_realStartTimeUTC()) * 1000);\n            fitv = Math.round((yield stream.get_firstDataSamplesInterval()) * 1000);\n            itv = Math.round((yield stream.get_dataSamplesInterval()) * 1000);\n            if (fitv == 0) {\n                fitv = itv;\n            }\n            if (tim < itv) {\n                tim = itv;\n            }\n            nCols = dataRows[0].length;\n            minCol = 0;\n            if (nCols > 2) {\n                avgCol = 1;\n            }\n            else {\n                avgCol = 0;\n            }\n            if (nCols > 2) {\n                maxCol = 2;\n            }\n            else {\n                maxCol = 0;\n            }\n            firstMeasure = true;\n            for (let ii in dataRows) {\n                if (firstMeasure) {\n                    end_ = tim + fitv;\n                    firstMeasure = false;\n                }\n                else {\n                    end_ = tim + itv;\n                }\n                avgv = dataRows[ii][avgCol];\n                if ((end_ > this._startTimeMs) && ((this._endTimeMs == 0) || (tim < this._endTimeMs)) && !(isNaN(avgv))) {\n                    this._measures.push(new YMeasure(tim / 1000, end_ / 1000, dataRows[ii][minCol], avgv, dataRows[ii][maxCol]));\n                }\n                tim = end_;\n            }\n            // Perform bulk preload to speed-up network transfer\n            if ((this._bulkLoad > 0) && (this._progress < this._streams.length)) {\n                stream = this._streams[this._progress];\n                if (stream.imm_wasLoaded()) {\n                    return yield this.get_progress();\n                }\n                baseurl = stream.imm_get_baseurl();\n                url = stream.imm_get_url();\n                suffix = stream.imm_get_urlsuffix();\n                suffixes.push(suffix);\n                idx = this._progress + 1;\n                while ((idx < this._streams.length) && (suffixes.length < this._bulkLoad)) {\n                    stream = this._streams[idx];\n                    if (!(stream.imm_wasLoaded()) && (stream.imm_get_baseurl() == baseurl)) {\n                        suffix = stream.imm_get_urlsuffix();\n                        suffixes.push(suffix);\n                        url = url + ',' + suffix;\n                    }\n                    idx = idx + 1;\n                }\n                bulkFile = yield this._parent._download(url);\n                streamStr = this._parent.imm_json_get_array(bulkFile);\n                urlIdx = 0;\n                idx = this._progress;\n                while ((idx < this._streams.length) && (urlIdx < suffixes.length)) {\n                    stream = this._streams[idx];\n                    if ((stream.imm_get_baseurl() == baseurl) && (stream.imm_get_urlsuffix() == suffixes[urlIdx])) {\n                        streamBin = this._yapi.imm_str2bin(streamStr[urlIdx]);\n                        stream.imm_parseStream(streamBin);\n                        urlIdx = urlIdx + 1;\n                    }\n                    idx = idx + 1;\n                }\n            }\n            return yield this.get_progress();\n        });\n    }\n    get_privateDataStreams() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._streams;\n        });\n    }\n    /**\n     * Returns the unique hardware identifier of the function who performed the measures,\n     * in the form SERIAL.FUNCTIONID. The unique hardware identifier is composed of the\n     * device serial number and of the hardware identifier of the function\n     * (for example THRMCPL1-123456.temperature1)\n     *\n     * @return a string that uniquely identifies the function (ex: THRMCPL1-123456.temperature1)\n     *\n     * On failure, throws an exception or returns  YDataSet.HARDWAREID_INVALID.\n     */\n    get_hardwareId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let mo;\n            if (!(this._hardwareId == '')) {\n                return this._hardwareId;\n            }\n            mo = yield this._parent.get_module();\n            this._hardwareId = (yield mo.get_serialNumber()) + '.' + (yield this.get_functionId());\n            return this._hardwareId;\n        });\n    }\n    /**\n     * Returns the hardware identifier of the function that performed the measure,\n     * without reference to the module. For example temperature1.\n     *\n     * @return a string that identifies the function (ex: temperature1)\n     */\n    get_functionId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._functionId;\n        });\n    }\n    /**\n     * Returns the measuring unit for the measured value.\n     *\n     * @return a string that represents a physical unit.\n     *\n     * On failure, throws an exception or returns  YDataSet.UNIT_INVALID.\n     */\n    get_unit() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._unit;\n        });\n    }\n    /**\n     * Returns the start time of the dataset, relative to the Jan 1, 1970.\n     * When the YDataSet object is created, the start time is the value passed\n     * in parameter to the get_dataSet() function. After the\n     * very first call to loadMore(), the start time is updated\n     * to reflect the timestamp of the first measure actually found in the\n     * dataLogger within the specified range.\n     *\n     * <b>DEPRECATED</b>: This method has been replaced by get_summary()\n     * which contain more precise informations.\n     *\n     * @return an unsigned number corresponding to the number of seconds\n     *         between the Jan 1, 1970 and the beginning of this data\n     *         set (i.e. Unix time representation of the absolute time).\n     */\n    get_startTimeUTC() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.imm_get_startTimeUTC();\n        });\n    }\n    imm_get_startTimeUTC() {\n        return (this._startTimeMs / 1000.0);\n    }\n    /**\n     * Returns the end time of the dataset, relative to the Jan 1, 1970.\n     * When the YDataSet object is created, the end time is the value passed\n     * in parameter to the get_dataSet() function. After the\n     * very first call to loadMore(), the end time is updated\n     * to reflect the timestamp of the last measure actually found in the\n     * dataLogger within the specified range.\n     *\n     * <b>DEPRECATED</b>: This method has been replaced by get_summary()\n     * which contain more precise informations.\n     *\n     * @return an unsigned number corresponding to the number of seconds\n     *         between the Jan 1, 1970 and the end of this data\n     *         set (i.e. Unix time representation of the absolute time).\n     */\n    get_endTimeUTC() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.imm_get_endTimeUTC();\n        });\n    }\n    imm_get_endTimeUTC() {\n        return Math.round(this._endTimeMs / 1000.0);\n    }\n    /**\n     * Returns the progress of the downloads of the measures from the data logger,\n     * on a scale from 0 to 100. When the object is instantiated by get_dataSet,\n     * the progress is zero. Each time loadMore() is invoked, the progress\n     * is updated, to reach the value 100 only once all measures have been loaded.\n     *\n     * @return an integer in the range 0 to 100 (percentage of completion).\n     */\n    get_progress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._progress < 0) {\n                return 0;\n            }\n            // index not yet loaded\n            if (this._progress >= this._streams.length) {\n                return 100;\n            }\n            return (((1 + (1 + this._progress) * 98) / ((1 + this._streams.length))) >> 0);\n        });\n    }\n    /**\n     * Loads the the next block of measures from the dataLogger, and updates\n     * the progress indicator.\n     *\n     * @return an integer in the range 0 to 100 (percentage of completion),\n     *         or a negative error code in case of failure.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    loadMore() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let url;\n            let stream;\n            if (this._progress < 0) {\n                url = 'logger.json?id=' + this._functionId;\n                if (this._startTimeMs != 0) {\n                    url = url + '&from=' + String(Math.round(this.imm_get_startTimeUTC()));\n                }\n                if (this._endTimeMs != 0) {\n                    url = url + '&to=' + String(Math.round(this.imm_get_endTimeUTC() + 1));\n                }\n            }\n            else {\n                if (this._progress >= this._streams.length) {\n                    return 100;\n                }\n                else {\n                    stream = this._streams[this._progress];\n                    if (stream.imm_wasLoaded()) {\n                        // Do not reload stream if it was already loaded\n                        return yield this.processMore(this._progress, this._yapi.imm_str2bin(''));\n                    }\n                    url = stream.imm_get_url();\n                }\n            }\n            try {\n                return yield this.processMore(this._progress, yield this._parent._download(url));\n            }\n            catch (e) {\n                return yield this.processMore(this._progress, yield this._parent._download(url));\n            }\n        });\n    }\n    /**\n     * Returns an YMeasure object which summarizes the whole\n     * YDataSet. In includes the following information:\n     * - the start of a time interval\n     * - the end of a time interval\n     * - the minimal value observed during the time interval\n     * - the average value observed during the time interval\n     * - the maximal value observed during the time interval\n     *\n     * This summary is available as soon as loadMore() has\n     * been called for the first time.\n     *\n     * @return an YMeasure object\n     */\n    get_summary() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._summary;\n        });\n    }\n    /**\n     * Returns a condensed version of the measures that can\n     * retrieved in this YDataSet, as a list of YMeasure\n     * objects. Each item includes:\n     * - the start of a time interval\n     * - the end of a time interval\n     * - the minimal value observed during the time interval\n     * - the average value observed during the time interval\n     * - the maximal value observed during the time interval\n     *\n     * This preview is available as soon as loadMore() has\n     * been called for the first time.\n     *\n     * @return a table of records, where each record depicts the\n     *         measured values during a time interval\n     *\n     * On failure, throws an exception or returns an empty array.\n     */\n    get_preview() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._preview;\n        });\n    }\n    /**\n     * Returns the detailed set of measures for the time interval corresponding\n     * to a given condensed measures previously returned by get_preview().\n     * The result is provided as a list of YMeasure objects.\n     *\n     * @param measure : condensed measure from the list previously returned by\n     *         get_preview().\n     *\n     * @return a table of records, where each record depicts the\n     *         measured values during a time interval\n     *\n     * On failure, throws an exception or returns an empty array.\n     */\n    get_measuresAt(measure) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let startUtcMs;\n            let stream;\n            let dataRows = [];\n            let measures = [];\n            let tim;\n            let itv;\n            let end_;\n            let nCols;\n            let minCol;\n            let avgCol;\n            let maxCol;\n            startUtcMs = measure.get_startTimeUTC() * 1000;\n            stream = null;\n            for (let ii in this._streams) {\n                if (Math.round((yield this._streams[ii].get_realStartTimeUTC()) * 1000) == startUtcMs) {\n                    stream = this._streams[ii];\n                }\n            }\n            if (stream == null) {\n                return measures;\n            }\n            dataRows = yield stream.get_dataRows();\n            if (dataRows.length == 0) {\n                return measures;\n            }\n            tim = Math.round((yield stream.get_realStartTimeUTC()) * 1000);\n            itv = Math.round((yield stream.get_dataSamplesInterval()) * 1000);\n            if (tim < itv) {\n                tim = itv;\n            }\n            nCols = dataRows[0].length;\n            minCol = 0;\n            if (nCols > 2) {\n                avgCol = 1;\n            }\n            else {\n                avgCol = 0;\n            }\n            if (nCols > 2) {\n                maxCol = 2;\n            }\n            else {\n                maxCol = 0;\n            }\n            for (let ii in dataRows) {\n                end_ = tim + itv;\n                if ((end_ > this._startTimeMs) && ((this._endTimeMs == 0) || (tim < this._endTimeMs))) {\n                    measures.push(new YMeasure(tim / 1000.0, end_ / 1000.0, dataRows[ii][minCol], dataRows[ii][avgCol], dataRows[ii][maxCol]));\n                }\n                tim = end_;\n            }\n            return measures;\n        });\n    }\n    /**\n     * Returns all measured values currently available for this DataSet,\n     * as a list of YMeasure objects. Each item includes:\n     * - the start of the measure time interval\n     * - the end of the measure time interval\n     * - the minimal value observed during the time interval\n     * - the average value observed during the time interval\n     * - the maximal value observed during the time interval\n     *\n     * Before calling this method, you should call loadMore()\n     * to load data from the device. You may have to call loadMore()\n     * several time until all rows are loaded, but you can start\n     * looking at available data rows before the load is complete.\n     *\n     * The oldest measures are always loaded first, and the most\n     * recent measures will be loaded last. As a result, timestamps\n     * are normally sorted in ascending order within the measure table,\n     * unless there was an unexpected adjustment of the datalogger UTC\n     * clock.\n     *\n     * @return a table of records, where each record depicts the\n     *         measured value for a given time interval\n     *\n     * On failure, throws an exception or returns an empty array.\n     */\n    get_measures() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._measures;\n        });\n    }\n    //--- (end of generated code: YDataSet implementation)\n    // YDataSet parser for stream list\n    _parse(str_json) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let loadval = null;\n            try {\n                loadval = JSON.parse(str_json);\n            }\n            catch (err) { }\n            if (!loadval) {\n                // no data available\n                this._progress = 0;\n                return yield this.get_progress();\n            }\n            this._functionId = loadval.id;\n            this._unit = loadval.unit;\n            this._bulkLoad = (loadval.bulk ? parseInt(loadval.bulk) : 0);\n            if (loadval.calib) {\n                this._calib = this._yapi.imm_decodeFloats(loadval.calib);\n                this._calib[0] = (this._calib[0] / 1000) >> 0;\n            }\n            else {\n                this._calib = this._yapi.imm_decodeWords(loadval.cal);\n            }\n            this._summary = new YMeasure(0, 0, 0, 0, 0);\n            this._streams = [];\n            this._preview = [];\n            this._measures = [];\n            for (let i = 0; i < loadval.streams.length; i++) {\n                let stream = this._parent.imm_findDataStream(this, loadval.streams[i]);\n                if (!stream)\n                    continue;\n                let streamStartTime = (yield stream.get_realStartTimeUTC()) * 1000;\n                let streamEndTime = streamStartTime + (yield stream.get_realDuration()) * 1000;\n                if (this._startTimeMs > 0 && streamEndTime <= this._startTimeMs) {\n                    // this stream is too early, drop it\n                }\n                else if (this._endTimeMs > 0 && streamStartTime >= this._endTimeMs) {\n                    // this stream is too late, drop it\n                }\n                else {\n                    this._streams.push(stream);\n                }\n            }\n            this._progress = 0;\n            return this.get_progress();\n        });\n    }\n}\nYDataSet.DATA_INVALID = YAPI_INVALID_DOUBLE;\nYDataSet.DURATION_INVALID = YAPI_INVALID_DOUBLE;\nYDataSet.HARDWAREID_INVALID = YAPI_INVALID_STRING;\nYDataSet.FUNCTIONID_INVALID = YAPI_INVALID_STRING;\nYDataSet.UNIT_INVALID = YAPI_INVALID_STRING;\nYDataSet.DATA_INVALID = YAPI_INVALID_DOUBLE;\nYDataSet.DURATION_INVALID = YAPI_INVALID_DOUBLE;\nYDataSet.HARDWAREID_INVALID = YAPI_INVALID_STRING;\nYDataSet.FUNCTIONID_INVALID = YAPI_INVALID_STRING;\nYDataSet.UNIT_INVALID = YAPI_INVALID_STRING;\n//--- (generated code: YConsolidatedDataSet definitions)\n//--- (end of generated code: YConsolidatedDataSet definitions)\n//--- (generated code: YConsolidatedDataSet class start)\n/**\n * YConsolidatedDataSet Class: Cross-sensor consolidated data sequence.\n *\n * YConsolidatedDataSet objects make it possible to retrieve a set of\n * recorded measures from multiple sensors, for a specified time interval.\n * They can be used to load data points progressively, and to receive\n * data records by timestamp, one by one..\n */\n//--- (end of generated code: YConsolidatedDataSet class start)\nexport class YConsolidatedDataSet {\n    // API symbols as static members\n    //--- (end of generated code: YConsolidatedDataSet attributes declaration)\n    constructor(double_startTime, double_endTime, obj_sensorList) {\n        //--- (generated code: YConsolidatedDataSet attributes declaration)\n        this._start = 0;\n        this._end = 0;\n        this._nsensors = 0;\n        this._sensors = [];\n        this._datasets = [];\n        this._progresss = [];\n        this._nextidx = [];\n        this._nexttim = [];\n        //--- (generated code: YConsolidatedDataSet constructor)\n        //--- (end of generated code: YConsolidatedDataSet constructor)\n        this.imm_init(double_startTime, double_endTime, obj_sensorList);\n    }\n    //--- (generated code: YConsolidatedDataSet implementation)\n    imm_init(startt, endt, sensorList) {\n        this._start = startt;\n        this._end = endt;\n        this._sensors = sensorList;\n        this._nsensors = -1;\n        return YAPI_SUCCESS;\n    }\n    /**\n     * Returns an object holding historical data for multiple\n     * sensors, for a specified time interval.\n     * The measures will be retrieved from the data logger, which must have been turned\n     * on at the desired time. The resulting object makes it possible to load progressively\n     * a large set of measures from multiple sensors, consolidating data on the fly\n     * to align records based on measurement timestamps.\n     *\n     * @param sensorNames : array of logical names or hardware identifiers of the sensors\n     *         for which data must be loaded from their data logger.\n     * @param startTime : the start of the desired measure time interval,\n     *         as a Unix timestamp, i.e. the number of seconds since\n     *         January 1, 1970 UTC. The special value 0 can be used\n     *         to include any measure, without initial limit.\n     * @param endTime : the end of the desired measure time interval,\n     *         as a Unix timestamp, i.e. the number of seconds since\n     *         January 1, 1970 UTC. The special value 0 can be used\n     *         to include any measure, without ending limit.\n     *\n     * @return an instance of YConsolidatedDataSet, providing access to\n     *         consolidated historical data. Records can be loaded progressively\n     *         using the YConsolidatedDataSet.nextRecord() method.\n     */\n    static Init(sensorNames, startTime, endTime) {\n        let nSensors;\n        let sensorList = [];\n        let idx;\n        let sensorName;\n        let s;\n        let obj;\n        nSensors = sensorNames.length;\n        sensorList.length = 0;\n        idx = 0;\n        while (idx < nSensors) {\n            sensorName = sensorNames[idx];\n            s = YSensor.FindSensor(sensorName);\n            sensorList.push(s);\n            idx = idx + 1;\n        }\n        obj = new YConsolidatedDataSet(startTime, endTime, sensorList);\n        return obj;\n    }\n    /**\n     * Extracts the next data record from the data logger of all sensors linked to this\n     * object.\n     *\n     * @param datarec : array of floating point numbers, that will be filled by the\n     *         function with the timestamp of the measure in first position,\n     *         followed by the measured value in next positions.\n     *\n     * @return an integer in the range 0 to 100 (percentage of completion),\n     *         or a negative error code in case of failure.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    nextRecord(datarec) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let s;\n            let idx;\n            let sensor;\n            let newdataset;\n            let globprogress;\n            let currprogress;\n            let currnexttim;\n            let newvalue;\n            let measures = [];\n            let nexttime;\n            //\n            // Ensure the dataset have been retrieved\n            //\n            if (this._nsensors == -1) {\n                this._nsensors = this._sensors.length;\n                this._datasets.length = 0;\n                this._progresss.length = 0;\n                this._nextidx.length = 0;\n                this._nexttim.length = 0;\n                s = 0;\n                while (s < this._nsensors) {\n                    sensor = this._sensors[s];\n                    newdataset = yield sensor.get_recordedData(this._start, this._end);\n                    this._datasets.push(newdataset);\n                    this._progresss.push(0);\n                    this._nextidx.push(0);\n                    this._nexttim.push(0.0);\n                    s = s + 1;\n                }\n            }\n            datarec.length = 0;\n            //\n            // Find next timestamp to process\n            //\n            nexttime = 0;\n            s = 0;\n            while (s < this._nsensors) {\n                currnexttim = this._nexttim[s];\n                if (currnexttim == 0) {\n                    idx = this._nextidx[s];\n                    measures = yield this._datasets[s].get_measures();\n                    currprogress = this._progresss[s];\n                    while ((idx >= measures.length) && (currprogress < 100)) {\n                        currprogress = yield this._datasets[s].loadMore();\n                        if (currprogress < 0) {\n                            currprogress = 100;\n                        }\n                        this._progresss[s] = currprogress;\n                        measures = yield this._datasets[s].get_measures();\n                    }\n                    if (idx < measures.length) {\n                        currnexttim = yield measures[idx].get_endTimeUTC();\n                        this._nexttim[s] = currnexttim;\n                    }\n                }\n                if (currnexttim > 0) {\n                    if ((nexttime == 0) || (nexttime > currnexttim)) {\n                        nexttime = currnexttim;\n                    }\n                }\n                s = s + 1;\n            }\n            if (nexttime == 0) {\n                return 100;\n            }\n            //\n            // Extract data for this timestamp\n            //\n            datarec.length = 0;\n            datarec.push(nexttime);\n            globprogress = 0;\n            s = 0;\n            while (s < this._nsensors) {\n                if (this._nexttim[s] == nexttime) {\n                    idx = this._nextidx[s];\n                    measures = yield this._datasets[s].get_measures();\n                    newvalue = yield measures[idx].get_averageValue();\n                    datarec.push(newvalue);\n                    this._nexttim[s] = 0.0;\n                    this._nextidx[s] = idx + 1;\n                }\n                else {\n                    datarec.push(NaN);\n                }\n                currprogress = this._progresss[s];\n                globprogress = globprogress + currprogress;\n                s = s + 1;\n            }\n            if (globprogress > 0) {\n                globprogress = (((globprogress) / (this._nsensors)) >> 0);\n                if (globprogress > 99) {\n                    globprogress = 99;\n                }\n            }\n            return globprogress;\n        });\n    }\n}\n//\n// YDevice Class (used internally)\n//\n// This class is used to store everything we know about connected Yocto-Devices.\n// Instances are created when devices are discovered in the white pages\n// (or registered manually, for root hubs) and then used to keep track of\n// device naming changes. When a device or a function is renamed, this\n// object forces the local indexes to be immediately updated, even if not\n// yet fully propagated through the yellow pages of the device hub.\n//\n// In order to regroup multiple function queries on the same physical device,\n// this class implements a device-wide API string cache (agnostic of API content).\n// This is in addition to the function-specific cache implemented in YFunction.\n//\nclass YDevice {\n    // Device constructor. Automatically call the YAPI functin to reindex device\n    constructor(obj_yapi, str_rooturl, obj_wpRec, obj_ypRecs) {\n        // private attributes\n        this._yapi = obj_yapi;\n        this._rootUrl = str_rooturl;\n        this._serialNumber = '';\n        this._logicalName = '';\n        this._productName = '';\n        this._productId = 0;\n        this._beacon = 0;\n        this._devYdx = -1;\n        this._lastErrorType = YAPI_SUCCESS;\n        this._lastErrorMsg = 'no error';\n        this._cache = { _expiration: 0, _json: new Uint8Array(0), _precooked: {} };\n        this._functions = [];\n        this._busy = 0;\n        this._pendingQueries = Promise.resolve();\n        this._lastTimeRef = 0;\n        this._lastDuration = 0;\n        this._logCallback = null;\n        this._logIsPulling = false;\n        this._logpos = 0;\n        if (obj_wpRec && obj_ypRecs) {\n            // preload values from white pages, if provided\n            this._serialNumber = obj_wpRec.serialNumber;\n            this._logicalName = obj_wpRec.logicalName;\n            this._productName = obj_wpRec.productName;\n            this._productId = obj_wpRec.productId;\n            this._beacon = obj_wpRec.beacon;\n            this._devYdx = (obj_wpRec.index == undefined ? -1 : obj_wpRec.index);\n            this.imm_updateFromYP(obj_ypRecs);\n            this._yapi.imm_reindexDevice(this);\n        }\n        // when obj_wpRec is not provided, caller MUST\n        // call async method refresh()\n    }\n    _throw(int_errType, str_errMsg, obj_retVal) {\n        this._lastErrorType = int_errType;\n        this._lastErrorMsg = str_errMsg;\n        return this._yapi._throw(int_errType, str_errMsg, obj_retVal);\n    }\n    /** Return the root URL used to access a device (including the trailing slash)\n     *\n     * @returns {string}\n     */\n    imm_getRootUrl() {\n        return this._rootUrl;\n    }\n    /** Return the serial number of the device, as found during discovery\n     *\n     * @returns {string}\n     */\n    imm_getSerialNumber() {\n        return this._serialNumber;\n    }\n    /** Return the logical name of the device, as found during discovery\n     *\n     * @returns {string}\n     */\n    imm_getLogicalName() {\n        return this._logicalName;\n    }\n    getLogicalName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cache._expiration == 0) {\n                yield this.refresh();\n            }\n            return this._logicalName;\n        });\n    }\n    /** Return the product name of the device, as found during discovery\n     *\n     * @returns {string}\n     */\n    imm_getProductName() {\n        return this._productName;\n    }\n    /** Return the product Id of the device, as found during discovery\n     *\n     * @returns {number}\n     */\n    imm_getProductId() {\n        return this._productId;\n    }\n    /** Return the beacon state of the device, as found during discovery\n     *\n     * @returns {number}\n     */\n    imm_getBeacon() {\n        return this._beacon;\n    }\n    /** Return the beacon state of the device, as found during discovery\n     *\n     * @returns {number}\n     */\n    getBeacon() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cache._expiration == 0) {\n                yield this.refresh();\n            }\n            return this._beacon;\n        });\n    }\n    // Return the value of the last timestamp sent by the device, if any\n    imm_getLastTimeRef() {\n        return this._lastTimeRef;\n    }\n    // Return the value of the last duration sent by the device, if any\n    imm_getLastDuration() {\n        return this._lastDuration;\n    }\n    imm_triggerLogPull() {\n        if (this._logCallback == null || this._logIsPulling) {\n            return;\n        }\n        this._logIsPulling = true;\n        let request = \"GET logs.txt?pos=\" + this._logpos;\n        let prom = this._yapi.devRequest(this._rootUrl, request, null, 0);\n        prom.then((yreq) => __awaiter(this, void 0, void 0, function* () {\n            if (yreq.errorType != YAPI_SUCCESS) {\n                this._logIsPulling = false;\n                return;\n            }\n            if (this._logCallback == null) {\n                this._logIsPulling = false;\n                return;\n            }\n            let resultStr = YAPI.imm_bin2str(yreq.bin_result);\n            let pos = resultStr.lastIndexOf(\"\\n@\");\n            if (pos < 0) {\n                this._logIsPulling = false;\n                return;\n            }\n            let logs = resultStr.substring(0, pos);\n            let posStr = resultStr.substring(pos + 2);\n            this._logpos = parseInt(posStr);\n            let module = YModule.FindModuleInContext(this._yapi, this._serialNumber);\n            let lines = logs.trim().split(\"\\n\");\n            try {\n                for (let i = 0; i < lines.length; i++) {\n                    yield this._logCallback(module, lines[i]);\n                }\n            }\n            catch (e) {\n                this._yapi.imm_log('Exception in device log callback:', e);\n            }\n            this._logIsPulling = false;\n        }));\n    }\n    imm_registerLogCallback(callback) {\n        this._logCallback = callback;\n        if (callback != null) {\n            this.imm_triggerLogPull();\n        }\n    }\n    /** Return the value of the last timestamp sent by the device, if any\n     *\n     * @param float_timestamp {number}\n     * @param float_duration {number}\n     */\n    imm_setTimeRef(float_timestamp, float_duration) {\n        this._lastTimeRef = float_timestamp;\n        this._lastDuration = float_duration;\n    }\n    /** Return the hub-specific devYdx of the device, as found during discovery\n     *\n     * @returns {number}\n     */\n    imm_getDevYdx() {\n        return this._devYdx;\n    }\n    /** Return a string that describes the device (serial number, logical name or root URL)\n     *\n     * @returns {string}\n     */\n    imm_describe() {\n        let res = this._rootUrl;\n        if (this._serialNumber != '') {\n            res = this._serialNumber;\n            if (this._logicalName != '') {\n                res = res + ' (' + this._logicalName + ')';\n            }\n        }\n        return this._productName + ' ' + res;\n    }\n    /** Update device cache and YAPI function lists from yp records\n     *\n     * @param obj_ypRecs {object}\n     */\n    imm_updateFromYP(obj_ypRecs) {\n        let funidx = 0;\n        for (let categ in obj_ypRecs) {\n            for (let key in obj_ypRecs[categ]) {\n                // @ts-ignore\n                let rec = obj_ypRecs[categ][key];\n                let hwid = rec['hardwareId'];\n                let dotpos = hwid.indexOf('.');\n                if (hwid.substr(0, dotpos) == this._serialNumber) {\n                    let funydx = rec['index'];\n                    if (funydx == undefined)\n                        funydx = funidx;\n                    this._functions[funydx] = [hwid.substr(dotpos + 1), rec['logicalName']];\n                    funidx++;\n                }\n            }\n        }\n    }\n    /** Update device cache and YAPI function lists accordingly\n     *\n     * @param yreq {YHTTPRequest}\n     * @param loadval {object}\n     */\n    updateFromReq(yreq, loadval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._cache._expiration = this._yapi.GetTickCount() + this._yapi.defaultCacheValidity;\n            this._cache._json = yreq.bin_result;\n            let func;\n            let reindex = false;\n            if (this._productName == '') {\n                // parse module and function names for the first time\n                for (func in loadval) {\n                    if (func == 'module') {\n                        this._serialNumber = loadval.module.serialNumber;\n                        this._logicalName = loadval.module.logicalName;\n                        this._productName = loadval.module.productName;\n                        this._productId = loadval.module.productId;\n                        this._beacon = loadval.module.beacon;\n                    }\n                    else if (func == 'services') {\n                        this.imm_updateFromYP(loadval.services.yellowPages);\n                    }\n                }\n                reindex = true;\n            }\n            else {\n                // parse module and refresh names if needed\n                let renamed = false;\n                for (func in loadval) {\n                    if (func == 'module') {\n                        if (this._logicalName != loadval.module.logicalName) {\n                            this._logicalName = loadval.module.logicalName;\n                            reindex = true;\n                        }\n                        this._beacon = loadval.module.beacon;\n                    }\n                    else if (func != 'services') {\n                        // @ts-ignore\n                        let name = loadval[func]['logicalName'];\n                        if (name == undefined)\n                            name = loadval.module.logicalName;\n                        // @ts-ignore\n                        let pubval = loadval[func]['advertisedValue'];\n                        if (pubval != undefined) {\n                            yield this._yapi.setFunctionValue(loadval.module.serialNumber + '.' + func, pubval);\n                        }\n                        let funydx;\n                        for (funydx in this._functions) {\n                            if (this._functions[funydx][0] == func) {\n                                if (this._functions[funydx][1] != name) {\n                                    this._functions[funydx][1] = name;\n                                    reindex = true;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            if (reindex) {\n                this._yapi.imm_reindexDevice(this);\n            }\n        });\n    }\n    // Force the REST API string in cache to expire immediately\n    imm_dropCache() {\n        this._cache._expiration = 0;\n        this._cache._precooked = {};\n    }\n    /** Retrieve the number of functions (beside \"module\") in the device\n     *\n     * @returns {number}\n     */\n    imm_functionCount() {\n        let funcPos = 0;\n        for (let key in this._functions) {\n            funcPos++;\n        }\n        return funcPos;\n    }\n    /** Retrieve the Id of the nth function (beside \"module\") in the device\n     *\n     * @param int_idx {number}\n     * @returns {string}\n     */\n    imm_functionId(int_idx) {\n        let funcPos = 0;\n        for (let key in this._functions) {\n            if (int_idx === funcPos) {\n                return this._functions[key][0];\n            }\n            funcPos++;\n        }\n        return '';\n    }\n    /** Retrieve the base type of the nth function (beside \"module\") in the device\n     *\n     * @param int_idx {number}\n     * @returns {string}\n     */\n    imm_functionBaseType(int_idx) {\n        let funid = this.imm_functionId(int_idx);\n        if (funid !== '') {\n            let ftype = this._yapi.imm_getFunctionBaseType(this._serialNumber + '.' + funid);\n            for (let baseType in Y_BASETYPES) {\n                // @ts-ignore\n                if (Y_BASETYPES[baseType] === ftype) {\n                    return baseType;\n                }\n            }\n        }\n        return 'Function';\n    }\n    /** Retrieve the type of the nth function (beside 'module') in the device\n     *\n     * @param int_idx {number}\n     * @returns {string}\n     */\n    imm_functionType(int_idx) {\n        let funid = this.imm_functionId(int_idx);\n        if (funid !== '') {\n            let i;\n            for (i = funid.length; i > 0; i--) {\n                if (funid[i - 1] > '9') {\n                    break;\n                }\n            }\n            let functionType = funid[0].toUpperCase() + funid.substr(1, i - 1);\n            return functionType;\n        }\n        return '';\n    }\n    /** Retrieve the logical name of the nth function (beside \"module\") in the device\n     *\n     * @param int_idx {number}\n     * @returns {string}\n     */\n    imm_functionName(int_idx) {\n        let funcPos = 0;\n        for (let key in this._functions) {\n            if (int_idx === funcPos) {\n                return this._functions[key][1];\n            }\n            funcPos++;\n        }\n        return '';\n    }\n    /** Retrieve the advertised value of the nth function (beside \"module\") in the device\n     *\n     * @param int_idx {number}\n     * @returns {string}\n     */\n    imm_functionValue(int_idx) {\n        let funid = this.imm_functionId(int_idx);\n        if (funid !== '') {\n            return this._yapi.imm_getFunctionValue(this._serialNumber + '.' + funid);\n        }\n        return '';\n    }\n    /** Retrieve the Id of a function given its funydx (internal function identifier index)\n     *\n     * @param int_funydx {number}\n     * @returns {string}\n     */\n    imm_functionIdByFunYdx(int_funydx) {\n        if (this._functions[int_funydx]) {\n            return this._functions[int_funydx][0];\n        }\n        return '';\n    }\n    /** Map an optimized JZON reply to a previously known JSON structure\n     *\n     * @param jzon {object}\n     * @param json {object}\n     * @returns {object}\n     */\n    imm_jzon2json(jzon, json) {\n        if (Array.isArray(jzon)) {\n            let sz = jzon.length;\n            if (Array.isArray(json)) {\n                // Array in both sides\n                let defval = (json.length > 0 ? json[0] : null);\n                let res = [];\n                for (let idx = 0; idx < sz; idx++) {\n                    res[idx] = this.imm_jzon2json(jzon[idx], defval);\n                }\n                return res;\n            }\n            else if (typeof json === \"object\") {\n                // Typical optimization case: array in jzon, struct in json\n                let idx = 0;\n                let res = {};\n                for (let key in json) {\n                    if (json.hasOwnProperty(key)) {\n                        // @ts-ignore\n                        res[key] = this.imm_jzon2json(jzon[idx], json[key]);\n                        idx++;\n                    }\n                }\n                return res;\n            }\n            else {\n                return jzon;\n            }\n        }\n        else if (typeof jzon === \"object\") {\n            if (Array.isArray(json)) {\n                return jzon;\n            }\n            else if (typeof json === \"object\") {\n                let defval = null;\n                for (let key in json) {\n                    if (json.hasOwnProperty(key)) {\n                        // @ts-ignore\n                        defval = json[key];\n                        break;\n                    }\n                }\n                let res = {};\n                for (let key in jzon) {\n                    if (jzon.hasOwnProperty(key)) {\n                        // @ts-ignore\n                        if (json.hasOwnProperty(key) && (!Array.isArray(json[key]) || json[key].length > 0)) {\n                            // @ts-ignore\n                            res[key] = this.imm_jzon2json(jzon[key], json[key]);\n                        }\n                        else {\n                            // @ts-ignore\n                            res[key] = this.imm_jzon2json(jzon[key], defval);\n                        }\n                    }\n                }\n                return res;\n            }\n            else {\n                return jzon;\n            }\n        }\n        // Keep atomic JZON value as is\n        return jzon;\n    }\n    /** Get the whole REST API string for a device, from cache if possible\n     *\n     * @param int_msValidity {number}\n     * @returns {YHTTPRequest}\n     */\n    requestAPI(int_msValidity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cache._expiration > this._yapi.GetTickCount()) {\n                let res = new YHTTPRequest(this._cache._json);\n                res.obj_result = JSON.parse(JSON.stringify(this._cache._precooked));\n                return res;\n            }\n            /** @type {YHTTPRequest} **/\n            let req = 'GET /api.json';\n            let precooked = this._cache._precooked;\n            // @ts-ignore\n            if (precooked.module && precooked.module.firmwareRelease) {\n                // @ts-ignore\n                req += '?fw=' + encodeURIComponent(precooked.module.firmwareRelease);\n            }\n            let yreq = yield this._yapi.devRequest(this._rootUrl, req, null, 0);\n            if (yreq.errorType != YAPI_SUCCESS)\n                return yreq;\n            if (!int_msValidity) {\n                int_msValidity = this._yapi.defaultCacheValidity;\n            }\n            this._cache._json = yreq.bin_result;\n            try {\n                yreq.obj_result = JSON.parse(this._yapi.imm_bin2str(yreq.bin_result));\n                if (Array.isArray(yreq.obj_result)) {\n                    // @ts-ignore\n                    if (precooked.module) {\n                        let objres = this.imm_jzon2json(yreq.obj_result, precooked);\n                        yreq.obj_result = objres;\n                        if (objres.module &&\n                            objres.module.serialNumber === objres.module.serialNumber &&\n                            objres.module.firmwareRelease === objres.module.firmwareRelease) {\n                            // Update text form for backward-compatibility (incl. save settings)\n                            let jsonstr = JSON.stringify(yreq.obj_result);\n                            this._cache._json = yreq.bin_result = this._yapi.imm_str2bin(jsonstr);\n                            // Update precooked version in cache with a deep copy of the result\n                            this._cache._precooked = JSON.parse(jsonstr);\n                        }\n                        else {\n                            // parse mismatch\n                            this.imm_dropCache();\n                            yreq.errorType = YAPI_IO_ERROR;\n                            yreq.errorMsg = 'Request failed, could not parse API JZON result for ' + this._rootUrl;\n                        }\n                    }\n                    else {\n                        yreq.errorType = YAPI_IO_ERROR;\n                        yreq.errorMsg = 'Request failed, could not parse API array result for ' + this._rootUrl;\n                    }\n                }\n                else if (yreq.obj_result.module && yreq.obj_result.module.firmwareRelease) {\n                    // Store current structure in cache (deep copy)\n                    this._cache._precooked = JSON.parse(JSON.stringify(yreq.obj_result));\n                }\n                // refresh cache\n                this._cache._expiration = this._yapi.GetTickCount() + int_msValidity;\n                this._logicalName = yreq.obj_result.module.logicalName;\n                this._beacon = yreq.obj_result.module.beacon;\n            }\n            catch (err) {\n                yreq.errorType = YAPI_IO_ERROR;\n                yreq.errorMsg = 'Request failed, could not parse API JSON result for ' + this._rootUrl;\n            }\n            return yreq;\n        });\n    }\n    /** Reload a device API (store in cache), and update YAPI function lists accordingly\n     *\n     * @returns {number}\n     */\n    refresh() {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YHTTPRequest} **/\n            let yreq = yield this.requestAPI(this._yapi.defaultCacheValidity);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            yield this.updateFromReq(yreq, yreq.obj_result);\n            return YAPI_SUCCESS;\n        });\n    }\n}\n/**\n * YFirmwareFile Class: Object describing a loaded firmware file\n */\nexport class YFirmwareFile {\n    constructor(path, serial, pictype, product, firmware, prog_version, ROM_nb_zone, FLA_nb_zone, ROM_total_size, FLA_total_size, data, zone_ofs) {\n        this._path = path;\n        this._serial = serial;\n        this._pictype = pictype;\n        this._product = product;\n        this._firmware = firmware;\n        this._prog_version = prog_version;\n        this._ROM_nb_zone = ROM_nb_zone;\n        this._FLA_nb_zone = FLA_nb_zone;\n        this._ROM_total_size = ROM_total_size;\n        this._FLA_total_size = FLA_total_size;\n        this._data = data;\n        this._zone_ofs = zone_ofs;\n    }\n    /**\n     * Parse the binary buffer provided as input and initialize a new object\n     * returns null if the file is not a valid firmware\n     *\n     * @param path {string}\n     * @param data {Uint8Array}\n     * @param force {boolean}\n     * @return {YFirmwareFile|null}\n     */\n    static imm_Parse(path, data, force) {\n        const BYN_REV_V4 = 4;\n        const BYN_REV_V5 = 5;\n        const BYN_REV_V6 = 6;\n        const MAX_ROM_ZONES_PER_FILES = 16;\n        const MAX_FLASH_ZONES_PER_FILES = 4;\n        const BYN_HEAD_SIZE_V4 = (96 + 8);\n        const BYN_HEAD_SIZE_V5 = (96 + 32);\n        const BYN_HEAD_SIZE_V6 = (96 + 48);\n        const BYN_MD5_OFS_V6 = (96 + 16);\n        let pos = 0;\n        let getShort = (() => {\n            let res = data[pos] + (data[pos + 1] << 8);\n            pos += 2;\n            return res;\n        });\n        let getInt = (() => {\n            let res = data[pos] + (data[pos + 1] << 8) + (data[pos + 2] << 16) + (data[pos + 3] << 24);\n            pos += 4;\n            return res;\n        });\n        let getString = ((maxlen) => {\n            let end = pos + maxlen;\n            while (end > pos && data[end - 1] == 0)\n                end--;\n            let res = YAPI.imm_bin2str(data.subarray(pos, end));\n            pos += maxlen;\n            return res;\n        });\n        let sign = getString(4);\n        if (sign != 'BYN')\n            return null;\n        let rev = getShort();\n        let serial = getString(20);\n        let pictype = getString(20);\n        let product = getString(28);\n        let firmware = getString(22);\n        if (serial.length >= 20)\n            return null;\n        if (product.length >= 28)\n            return null;\n        if (firmware.length >= 22)\n            return null;\n        let ROM_nb_zone = 0;\n        let FLA_nb_zone = 0;\n        let ROM_total_size = 0;\n        let FLA_total_size = 0;\n        let prog_buf;\n        let prog_version = \"\";\n        let zone_ofs;\n        let datasize;\n        switch (rev) {\n            case BYN_REV_V4:\n                zone_ofs = BYN_HEAD_SIZE_V4;\n                ROM_nb_zone = getInt();\n                datasize = getInt();\n                if (ROM_nb_zone > MAX_ROM_ZONES_PER_FILES)\n                    return null;\n                if (datasize != data.length - BYN_HEAD_SIZE_V4)\n                    return null;\n                break;\n            case BYN_REV_V5:\n                zone_ofs = BYN_HEAD_SIZE_V5;\n                prog_version = getString(22);\n                if (!force && !YFirmwareFile.imm_progCompatible(prog_version))\n                    return null;\n                getShort(); //skip pad\n                ROM_nb_zone = getInt();\n                datasize = getInt();\n                if (ROM_nb_zone > MAX_ROM_ZONES_PER_FILES)\n                    return null;\n                if (datasize != data.length - BYN_HEAD_SIZE_V5)\n                    return null;\n                break;\n            case BYN_REV_V6:\n                zone_ofs = BYN_HEAD_SIZE_V6;\n                let md5hdr = data.subarray(pos, pos + 16);\n                pos += 16;\n                let md5hdrstr = YAPI.imm_bin2hexstr(md5hdr);\n                let md5ctx = new Y_MD5Ctx();\n                md5ctx.addData(data.subarray(BYN_MD5_OFS_V6));\n                let md5bynstr = YAPI.imm_bin2hexstr(md5ctx.calculate());\n                if (md5hdrstr != md5bynstr) {\n                    YAPI.imm_log('Invalid firmware image signature, file is corrupt');\n                    if (YAPI._logLevel >= 2) {\n                        YAPI.imm_log('hdr MD5: ' + md5hdrstr);\n                        YAPI.imm_log('byn MD5: ' + md5bynstr);\n                        YAPI.imm_log('byn size: ' + data.length);\n                    }\n                    return null;\n                }\n                prog_version = getString(22);\n                if (!force && !YFirmwareFile.imm_progCompatible(prog_version))\n                    return null;\n                ROM_nb_zone = data[pos++];\n                FLA_nb_zone = data[pos++];\n                ROM_total_size = getInt();\n                FLA_total_size = getInt();\n                if (ROM_nb_zone > MAX_ROM_ZONES_PER_FILES)\n                    return null;\n                if (FLA_nb_zone > MAX_FLASH_ZONES_PER_FILES)\n                    return null;\n                break;\n            default:\n                return null;\n        }\n        return new YFirmwareFile(path, serial, pictype, product, firmware, prog_version, ROM_nb_zone, FLA_nb_zone, ROM_total_size, FLA_total_size, data, zone_ofs);\n    }\n    static imm_progCompatible(prog_version) {\n        if (prog_version == '')\n            return true;\n        let apiVer = YAPI.imm_GetAPIVersion();\n        let dashpos = apiVer.indexOf('-');\n        if (dashpos > 0) {\n            apiVer = apiVer.slice(0, dashpos);\n        }\n        apiVer = apiVer.slice(apiVer.lastIndexOf('.') + 1);\n        if (parseInt(prog_version) > parseInt(apiVer)) {\n            YAPI.imm_log('checkProgField: byn=' + prog_version + ' api=' + apiVer);\n            return false;\n        }\n        return true;\n    }\n    imm_getSerial() {\n        return this._serial;\n    }\n    imm_getPictype() {\n        return this._pictype;\n    }\n    imm_getProduct() {\n        return this._product;\n    }\n    imm_getFirmwareRelease() {\n        return this._firmware;\n    }\n    imm_getFirmwareReleaseAsInt() {\n        return parseInt(this._firmware);\n    }\n    imm_getProg_version() {\n        return this._prog_version;\n    }\n    imm_getROM_nb_zone() {\n        return this._ROM_nb_zone;\n    }\n    imm_getFLA_nb_zone() {\n        return this._FLA_nb_zone;\n    }\n    imm_getROM_total_size() {\n        return this._ROM_total_size;\n    }\n    imm_getFLA_total_size() {\n        return this._FLA_total_size;\n    }\n    imm_getData() {\n        return this._data;\n    }\n    imm_getPath() {\n        return this._path;\n    }\n}\n//--- (generated code: YFirmwareUpdate definitions)\n//--- (end of generated code: YFirmwareUpdate definitions)\n//--- (generated code: YFirmwareUpdate class start)\n/**\n * YFirmwareUpdate Class: Firmware update process control interface, returned by module.updateFirmware method.\n *\n * The YFirmwareUpdate class let you control the firmware update of a Yoctopuce\n * module. This class should not be instantiate directly, but instances should be retrieved\n * using the YModule method module.updateFirmware.\n */\n//--- (end of generated code: YFirmwareUpdate class start)\nexport class YFirmwareUpdate {\n    // API symbols as static members\n    //--- (end of generated code: YFirmwareUpdate attributes declaration)\n    constructor(obj_yapi, str_serial, str_path, bin_settings, bool_force) {\n        //--- (generated code: YFirmwareUpdate attributes declaration)\n        this._serial = '';\n        this._settings = new Uint8Array(0);\n        this._firmwarepath = '';\n        this._progress_msg = '';\n        this._progress_c = 0;\n        this._progress = 0;\n        this._restore_step = 0;\n        this._force = false;\n        /** @member {YAPIContext} **/\n        this._yapi = obj_yapi;\n        //--- (generated code: YFirmwareUpdate constructor)\n        //--- (end of generated code: YFirmwareUpdate constructor)\n        /** @member {string} **/\n        this._serial = str_serial;\n        /** @member {string} **/\n        this._firmwarepath = str_path;\n        /** @member {Uint8Array} **/\n        this._settings = bin_settings;\n        /** @member {boolean} **/\n        this._force = bool_force;\n    }\n    imm_progress(progress, msg) {\n        this._progress = progress;\n        this._progress_msg = msg;\n    }\n    _processMore_internal(newupdate) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!newupdate)\n                return YAPI_SUCCESS;\n            /** @type {Uint8Array} **/\n            let bytes;\n            this.imm_progress(0, 'Firmware update started');\n            if (typeof this._firmwarepath == 'string' && this._firmwarepath.indexOf('yoctopuce.com') >= 0) {\n                this.imm_progress(1, 'Downloading firmware');\n                bytes = yield this._yapi.system_env.downloadfile(this._firmwarepath);\n            }\n            else {\n                this.imm_progress(1, 'Loading firmware');\n                bytes = yield this._yapi.system_env.loadfile(this._firmwarepath);\n            }\n            /** @type {YFirmwareFile} **/\n            let firmware = YFirmwareFile.imm_Parse(this._firmwarepath, bytes, this._force);\n            if (!firmware) {\n                return this._yapi._throw(YAPI_DEVICE_NOT_FOUND, 'Device ' + this._serial + ' is not detected', YAPI_DEVICE_NOT_FOUND);\n            }\n            //5% -> 10%\n            this.imm_progress(5, 'Check if module is already in bootloader');\n            /** @type {YGenericHub} **/\n            let hub = null;\n            /** @type {YModule} **/\n            let module = YModule.FindModuleInContext(this._yapi, this._serial + '.module');\n            if (yield module.isOnline()) {\n                let dev = this._yapi.imm_getDevice(this._serial);\n                let baseUrl = dev.imm_getRootUrl();\n                let byPos = baseUrl.indexOf('/bySerial/');\n                if (byPos >= 0)\n                    baseUrl = baseUrl.slice(0, byPos + 1);\n                else if (baseUrl.slice(-1) != '/')\n                    baseUrl = baseUrl + '/';\n                let urlInfo = this._yapi.imm_parseRegisteredUrl(baseUrl);\n                hub = this._yapi.imm_getHub(urlInfo);\n            }\n            else {\n                // test if already in bootloader\n                let hubs = this._yapi._hubs;\n                for (let i = 0; i < hubs.length; i++) {\n                    let ldrs = yield hubs[i].getBootloaders();\n                    if (ldrs.indexOf(this._serial) >= 0) {\n                        hub = hubs[i];\n                        break;\n                    }\n                }\n            }\n            if (hub == null) {\n                this.imm_progress(-1, 'Device ' + this._serial + ' is not detected');\n                return this._yapi._throw(YAPI_DEVICE_NOT_FOUND, 'Device ' + this._serial + ' is not detected', YAPI_DEVICE_NOT_FOUND);\n            }\n            try {\n                yield hub.firmwareUpdate(this._serial, firmware, this._settings, (percent, msg) => {\n                    this.imm_progress(5 + ((percent * 80 + 50) / 100) >> 0, msg);\n                });\n            }\n            catch (e) {\n                this.imm_progress(-1, e.message);\n                return this._yapi._throw(YAPI_IO_ERROR, e.message, YAPI_IO_ERROR);\n            }\n            this.imm_progress(80, 'Wait for the device to restart');\n            let timeout = this._yapi.GetTickCount() + 60000;\n            yield module.clearCache();\n            while (!(yield module.isOnline()) && timeout > this._yapi.GetTickCount()) {\n                yield this._yapi.Sleep(500);\n                yield this._yapi.UpdateDeviceList();\n            }\n            if (yield module.isOnline()) {\n                if (this._settings != null) {\n                    this.imm_progress(95, 'Restoring device settings');\n                    yield module.set_allSettingsAndFiles(this._settings);\n                    yield module.saveToFlash();\n                }\n                let real_fw = yield module.get_firmwareRelease();\n                if (real_fw == firmware.imm_getFirmwareRelease()) {\n                    this.imm_progress(100, 'Success');\n                }\n                else {\n                    this.imm_progress(-1, 'Unable to update firmware');\n                }\n            }\n            else {\n                this.imm_progress(-1, 'Device did not reboot correctly');\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    static checkFirmware_r(file, serial_base, force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /***\n             * FIXME: move recursion to yocto_api_nodejs\n             ***\n            if(YAPI.system_env.isNodeJS) {\n                // Node.js can recurse into directory\n                let stats = fs.statSync(file);\n                if(stats.isDirectory()) {\n                    let dirPromise = new Promise<YFirmwareFile|null>((resolve, reject) => {\n                        let join = YAPI._nodeRequire('path').join;\n                        let dir = file;\n                        fs.readdir(dir, (err: string, files: string[]) => {\n                            if(err) resolve(null);\n                            let tasks = files.map((fname) => {\n                                // intentionally return a promise here!\n                                return YFirmwareUpdate.checkFirmware_r(join(dir, fname), serial_base, force)\n                            });\n                            Promise.all(tasks).then((results) => {\n                                let bestFirmware: YFirmwareFile | null = null;\n                                results.forEach((firmware) => {\n                                    if (!firmware) return;\n                                    if (!bestFirmware || bestFirmware.imm_getFirmwareReleaseAsInt() < firmware.imm_getFirmwareReleaseAsInt()) {\n                                        bestFirmware = firmware;\n                                    }\n                                });\n                                resolve(bestFirmware);\n                            });\n                        });\n                    });\n                    return dirPromise;\n                } else if(!stats.isFile()) {\n                    return null;\n                }\n            }\n             ***/\n            // common version: load from a single file\n            if (file.substr(-4).toLowerCase() != '.byn')\n                return null;\n            let bynfile = yield YAPI.system_env.loadfile(file);\n            let firmware = YFirmwareFile.imm_Parse(file, bynfile, force);\n            if (!firmware)\n                return null;\n            if (firmware.imm_getSerial().slice(0, serial_base.length) != serial_base)\n                return null;\n            return firmware;\n        });\n    }\n    /**\n     * Test if the byn file is valid for this module. It is possible to pass a directory instead of a file.\n     * In that case, this method returns the path of the most recent appropriate byn file. This method will\n     * ignore any firmware older than minrelease.\n     *\n     * @param serial {string} : the serial number of the module to update\n     * @param path {string} : the path of a byn file or a directory that contains byn files\n     * @param minrelease {number} : a positive integer\n     * @param force {boolean} : true to force an update even if the API is below expected revision\n     *\n     * @return {string} : the path of the byn file to use, or an empty string if no byn files matches the requirement\n     *\n     * On failure, returns a string that starts with \"error:\".\n     */\n    static CheckFirmwareEx(serial, path, minrelease, force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let link = '';\n            let best_rev = 0;\n            let current_rev;\n            if (typeof path == 'string' && path.indexOf('yoctopuce.com') >= 0) {\n                try {\n                    let data = yield YAPI.system_env.downloadfile('http://www.yoctopuce.com/FR/common/getLastFirmwareLink.php?serial=' + serial);\n                    let obj = JSON.parse(YAPI.imm_bin2str(data));\n                    link = obj['link'];\n                    best_rev = obj['version'];\n                }\n                catch (e) {\n                    YAPI.imm_log('failed to retrieve firmware information from www.yoctopuce.com', e);\n                    YAPI._throw(YAPI_IO_ERROR, 'failed to retrieve firmware information from www.yoctopuce.com', '');\n                    return '';\n                }\n            }\n            else {\n                /** @type {YFirmwareFile} **/\n                let firmware = yield YFirmwareUpdate.checkFirmware_r(path, serial.substring(0, 8), force);\n                if (firmware != null) {\n                    best_rev = firmware.imm_getFirmwareReleaseAsInt();\n                    link = firmware.imm_getPath();\n                }\n            }\n            if (minrelease != 0) {\n                if (minrelease < best_rev)\n                    return link;\n                else\n                    return '';\n            }\n            return link;\n        });\n    }\n    static CheckFirmware_internal(serial, path, minrelease) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return YFirmwareUpdate.CheckFirmwareEx(serial, path, minrelease, false);\n        });\n    }\n    static GetAllBootLoadersInContext_internal(yctx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let hubs = yctx._hubs;\n            let res = [];\n            for (let i = 0; i < hubs.length; i++) {\n                let ldrs = yield hubs[i].getBootloaders();\n                for (let j = 0; j < ldrs.length; j++) {\n                    res.push(ldrs[j]);\n                }\n            }\n            return res;\n        });\n    }\n    static GetAllBootLoaders_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return YFirmwareUpdate.GetAllBootLoadersInContext(YAPI);\n        });\n    }\n    //--- (generated code: YFirmwareUpdate implementation)\n    _processMore(newupdate) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this._processMore_internal(newupdate);\n        });\n    }\n    /**\n     * Returns a list of all the modules in \"firmware update\" mode.\n     *\n     * @return an array of strings containing the serial numbers of devices in \"firmware update\" mode.\n     */\n    static GetAllBootLoaders() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.GetAllBootLoaders_internal();\n        });\n    }\n    /**\n     * Returns a list of all the modules in \"firmware update\" mode.\n     *\n     * @param yctx : a YAPI context.\n     *\n     * @return an array of strings containing the serial numbers of devices in \"firmware update\" mode.\n     */\n    static GetAllBootLoadersInContext(yctx) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.GetAllBootLoadersInContext_internal(yctx);\n        });\n    }\n    /**\n     * Test if the byn file is valid for this module. It is possible to pass a directory instead of a file.\n     * In that case, this method returns the path of the most recent appropriate byn file. This method will\n     * ignore any firmware older than minrelease.\n     *\n     * @param serial : the serial number of the module to update\n     * @param path : the path of a byn file or a directory that contains byn files\n     * @param minrelease : a positive integer\n     *\n     * @return : the path of the byn file to use, or an empty string if no byn files matches the requirement\n     *\n     * On failure, returns a string that starts with \"error:\".\n     */\n    static CheckFirmware(serial, path, minrelease) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.CheckFirmware_internal(serial, path, minrelease);\n        });\n    }\n    /**\n     * Returns the progress of the firmware update, on a scale from 0 to 100. When the object is\n     * instantiated, the progress is zero. The value is updated during the firmware update process until\n     * the value of 100 is reached. The 100 value means that the firmware update was completed\n     * successfully. If an error occurs during the firmware update, a negative value is returned, and the\n     * error message can be retrieved with get_progressMessage.\n     *\n     * @return an integer in the range 0 to 100 (percentage of completion)\n     *         or a negative error code in case of failure.\n     */\n    get_progress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._progress >= 0) {\n                yield this._processMore(0);\n            }\n            return this._progress;\n        });\n    }\n    /**\n     * Returns the last progress message of the firmware update process. If an error occurs during the\n     * firmware update process, the error message is returned\n     *\n     * @return a string  with the latest progress message, or the error message.\n     */\n    get_progressMessage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._progress_msg;\n        });\n    }\n    /**\n     * Starts the firmware update process. This method starts the firmware update process in background. This method\n     * returns immediately. You can monitor the progress of the firmware update with the get_progress()\n     * and get_progressMessage() methods.\n     *\n     * @return an integer in the range 0 to 100 (percentage of completion),\n     *         or a negative error code in case of failure.\n     *\n     * On failure returns a negative error code.\n     */\n    startUpdate() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let err;\n            let leng;\n            err = this._yapi.imm_bin2str(this._settings);\n            leng = (err).length;\n            if ((leng >= 6) && ('error:' == (err).substr(0, 6))) {\n                this._progress = -1;\n                this._progress_msg = (err).substr(6, leng - 6);\n            }\n            else {\n                this._progress = 0;\n                this._progress_c = 0;\n                yield this._processMore(1);\n            }\n            return this._progress;\n        });\n    }\n}\n//--- (generated code: YFunction class start)\n/**\n * YFunction Class: Common function interface\n *\n * This is the parent class for all public objects representing device functions documented in\n * the high-level programming API. This abstract class does all the real job, but without\n * knowledge of the specific function attributes.\n *\n * Instantiating a child class of YFunction does not cause any communication.\n * The instance simply keeps track of its function identifier, and will dynamically bind\n * to a matching device at the time it is really being used to read or set an attribute.\n * In order to allow true hot-plug replacement of one device by another, the binding stay\n * dynamic through the life of the object.\n *\n * The YFunction class implements a generic high-level cache for the attribute values of\n * the specified function, pre-parsed from the REST API string.\n */\n//--- (end of generated code: YFunction class start)\nexport class YFunction {\n    //--- (end of generated code: YFunction attributes declaration)\n    constructor(obj_yapi, str_func) {\n        //--- (generated code: YFunction attributes declaration)\n        this._logicalName = YFunction.LOGICALNAME_INVALID;\n        this._advertisedValue = YFunction.ADVERTISEDVALUE_INVALID;\n        this._valueCallbackFunction = null;\n        this._cacheExpiration = 0;\n        this._serial = '';\n        this._funId = '';\n        this._hwId = '';\n        // API symbols as object properties\n        this.LOGICALNAME_INVALID = YAPI_INVALID_STRING;\n        this.ADVERTISEDVALUE_INVALID = YAPI_INVALID_STRING;\n        this._yapi = obj_yapi;\n        this._className = 'Function';\n        this._func = str_func;\n        this._lastErrorType = YAPI_SUCCESS;\n        this._lastErrorMsg = 'no error';\n        this._dataStreams = {};\n        this._userData = null;\n        this._cache = { _expiration: -1, functionid: '', hwid: '' };\n        this._valueCallbackFunction = null;\n        //--- (generated code: YFunction constructor)\n        //--- (end of generated code: YFunction constructor)\n    }\n    _throw(int_errType, str_errMsg, obj_retVal) {\n        this._lastErrorType = int_errType;\n        this._lastErrorMsg = str_errMsg;\n        return this._yapi._throw(int_errType, str_errMsg, obj_retVal);\n    }\n    isReadOnly_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let serial = yield this.get_serialNumber();\n                return this._yapi.isReadOnly(serial);\n            }\n            catch (e) {\n                return true;\n            }\n        });\n    }\n    //--- (generated code: YFunction implementation)\n    imm_parseAttr(name, val) {\n        switch (name) {\n            case '_expiration':\n                this._cacheExpiration = val;\n                return 1;\n            case 'logicalName':\n                this._logicalName = val;\n                return 1;\n            case 'advertisedValue':\n                this._advertisedValue = val;\n                return 1;\n        }\n        return 0;\n    }\n    /**\n     * Returns the logical name of the function.\n     *\n     * @return a string corresponding to the logical name of the function\n     *\n     * On failure, throws an exception or returns YFunction.LOGICALNAME_INVALID.\n     */\n    get_logicalName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YFunction.LOGICALNAME_INVALID;\n                }\n            }\n            res = this._logicalName;\n            return res;\n        });\n    }\n    /**\n     * Changes the logical name of the function. You can use yCheckLogicalName()\n     * prior to this call to make sure that your parameter is valid.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : a string corresponding to the logical name of the function\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_logicalName(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            if (!(yield YAPI.CheckLogicalName(newval))) {\n                return this._throw(YAPI.INVALID_ARGUMENT, 'Invalid name :' + newval, YAPI.INVALID_ARGUMENT);\n            }\n            rest_val = String(newval);\n            return yield this._setAttr('logicalName', rest_val);\n        });\n    }\n    /**\n     * Returns a short string representing the current state of the function.\n     *\n     * @return a string corresponding to a short string representing the current state of the function\n     *\n     * On failure, throws an exception or returns YFunction.ADVERTISEDVALUE_INVALID.\n     */\n    get_advertisedValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YFunction.ADVERTISEDVALUE_INVALID;\n                }\n            }\n            res = this._advertisedValue;\n            return res;\n        });\n    }\n    set_advertisedValue(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('advertisedValue', rest_val);\n        });\n    }\n    /**\n     * Retrieves a function for a given identifier.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the function is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YFunction.isOnline() to test if the function is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a function by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * If a call to this object's is_online() method returns FALSE although\n     * you are certain that the matching device is plugged, make sure that you did\n     * call registerHub() at application initialization time.\n     *\n     * @param func : a string that uniquely characterizes the function, for instance\n     *         MyDevice..\n     *\n     * @return a YFunction object allowing you to drive the function.\n     */\n    static FindFunction(func) {\n        let obj;\n        obj = YFunction._FindFromCache('Function', func);\n        if (obj == null) {\n            obj = new YFunction(YAPI, func);\n            YFunction._AddToCache('Function', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Retrieves a function for a given identifier in a YAPI context.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the function is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YFunction.isOnline() to test if the function is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a function by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * @param yctx : a YAPI context\n     * @param func : a string that uniquely characterizes the function, for instance\n     *         MyDevice..\n     *\n     * @return a YFunction object allowing you to drive the function.\n     */\n    static FindFunctionInContext(yctx, func) {\n        let obj;\n        obj = YFunction._FindFromCacheInContext(yctx, 'Function', func);\n        if (obj == null) {\n            obj = new YFunction(yctx, func);\n            YFunction._AddToCache('Function', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Registers the callback function that is invoked on every change of advertised value.\n     * The callback is invoked only during the execution of ySleep or yHandleEvents.\n     * This provides control over the time when the callback is triggered. For good responsiveness, remember to call\n     * one of these two functions periodically. To unregister a callback, pass a null pointer as argument.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the function object of which the value has changed, and the character string describing\n     *         the new advertised value.\n     * @noreturn\n     */\n    registerValueCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let val;\n            if (callback != null) {\n                yield YFunction._UpdateValueCallbackList(this, true);\n            }\n            else {\n                yield YFunction._UpdateValueCallbackList(this, false);\n            }\n            this._valueCallbackFunction = callback;\n            // Immediately invoke value callback with current value\n            if (callback != null && (yield this.isOnline())) {\n                val = this._advertisedValue;\n                if (!(val == '')) {\n                    yield this._invokeValueCallback(val);\n                }\n            }\n            return 0;\n        });\n    }\n    _invokeValueCallback(value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._valueCallbackFunction != null) {\n                try {\n                    yield this._valueCallbackFunction(this, value);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in valueCallback:', e);\n                }\n            }\n            else {\n            }\n            return 0;\n        });\n    }\n    /**\n     * Disables the propagation of every new advertised value to the parent hub.\n     * You can use this function to save bandwidth and CPU on computers with limited\n     * resources, or to prevent unwanted invocations of the HTTP callback.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    muteValueCallbacks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_advertisedValue('SILENT');\n        });\n    }\n    /**\n     * Re-enables the propagation of every new advertised value to the parent hub.\n     * This function reverts the effect of a previous call to muteValueCallbacks().\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    unmuteValueCallbacks() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_advertisedValue('');\n        });\n    }\n    /**\n     * Returns the current value of a single function attribute, as a text string, as quickly as\n     * possible but without using the cached value.\n     *\n     * @param attrName : the name of the requested attribute\n     *\n     * @return a string with the value of the the attribute\n     *\n     * On failure, throws an exception or returns an empty string.\n     */\n    loadAttribute(attrName) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let url;\n            let attrVal;\n            url = 'api/' + (yield this.get_functionId()) + '/' + attrName;\n            attrVal = yield this._download(url);\n            return this._yapi.imm_bin2str(attrVal);\n        });\n    }\n    /**\n     * Test if the function is readOnly. Return true if the function is write protected\n     * or that the function is not available.\n     *\n     * @return true if the function is readOnly or not online.\n     */\n    isReadOnly() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.isReadOnly_internal();\n        });\n    }\n    /**\n     * Returns the serial number of the module, as set by the factory.\n     *\n     * @return a string corresponding to the serial number of the module, as set by the factory.\n     *\n     * On failure, throws an exception or returns YFunction.SERIALNUMBER_INVALID.\n     */\n    get_serialNumber() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let m;\n            m = yield this.get_module();\n            return yield m.get_serialNumber();\n        });\n    }\n    _parserHelper() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return 0;\n        });\n    }\n    /**\n     * Returns the next Function\n     *\n     * @returns {YFunction}\n     */\n    nextFunction() {\n        let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n        if (resolve.errorType != YAPI.SUCCESS)\n            return null;\n        let next_hwid = this._yapi.imm_getNextHardwareId(this._className, resolve.result);\n        if (next_hwid == null)\n            return null;\n        return YFunction.FindFunctionInContext(this._yapi, next_hwid);\n    }\n    /**\n     * Retrieves the first Function in a YAPI context\n     *\n     * @returns {YFunction}\n     */\n    static FirstFunction() {\n        let next_hwid = YAPI.imm_getFirstHardwareId('Function');\n        if (next_hwid == null)\n            return null;\n        return YFunction.FindFunction(next_hwid);\n    }\n    /**\n     * Retrieves the first Function in a given context\n     *\n     * @param yctx {YAPIContext}\n     *\n     * @returns {YFunction}\n     */\n    static FirstFunctionInContext(yctx) {\n        let next_hwid = yctx.imm_getFirstHardwareId('Function');\n        if (next_hwid == null)\n            return null;\n        return YFunction.FindFunctionInContext(yctx, next_hwid);\n    }\n    //--- (end of generated code: YFunction implementation)\n    /** Retrieve a function instance from cache\n     *\n     * @param yctx {YAPIContext}\n     * @param className {string}\n     * @param func {string}\n     * @returns {YFunction}\n     */\n    static _FindFromCacheInContext(yctx, className, func) {\n        return yctx.imm_getFunction(className, func);\n    }\n    /** Retrieve a function instance from cache\n     *\n     * @param className {string}\n     * @param func {string}\n     * @returns {YFunction}\n     */\n    static _FindFromCache(className, func) {\n        return YAPI.imm_getFunction(className, func);\n    }\n    /** Add a function instance to cache\n     *\n     * @param className {string}\n     * @param func {string}\n     * @param obj {YFunction}\n     */\n    static _AddToCache(className, func, obj) {\n        obj._yapi.imm_setFunction(className, func, obj);\n    }\n    /** Clear the function instance cache\n     *\n     * @param obj_yapi {YAPIContext}\n     */\n    static _ClearCache(obj_yapi = null) {\n        if (!obj_yapi)\n            obj_yapi = YAPI;\n        obj_yapi.imm_ResetToDefaults();\n    }\n    /** Add or remove a value change callback\n     *\n     * @param obj_func {YFunction}\n     * @param bool_add {Boolean}\n     */\n    static _UpdateValueCallbackList(obj_func, bool_add) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield obj_func._yapi._UpdateValueCallbackList(obj_func, bool_add);\n        });\n    }\n    /** Add or remove a timed report callback\n     *\n     * @param obj_func {YSensor}\n     * @param bool_add {Boolean}\n     */\n    static _UpdateTimedReportCallbackList(obj_func, bool_add) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield obj_func._yapi._UpdateTimedReportCallbackList(obj_func, bool_add);\n        });\n    }\n    /**\n     * Returns a short text that describes unambiguously the instance of the function in the form\n     * TYPE(NAME)=SERIAL&#46;FUNCTIONID.\n     * More precisely,\n     * TYPE       is the type of the function,\n     * NAME       it the name used for the first access to the function,\n     * SERIAL     is the serial number of the module if the module is connected or \"unresolved\", and\n     * FUNCTIONID is  the hardware identifier of the function if the module is connected.\n     * For example, this method returns Relay(MyCustomName.relay1)=RELAYLO1-123456.relay1 if the\n     * module is already connected or Relay(BadCustomeName.relay1)=unresolved if the module has\n     * not yet been connected. This method does not trigger any USB or TCP transaction and can therefore be used in\n     * a debugger.\n     *\n     * @return a string that describes the function\n     *         (ex: Relay(MyCustomName.relay1)=RELAYLO1-123456.relay1)\n     */\n    describe() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._hwId != '') {\n                return this._className + '(' + this._func + ')=' + this._hwId;\n            }\n            let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n            if (resolve.errorType != YAPI_SUCCESS && resolve.result != this._func) {\n                return this._className + '(' + this._func + ')=unresolved';\n            }\n            return this._className + '(' + this._func + ')=' + resolve.result;\n        });\n    }\n    /**\n     * Returns the unique hardware identifier of the function in the form SERIAL.FUNCTIONID.\n     * The unique hardware identifier is composed of the device serial\n     * number and of the hardware identifier of the function (for example RELAYLO1-123456.relay1).\n     *\n     * @return a string that uniquely identifies the function (ex: RELAYLO1-123456.relay1)\n     *\n     * On failure, throws an exception or returns  YFunction.HARDWAREID_INVALID.\n     */\n    get_hardwareId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._hwId != '') {\n                return this._hwId;\n            }\n            let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n            if (resolve.errorType != YAPI_SUCCESS) {\n                yield this.isOnline();\n                resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n                if (resolve.errorType != YAPI_SUCCESS) {\n                    return this._throw(resolve.errorType, resolve.errorMsg, YFunction.HARDWAREID_INVALID);\n                }\n            }\n            return resolve.result;\n        });\n    }\n    /**\n     * Returns the hardware identifier of the function, without reference to the module. For example\n     * relay1\n     *\n     * @return a string that identifies the function (ex: relay1)\n     *\n     * On failure, throws an exception or returns  YFunction.FUNCTIONID_INVALID.\n     */\n    get_functionId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._funId != '') {\n                return this._funId;\n            }\n            let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n            if (resolve.errorType != YAPI_SUCCESS) {\n                yield this.isOnline();\n                resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n                if (resolve.errorType != YAPI_SUCCESS) {\n                    return this._throw(resolve.errorType, resolve.errorMsg, YFunction.FUNCTIONID_INVALID);\n                }\n            }\n            let hardwareId = resolve.result;\n            let pos = hardwareId.indexOf('.');\n            return hardwareId.substr(pos + 1);\n        });\n    }\n    imm_get_functionId() {\n        if (this._funId != '') {\n            return this._funId;\n        }\n        let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n        if (resolve.errorType != YAPI_SUCCESS) {\n            return this._throw(resolve.errorType, resolve.errorMsg, YFunction.FUNCTIONID_INVALID);\n        }\n        let hardwareId = resolve.result;\n        let pos = hardwareId.indexOf('.');\n        return hardwareId.substr(pos + 1);\n    }\n    /**\n     * Returns a global identifier of the function in the format MODULE_NAME&#46;FUNCTION_NAME.\n     * The returned string uses the logical names of the module and of the function if they are defined,\n     * otherwise the serial number of the module and the hardware identifier of the function\n     * (for example: MyCustomName.relay1)\n     *\n     * @return a string that uniquely identifies the function using logical names\n     *         (ex: MyCustomName.relay1)\n     *\n     * On failure, throws an exception or returns  YFunction.FRIENDLYNAME_INVALID.\n     */\n    get_friendlyName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let resolve = this._yapi.imm_getFriendlyNameFunction(this._className, this._func);\n            if (resolve.errorType != YAPI_SUCCESS) {\n                yield this.isOnline();\n                resolve = this._yapi.imm_getFriendlyNameFunction(this._className, this._func);\n                if (resolve.errorType != YAPI_SUCCESS) {\n                    return this._throw(resolve.errorType, resolve.errorMsg, YFunction.FRIENDLYNAME_INVALID);\n                }\n            }\n            return resolve.result;\n        });\n    }\n    /** Store and parse a an API request for current function\n     *\n     * @param {YFuncRequest} yreq\n     * @param {number} msValidity\n     */\n    _parse(yreq, msValidity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!yreq.obj_result)\n                return;\n            // update expiration based on requested validity\n            yreq.obj_result._expiration = this._yapi.GetTickCount() + msValidity;\n            this._cache = yreq.obj_result;\n            this._serial = yreq.obj_result.deviceid;\n            this._funId = yreq.obj_result.functionid;\n            this._hwId = yreq.obj_result.hwid;\n            // process each attribute in turn for class-oriented processing\n            for (let key in yreq.obj_result) {\n                this.imm_parseAttr(key, yreq.obj_result[key]);\n            }\n            yield this._parserHelper();\n        });\n    }\n    /**\n     ** Helpers for built-in classes\n     **\n\n    // Helper for initializing standard attributes (used in particular by built-in classes)\n    async _i(): Promise<void>\n    {\n        let arr_attrNames: string[] = this.constructor._attrList;\n        this._className = this.constructor.name.slice(1);\n        for(let i = 0; i < arr_attrNames.length; i++) {\n            this['_'+arr_attrNames[i]] = this.constructor[arr_attrNames[i].toUpperCase()+'_INVALID'];\n        }\n    }\n\n    // Helper for simple accessors (used in particular by built-in classes)\n    async _g(str_attr): Promise<object>\n    {\n        if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n            if (await this.load(this._yapi.defaultCacheValidity) != YAPI_SUCCESS) {\n                return this.constructor[str_attr.toLocaleUpperCase()+'_INVALID'];\n            }\n        }\n        return this['_'+str_attr];\n    }\n\n    // Helper for simple accessors (used in particular by built-in classes)\n    async _s(str_attr, obj_val): Promise<number>\n    {\n        return this._setAttr(str_attr, String(obj_val));\n    }\n\n    // Helper for completing and exporting the class; used by built-in classes\n    static _E(arr_attrlist)\n    {\n        let className = this.name.slice(1);\n        this._attrList = arr_attrlist;\n        for(let i = 0; i < arr_attrlist.length; i++) {\n            let attrname = arr_attrlist[i];\n            let getMethod = 'get_'+attrname;\n            this.prototype[getMethod] = async function(): Promise<object> { return this._g(attrname); };\n        }\n        this['Find'+className] = function(func) {\n            let str_classname = this.name.slice(1);\n            let obj: YFunction;\n            obj = YFunction._FindFromCache(str_classname, func);\n            if (obj == null) {\n                obj = new this(YAPI, func);\n                YFunction._AddToCache(str_classname, func, obj);\n            }\n            return obj;\n        };\n        this['First'+className] = function() {\n            let str_classname = this.name.slice(1);\n            let next_hwid = YAPI.imm_getFirstHardwareId(str_classname);\n            if(next_hwid == null) return null;\n            return this['Find'+className](next_hwid);\n        };\n        this.prototype['next'+className] = function() {\n            let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n            if(resolve.errorType != YAPI.SUCCESS) return null;\n            let next_hwid = this._yapi.imm_getNextHardwareId(this._className, resolve.result);\n            if(next_hwid == null) return null;\n            return this.constructor['Find'+className](next_hwid);\n        };\n        this.imm_Init();\n    }\n\n    ********/\n    // Backward-compatibility helper\n    isOnline_async(func, ctx) {\n        this.isOnline()\n            .then((res) => { func(ctx, this, res); })\n            .catch((e) => { func(ctx, this, false); });\n    }\n    // Backward-compatibility helper\n    load_async(ms_validiy, func, ctx) {\n        this.load(ms_validiy)\n            .then((res) => { func(ctx, this, YAPI_SUCCESS); })\n            .catch((e) => { func(ctx, this, this.get_errorType()); });\n    }\n    /** Return the value of an attribute from function cache, after reloading it from device if needed\n     * Note: the function cache is a typed (parsed) cache, contrarily to the agnostic device cache\n     *\n     * @param {string} str_attr\n     * @return {string|null}\n     */\n    _getAttr(str_attr) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                // no valid cached value, reload from device\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS)\n                    return null;\n            }\n            if (typeof this._cache[str_attr] == 'undefined') {\n                this._throw(YAPI_VERSION_MISMATCH, 'No such attribute ' + str_attr + ' in function', null);\n            }\n            return this._cache[str_attr];\n        });\n    }\n    /** Return the value of an attribute from function cache, after reloading it from device if needed\n     * Note: the function cache is a typed (parsed) cache, contrarily to the agnostic device cache\n     *\n     * @param {string} str_attr\n     * @return {string|null}\n     */\n    _getFixedAttr(str_attr) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._cacheExpiration == 0) {\n                // no cached value, load from device\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS)\n                    return null;\n            }\n            if (typeof this._cache[str_attr] == 'undefined') {\n                this._throw(YAPI_VERSION_MISMATCH, 'No such attribute ' + str_attr + ' in function', null);\n            }\n            return this._cache[str_attr];\n        });\n    }\n    /** Escape a string for posting it as an URL\n     *\n     * @param {string} str_newval\n     * @return {string}\n     */\n    imm_escapeAttr(str_newval) {\n        // We intentionally use escape here, because we want to encode non-ASCII\n        // characters using single-byte ISO characters (not multi-byte UTF-8)\n        //noinspection JSDeprecatedSymbols\n        return escape(str_newval).replace(/[+]/g, '%2B')\n            .replace(/%20/g, '+').replace(/%21/g, '!')\n            .replace(/%24/g, '$')\n            .replace(/%27/g, '\\'').replace(/%28/g, '(').replace(/%29/g, ')')\n            .replace(/%2[cC]/g, ',').replace(/%2[fF]/g, '/')\n            .replace(/%3[aA]/g, ':').replace(/%3[bB]/g, ';').replace(/%3[fF]/g, '?')\n            .replace(/%5[bB]/g, '[').replace(/%5[dD]/g, ']');\n    }\n    /** Change the value of an attribute on a device, and invalidate the cache\n     *\n     * @param {string} str_attr\n     * @param {string} str_newval\n     * @return {number}\n     */\n    _setAttr(str_attr, str_newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (str_newval == undefined) {\n                return this._throw(YAPI_INVALID_ARGUMENT, 'Undefined value to set for attribute ' + str_attr, null);\n            }\n            let attrname = encodeURIComponent(str_attr);\n            let attrval = this.imm_escapeAttr(str_newval);\n            let extra = '/' + attrname + '?' + attrname + '=' + attrval + '&.';\n            if (this._cacheExpiration != 0) {\n                this._cacheExpiration = this._yapi.GetTickCount();\n                this._cache._expiration = this._cacheExpiration;\n            }\n            let yreq = yield this._yapi.funcRequest(this._className, this._func, extra);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /** Execute an arbitrary HTTP GET request on the device and return the binary content\n     *\n     * @param {string} str_path\n     * @return {Uint8Array}\n     */\n    _download(str_path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // get the device serial number\n            let devid = this._serial;\n            if (devid == '') {\n                devid = yield (yield this.module()).get_serialNumber();\n            }\n            if (devid == YAPI_INVALID_STRING) {\n                return new Uint8Array(0);\n            }\n            let yreq = yield this._yapi.devRequest(devid, 'GET /' + str_path, null, 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, '');\n            }\n            return yreq.bin_result;\n        });\n    }\n    /** Execute an out-of-band HTTP GET request on the device and return the binary content.\n     * The request may execute in parallel to regular requests currently in progress.\n     *\n     * @param {string} str_path\n     * @return {Uint8Array}\n     */\n    _downloadOutOfBand(str_path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // get the device serial number\n            /** @type {string} **/\n            let devid = this._serial;\n            if (devid == '') {\n                devid = yield (yield this.module()).get_serialNumber();\n            }\n            if (devid == YAPI_INVALID_STRING) {\n                return new Uint8Array(0);\n            }\n            /** @type {YHTTPRequest} **/\n            let yreq = yield this._yapi.devRequest(devid, 'GET /' + str_path, null, 1);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, '');\n            }\n            return yreq.bin_result;\n        });\n    }\n    /** Upload a file to the filesystem, to the specified full path name.\n     * If a file already exists with the same path name, its content is overwritten.\n     * The progress callback function is called with two parameters: the number of\n     * bytes uploaded so far and the total size to be uploaded.\n     *\n     * @param {string} str_path\n     * @param {Uint8Array|string|number[]} bin_content\n     * @param {YDownloadProgressCallback} fun_progressCb\n     * @return {object}\n     */\n    _uploadWithProgress(str_path, bin_content, fun_progressCb) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // get the device serial number\n            let devid = this._serial;\n            if (devid == '') {\n                devid = yield (yield this.module()).get_serialNumber();\n            }\n            if (devid == YAPI_INVALID_STRING) {\n                let res = new YHTTPRequest(null);\n                res.errorType = this.get_errorType();\n                res.errorMsg = this.get_errorMessage();\n                return res;\n            }\n            let httpreq = 'POST /upload.html';\n            let len = bin_content.length;\n            // convert to Uint8Array if needed\n            if (typeof bin_content == 'string' || bin_content instanceof String) {\n                bin_content = this._yapi.imm_str2bin(bin_content);\n            }\n            else if (bin_content instanceof Array) {\n                bin_content = new Uint8Array(bin_content);\n            }\n            return this._yapi.devRequest(devid, httpreq, new YHTTPBody(str_path, bin_content, fun_progressCb), 0);\n        });\n    }\n    /** Upload a file to the filesystem, to the specified full path name.\n     * If a file already exists with the same path name, its content is overwritten.\n     * The progress callback function is called with two parameters: the number of\n     * bytes uploaded so far and the total size to be uploaded.\n     *\n     * @param {string} str_path\n     * @param {Uint8Array|string|number[]} bin_content\n     * @return {object}\n     */\n    _uploadEx(str_path, bin_content) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let yreq = yield this._uploadWithProgress(str_path, bin_content, null);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, null);\n            }\n            return yreq.bin_result;\n        });\n    }\n    /** Upload a file to the filesystem, to the specified full path name.\n     * If a file already exists with the same path name, its content is overwritten.\n     *\n     * @param {string} str_path\n     * @param {Uint8Array|string|number[]} bin_content\n     * @return {object}\n     */\n    _upload(str_path, bin_content) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let yreq = yield this._uploadWithProgress(str_path, bin_content, null);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, null);\n            }\n            return yreq.errorType;\n        });\n    }\n    /**\n     * Waits for all pending asynchronous commands on the module to complete, and invoke\n     * the user-provided callback function. The callback function can therefore freely\n     * issue synchronous or asynchronous commands, without risking to block the\n     * JavaScript VM.\n     *\n     * @param callback : callback function that is invoked when all pending commands on\n     *         the module are completed.\n     *         The callback function receives two arguments: the caller-specific\n     *         context object and the receiving function object.\n     * @param context : caller-specific object that is passed as-is to the callback function\n     *\n     * @return nothing.\n     */\n    wait_async(callback, context) {\n        // get the device serial number\n        let devid = this._serial;\n        if (devid == '') {\n            // serial not yet known, get it then call wait_async again\n            this.module().then((module) => module.get_serialNumber().then(() => this.wait_async(callback, context)));\n            return YAPI_SUCCESS;\n        }\n        if (devid == YAPI_INVALID_STRING) {\n            callback(context, this);\n            return YAPI_SUCCESS;\n        }\n        let lockdev = this._yapi.imm_getDevice(devid);\n        // queue the call to user callback function in the pending queries promise chain\n        let delayedCode = (() => { callback(context, this); });\n        lockdev._pendingQueries = lockdev._pendingQueries.then(delayedCode, delayedCode);\n        return YAPI_SUCCESS;\n    }\n    /** Get a value from a JSON buffer\n     *\n     * @param bin_jsonbuff {Uint8Array}\n     * @param str_key {string}\n     * @return {string}\n     **/\n    imm_json_get_key(bin_jsonbuff, str_key) {\n        let loadval = JSON.parse(this._yapi.imm_bin2str(bin_jsonbuff));\n        if (typeof loadval[str_key] != 'undefined') {\n            return loadval[str_key];\n        }\n        return '';\n    }\n    /** Get a string from a JSON buffer\n     *\n     * @param bin_jsonbuff {Uint8Array}\n     * @return {string}\n     **/\n    imm_json_get_string(bin_jsonbuff) {\n        return JSON.parse(this._yapi.imm_bin2str(bin_jsonbuff));\n    }\n    /** Get an array of strings from a JSON buffer\n     *\n     * @param bin_jsonbuff {Uint8Array}\n     * @return {string[]}\n     **/\n    imm_json_get_array(bin_jsonbuff) {\n        let loadval = JSON.parse(this._yapi.imm_bin2str(bin_jsonbuff));\n        let res = [];\n        for (let idx in loadval) {\n            res.push(JSON.stringify(loadval[idx]));\n        }\n        return res;\n    }\n    /** Get an array of strings from a JSON buffer\n     *\n     * @param str_json {string}\n     * @param str_path {string}\n     * @return {string}\n     **/\n    imm_get_json_path(str_json, str_path) {\n        let json = JSON.parse(str_json);\n        let paths = str_path.split('|');\n        for (let i = 0; i < paths.length; i++) {\n            let tmp = paths[i];\n            json = json[tmp];\n            if (json == undefined) {\n                return '';\n            }\n        }\n        return JSON.stringify(json);\n    }\n    /** Get a string from a JSON string\n     *\n     * @param str_json {string}\n     * @return {string}\n     **/\n    imm_decode_json_string(str_json) {\n        if (str_json === \"\") {\n            return '';\n        }\n        return JSON.parse(str_json);\n    }\n    // Method used to cache DataStream objects (new DataLogger)\n    //\n    /** Method used to cache DataStream objects (new DataLogger)\n     *\n     * @param obj_dataset {YDataSet}\n     * @param str_def {string}\n     * @return {YDataStream}\n     **/\n    imm_findDataStream(obj_dataset, str_def) {\n        /** @type {string} **/\n        let key = obj_dataset.imm_get_functionId() + ':' + str_def;\n        if (this._dataStreams[key])\n            return this._dataStreams[key];\n        let words = this._yapi.imm_decodeWords(str_def);\n        if (words.length < 14) {\n            this._throw(YAPI.VERSION_MISMATCH, \"device firwmare is too old\", null);\n            return null;\n        }\n        /** @type {YDataStream} **/\n        let newDataStream = new YDataStream(this, obj_dataset, words);\n        this._dataStreams[key] = newDataStream;\n        return newDataStream;\n    }\n    // Method used to clear cache of DataStream object (undocumented)\n    clearDataStreamCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._dataStreams = {};\n        });\n    }\n    /**\n     * Checks if the function is currently reachable, without raising any error.\n     * If there is a cached value for the function in cache, that has not yet\n     * expired, the device is considered reachable.\n     * No exception is raised if there is an error while trying to contact the\n     * device hosting the function.\n     *\n     * @return true if the function can be reached, and false otherwise\n     */\n    isOnline() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // A valid value in cache means that the device is online\n            if (this._cacheExpiration > this._yapi.GetTickCount())\n                return true;\n            // Check that the function is available without throwing exceptions\n            /** @type {YFuncRequest} **/\n            let yreq = yield this._yapi.funcRequest(this._className, this._func, '', this._yapi.defaultCacheValidity);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return (yreq.errorType == YAPI_DEVICE_BUSY);\n            }\n            // save result in cache anyway\n            yield this._parse(yreq, this._yapi.defaultCacheValidity);\n            return true;\n        });\n    }\n    /**\n     * Returns the numerical error code of the latest error with the function.\n     * This method is mostly useful when using the Yoctopuce library with\n     * exceptions disabled.\n     *\n     * @return a number corresponding to the code of the latest error that occurred while\n     *         using the function object\n     */\n    get_errorType() {\n        return this._lastErrorType;\n    }\n    /**\n     * Returns the error message of the latest error with the function.\n     * This method is mostly useful when using the Yoctopuce library with\n     * exceptions disabled.\n     *\n     * @return a string corresponding to the latest error message that occured while\n     *         using the function object\n     */\n    get_errorMessage() {\n        return this._lastErrorMsg;\n    }\n    /**\n     * Preloads the function cache with a specified validity duration.\n     * By default, whenever accessing a device, all function attributes\n     * are kept in cache for the standard duration (5 ms). This method can be\n     * used to temporarily mark the cache as valid for a longer period, in order\n     * to reduce network traffic for instance.\n     *\n     * @param msValidity : an integer corresponding to the validity attributed to the\n     *         loaded function parameters, in milliseconds\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    load(msValidity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YFuncRequest} **/\n            let yreq = yield this._yapi.funcRequest(this._className, this._func, '', msValidity);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            yield this._parse(yreq, msValidity);\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Invalidates the cache. Invalidates the cache of the function attributes. Forces the\n     * next call to get_xxx() or loadxxx() to use values that come from the device.\n     *\n     * @noreturn\n     */\n    clearCache() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let devreq = yield this._yapi._funcDev(this._className, this._func);\n            if (devreq.errorType != YAPI_SUCCESS) {\n                return;\n            }\n            devreq.obj_result.device.imm_dropCache();\n            if (this._cacheExpiration > 0) {\n                this._cacheExpiration = this._yapi.GetTickCount();\n            }\n        });\n    }\n    /**\n     * Gets the YModule object for the device on which the function is located.\n     * If the function cannot be located on any module, the returned instance of\n     * YModule is not shown as on-line.\n     *\n     * @return {YModule} an instance of YModule\n     */\n    module() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // try to resolve the function name to a device id without query\n            if (this._serial != '') {\n                return YModule.FindModuleInContext(this._yapi, this._serial + '.module');\n            }\n            let hwid = this._func;\n            let resolve;\n            if (hwid.indexOf('.') < 0) {\n                resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n                if (resolve.errorType == YAPI_SUCCESS)\n                    hwid = resolve.result;\n            }\n            let dotidx = hwid.indexOf('.');\n            if (dotidx >= 0) {\n                // resolution worked\n                return YModule.FindModuleInContext(this._yapi, hwid.substr(0, dotidx) + '.module');\n            }\n            // device not resolved for now, force a communication for a last chance resolution\n            if ((yield this.load(this._yapi.defaultCacheValidity)) == YAPI_SUCCESS) {\n                resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n                if (resolve.result)\n                    hwid = resolve.result;\n            }\n            dotidx = hwid.indexOf('.');\n            if (dotidx >= 0) {\n                // resolution worked\n                return YModule.FindModuleInContext(this._yapi, hwid.substr(0, dotidx) + '.module');\n            }\n            // return a true yFindModule object even if it is not a module valid for communicating\n            return YModule.FindModuleInContext(this._yapi, 'module_of_' + this._className + '_' + this._func);\n        });\n    }\n    /**\n     * Gets the YModule object for the device on which the function is located.\n     * If the function cannot be located on any module, the returned instance of\n     * YModule is not shown as on-line.\n     *\n     * @return an instance of YModule\n     */\n    get_module() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.module();\n        });\n    }\n    /**\n     * Returns a unique identifier of type YFUN_DESCR corresponding to the function.\n     * This identifier can be used to test if two instances of YFunction reference the same\n     * physical function on the same physical device.\n     *\n     * @return an identifier of type YFUN_DESCR.\n     *\n     * If the function has never been contacted, the returned value is Y$CLASSNAME$.FUNCTIONDESCRIPTOR_INVALID.\n     */\n    get_functionDescriptor() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // try to resolve the function name to a device id without query\n            if (this._hwId != '') {\n                return this._hwId;\n            }\n            let hwid = this._func;\n            if (hwid.indexOf('.') < 0) {\n                let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n                if (resolve.errorType != YAPI_SUCCESS)\n                    hwid = resolve.result;\n            }\n            let dotidx = hwid.indexOf('.');\n            if (dotidx >= 0) {\n                return hwid;\n            }\n            return Y_FUNCTIONDESCRIPTOR_INVALID;\n        });\n    }\n    /**\n     * Returns the value of the userData attribute, as previously stored using method\n     * set_userData.\n     * This attribute is never touched directly by the API, and is at disposal of the caller to\n     * store a context.\n     *\n     * @return the object stored previously by the caller.\n     */\n    get_userData() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._userData;\n        });\n    }\n    /**\n     * Stores a user context provided as argument in the userData attribute of the function.\n     * This attribute is never touched by the API, and is at disposal of the caller to store a context.\n     *\n     * @param data : any kind of object to be stored\n     * @noreturn\n     */\n    set_userData(data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._userData = data;\n        });\n    }\n}\n// API symbols as static members\nYFunction.LOGICALNAME_INVALID = YAPI_INVALID_STRING;\nYFunction.ADVERTISEDVALUE_INVALID = YAPI_INVALID_STRING;\n(function (YFunction) {\n    //--- (generated code: YFunction definitions)\n    YFunction.FUNCTIONDESCRIPTOR_INVALID = YAPI_INVALID_STRING;\n    YFunction.HARDWAREID_INVALID = YAPI_INVALID_STRING;\n    YFunction.FUNCTIONID_INVALID = YAPI_INVALID_STRING;\n    YFunction.FRIENDLYNAME_INVALID = YAPI_INVALID_STRING;\n    //--- (end of generated code: YFunction definitions)\n})(YFunction || (YFunction = {}));\n//--- (generated code: YModule class start)\n/**\n * YModule Class: Global parameters control interface for all Yoctopuce devices\n *\n * The YModule class can be used with all Yoctopuce USB devices.\n * It can be used to control the module global parameters, and\n * to enumerate the functions provided by each module.\n */\n//--- (end of generated code: YModule class start)\nexport class YModule extends YFunction {\n    //--- (end of generated code: YModule attributes declaration)\n    constructor(yapi, func) {\n        //--- (generated code: YModule constructor)\n        super(yapi, func);\n        this._productName = YModule.PRODUCTNAME_INVALID;\n        this._serialNumber = YModule.SERIALNUMBER_INVALID;\n        this._productId = YModule.PRODUCTID_INVALID;\n        this._productRelease = YModule.PRODUCTRELEASE_INVALID;\n        this._firmwareRelease = YModule.FIRMWARERELEASE_INVALID;\n        this._persistentSettings = YModule.PERSISTENTSETTINGS_INVALID;\n        this._luminosity = YModule.LUMINOSITY_INVALID;\n        this._beacon = YModule.BEACON_INVALID;\n        this._upTime = YModule.UPTIME_INVALID;\n        this._usbCurrent = YModule.USBCURRENT_INVALID;\n        this._rebootCountdown = YModule.REBOOTCOUNTDOWN_INVALID;\n        this._userVar = YModule.USERVAR_INVALID;\n        this._valueCallbackModule = null;\n        this._logCallback = null;\n        this._confChangeCallback = null;\n        this._beaconCallback = null;\n        // API symbols as object properties\n        this.PRODUCTNAME_INVALID = YAPI_INVALID_STRING;\n        this.SERIALNUMBER_INVALID = YAPI_INVALID_STRING;\n        this.PRODUCTID_INVALID = YAPI_INVALID_UINT;\n        this.PRODUCTRELEASE_INVALID = YAPI_INVALID_UINT;\n        this.FIRMWARERELEASE_INVALID = YAPI_INVALID_STRING;\n        this.PERSISTENTSETTINGS_LOADED = 0;\n        this.PERSISTENTSETTINGS_SAVED = 1;\n        this.PERSISTENTSETTINGS_MODIFIED = 2;\n        this.PERSISTENTSETTINGS_INVALID = -1;\n        this.LUMINOSITY_INVALID = YAPI_INVALID_UINT;\n        this.BEACON_OFF = 0;\n        this.BEACON_ON = 1;\n        this.BEACON_INVALID = -1;\n        this.UPTIME_INVALID = YAPI_INVALID_LONG;\n        this.USBCURRENT_INVALID = YAPI_INVALID_UINT;\n        this.REBOOTCOUNTDOWN_INVALID = YAPI_INVALID_INT;\n        this.USERVAR_INVALID = YAPI_INVALID_INT;\n        this._className = 'Module';\n        //--- (end of generated code: YModule constructor)\n        // automatically fill in hardware properties if they can be resolved\n        // without any network access (getDevice does not cause network access)\n        let devid = this._func;\n        let dotidx = devid.indexOf('.');\n        if (dotidx > 0)\n            devid = devid.substr(0, dotidx);\n        let dev = this._yapi.imm_getDevice(devid);\n        if (dev) {\n            this._serial = dev.imm_getSerialNumber();\n            this._funId = 'module';\n            this._hwId = this._serial + '.module';\n        }\n    }\n    _throw(int_errType, str_errMsg, obj_retVal) {\n        this._lastErrorType = int_errType;\n        this._lastErrorMsg = str_errMsg;\n        return this._yapi._throw(int_errType, str_errMsg, obj_retVal);\n    }\n    static _updateModuleCallbackList(YModule_module, bool_add) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /* FIXME: Not implemented? */\n        });\n    }\n    /** Return the internal device object hosting the function\n     *\n     * @return {YDevice}\n     *\n     * Raise an error if not found\n     */\n    imm_getDev() {\n        /** @type {string} **/\n        let devid = this._func;\n        /** @type {number} **/\n        let dotidx = devid.indexOf('.');\n        if (dotidx > 0)\n            devid = devid.substr(0, dotidx);\n        /** @type {YDevice} **/\n        let dev = this._yapi.imm_getDevice(devid);\n        if (!dev) {\n            this._throw(YAPI_DEVICE_NOT_FOUND, 'Device [' + devid + '] is not online', null);\n        }\n        return dev;\n    }\n    /**\n     * Forces a full redetection of the device, in case the functions changed\n     *\n     * @noreturn\n     */\n    forceDeviceRefresh() {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev || !this._serial)\n                return;\n            yield this._yapi.ForceDeviceRefresh(this._serial);\n            if (this._cacheExpiration > 0) {\n                this._cacheExpiration = this._yapi.GetTickCount();\n            }\n        });\n    }\n    /**\n     * Returns the number of functions (beside the \"module\" interface) available on the module.\n     *\n     * @return the number of functions on the module\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    functionCount() {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev)\n                return YAPI_DEVICE_NOT_FOUND;\n            return dev.imm_functionCount();\n        });\n    }\n    /**\n     * Retrieves the hardware identifier of the <i>n</i>th function on the module.\n     *\n     * @param functionIndex : the index of the function for which the information is desired, starting at\n     * 0 for the first function.\n     *\n     * @return a string corresponding to the unambiguous hardware identifier of the requested module function\n     *\n     * On failure, throws an exception or returns an empty string.\n     */\n    functionId(functionIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev)\n                return '';\n            return dev.imm_functionId(functionIndex);\n        });\n    }\n    /**\n     * Retrieves the type of the <i>n</i>th function on the module.\n     *\n     * @param functionIndex : the index of the function for which the information is desired, starting at\n     * 0 for the first function.\n     *\n     * @return a string corresponding to the type of the function\n     *\n     * On failure, throws an exception or returns an empty string.\n     */\n    functionType(functionIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev)\n                return '';\n            return dev.imm_functionType(functionIndex);\n        });\n    }\n    /**\n     * Retrieves the base type of the <i>n</i>th function on the module.\n     * For instance, the base type of all measuring functions is \"Sensor\".\n     *\n     * @param functionIndex : the index of the function for which the information is desired, starting at\n     * 0 for the first function.\n     *\n     * @return a string corresponding to the base type of the function\n     *\n     * On failure, throws an exception or returns an empty string.\n     */\n    functionBaseType(functionIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev)\n                return '';\n            return dev.imm_functionBaseType(functionIndex);\n        });\n    }\n    /**\n     * Retrieves the logical name of the <i>n</i>th function on the module.\n     *\n     * @param functionIndex : the index of the function for which the information is desired, starting at\n     * 0 for the first function.\n     *\n     * @return a string corresponding to the logical name of the requested module function\n     *\n     * On failure, throws an exception or returns an empty string.\n     */\n    functionName(functionIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev)\n                return '';\n            return dev.imm_functionName(functionIndex);\n        });\n    }\n    /**\n     * Retrieves the advertised value of the <i>n</i>th function on the module.\n     *\n     * @param functionIndex : the index of the function for which the information is desired, starting at\n     * 0 for the first function.\n     *\n     * @return a short string (up to 6 characters) corresponding to the advertised value of the requested\n     * module function\n     *\n     * On failure, throws an exception or returns an empty string.\n     */\n    functionValue(functionIndex) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (!dev)\n                return '';\n            return dev.imm_functionValue(functionIndex);\n        });\n    }\n    /**\n     * Returns the logical name of the module.\n     *\n     * @return a string corresponding to the logical name of the module\n     *\n     * On failure, throws an exception or returns YModule.LOGICALNAME_INVALID.\n     */\n    get_logicalName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YDevice} **/\n            let dev = this.imm_getDev();\n            if (dev != null && this._cache._expiration <= this._yapi.GetTickCount()) {\n                return dev.getLogicalName();\n            }\n            /** @type {string|null} **/\n            let json_val = yield this._getAttr('logicalName');\n            return (json_val == null ? YModule.LOGICALNAME_INVALID : json_val);\n        });\n    }\n    set_logicalName(newval) {\n        const _super = Object.create(null, {\n            set_logicalName: { get: () => super.set_logicalName }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = yield _super.set_logicalName.call(this, newval);\n            let dev = this.imm_getDev();\n            if (dev != null) {\n                dev.imm_dropCache();\n            }\n            return res;\n        });\n    }\n    imm_flattenJsonStruct_internal(jsoncomplex) {\n        let decoded = JSON.parse(this._yapi.imm_bin2str(jsoncomplex));\n        let attrs = [];\n        for (let function_name in decoded) {\n            if (function_name == 'services')\n                continue;\n            let function_attrs = decoded[function_name];\n            for (let attr_name in function_attrs) {\n                let attr_value = function_attrs[attr_name];\n                if (attr_value === null || typeof attr_value === 'object') {\n                    continue;\n                }\n                let flat = function_name + '/' + attr_name + '=' + attr_value;\n                attrs.push(flat);\n            }\n        }\n        return this._yapi.imm_str2bin(JSON.stringify(attrs));\n    }\n    get_subDevices_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let baseUrl = yield this.get_url_internal();\n            if (!baseUrl) {\n                return [];\n            }\n            let hub = null;\n            let hubUrl = '';\n            for (let i = 0; i < this._yapi._hubs.length; i++) {\n                hubUrl = this._yapi._hubs[i].urlInfo.url;\n                if (baseUrl.slice(0, hubUrl.length) == hubUrl) {\n                    hub = this._yapi._hubs[i];\n                    break;\n                }\n            }\n            if (!hub || !hubUrl) {\n                return [];\n            }\n            let hubSerial = hub.serialByYdx[0];\n            if (hubSerial != this._serial) {\n                return [];\n            }\n            let res = [];\n            for (let serial in this._yapi._devs) {\n                let rooturl = this._yapi._devs[serial].imm_getRootUrl();\n                if (rooturl.substr(0, hubUrl.length) == hubUrl) {\n                    res.push(serial);\n                }\n            }\n            return res;\n        });\n    }\n    get_parentHub_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let baseUrl = yield this.get_url_internal();\n            if (!baseUrl) {\n                return '';\n            }\n            let hub = null;\n            for (let i = 0; i < this._yapi._hubs.length; i++) {\n                let hubUrl = this._yapi._hubs[i].urlInfo.url;\n                if (baseUrl.slice(0, hubUrl.length) == hubUrl) {\n                    hub = this._yapi._hubs[i];\n                    break;\n                }\n            }\n            if (!hub) {\n                return '';\n            }\n            let hubSerial = hub.serialByYdx[0];\n            if (hubSerial == this._serial) {\n                return '';\n            }\n            return hubSerial;\n        });\n    }\n    get_url_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {string} **/\n            let devid = this._serial;\n            if (devid == '') {\n                devid = yield this.get_serialNumber();\n            }\n            if (devid == YAPI_INVALID_STRING) {\n                return '';\n            }\n            let lockdev = this._yapi.imm_getDevice(devid);\n            if (!lockdev) {\n                return '';\n            }\n            return lockdev.imm_getRootUrl();\n        });\n    }\n    _startStopDevLog_internal(str_serial, bool_start) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let dev = this.imm_getDev();\n            if (dev != null) {\n                return dev.imm_registerLogCallback(this._logCallback);\n            }\n        });\n    }\n    //--- (generated code: YModule implementation)\n    imm_parseAttr(name, val) {\n        switch (name) {\n            case 'productName':\n                this._productName = val;\n                return 1;\n            case 'serialNumber':\n                this._serialNumber = val;\n                return 1;\n            case 'productId':\n                this._productId = val;\n                return 1;\n            case 'productRelease':\n                this._productRelease = val;\n                return 1;\n            case 'firmwareRelease':\n                this._firmwareRelease = val;\n                return 1;\n            case 'persistentSettings':\n                this._persistentSettings = val;\n                return 1;\n            case 'luminosity':\n                this._luminosity = val;\n                return 1;\n            case 'beacon':\n                this._beacon = val;\n                return 1;\n            case 'upTime':\n                this._upTime = val;\n                return 1;\n            case 'usbCurrent':\n                this._usbCurrent = val;\n                return 1;\n            case 'rebootCountdown':\n                this._rebootCountdown = val;\n                return 1;\n            case 'userVar':\n                this._userVar = val;\n                return 1;\n        }\n        return super.imm_parseAttr(name, val);\n    }\n    /**\n     * Returns the commercial name of the module, as set by the factory.\n     *\n     * @return a string corresponding to the commercial name of the module, as set by the factory\n     *\n     * On failure, throws an exception or returns YModule.PRODUCTNAME_INVALID.\n     */\n    get_productName() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            let dev;\n            if (this._cacheExpiration == 0) {\n                dev = this.imm_getDev();\n                if (!(dev == null)) {\n                    return dev.imm_getProductName();\n                }\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.PRODUCTNAME_INVALID;\n                }\n            }\n            res = this._productName;\n            return res;\n        });\n    }\n    /**\n     * Returns the serial number of the module, as set by the factory.\n     *\n     * @return a string corresponding to the serial number of the module, as set by the factory\n     *\n     * On failure, throws an exception or returns YModule.SERIALNUMBER_INVALID.\n     */\n    get_serialNumber() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            let dev;\n            if (this._cacheExpiration == 0) {\n                dev = this.imm_getDev();\n                if (!(dev == null)) {\n                    return dev.imm_getSerialNumber();\n                }\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.SERIALNUMBER_INVALID;\n                }\n            }\n            res = this._serialNumber;\n            return res;\n        });\n    }\n    /**\n     * Returns the USB device identifier of the module.\n     *\n     * @return an integer corresponding to the USB device identifier of the module\n     *\n     * On failure, throws an exception or returns YModule.PRODUCTID_INVALID.\n     */\n    get_productId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            let dev;\n            if (this._cacheExpiration == 0) {\n                dev = this.imm_getDev();\n                if (!(dev == null)) {\n                    return dev.imm_getProductId();\n                }\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.PRODUCTID_INVALID;\n                }\n            }\n            res = this._productId;\n            return res;\n        });\n    }\n    /**\n     * Returns the release number of the module hardware, preprogrammed at the factory.\n     * The original hardware release returns value 1, revision B returns value 2, etc.\n     *\n     * @return an integer corresponding to the release number of the module hardware, preprogrammed at the factory\n     *\n     * On failure, throws an exception or returns YModule.PRODUCTRELEASE_INVALID.\n     */\n    get_productRelease() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration == 0) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.PRODUCTRELEASE_INVALID;\n                }\n            }\n            res = this._productRelease;\n            return res;\n        });\n    }\n    /**\n     * Returns the version of the firmware embedded in the module.\n     *\n     * @return a string corresponding to the version of the firmware embedded in the module\n     *\n     * On failure, throws an exception or returns YModule.FIRMWARERELEASE_INVALID.\n     */\n    get_firmwareRelease() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.FIRMWARERELEASE_INVALID;\n                }\n            }\n            res = this._firmwareRelease;\n            return res;\n        });\n    }\n    /**\n     * Returns the current state of persistent module settings.\n     *\n     * @return a value among YModule.PERSISTENTSETTINGS_LOADED, YModule.PERSISTENTSETTINGS_SAVED and\n     * YModule.PERSISTENTSETTINGS_MODIFIED corresponding to the current state of persistent module settings\n     *\n     * On failure, throws an exception or returns YModule.PERSISTENTSETTINGS_INVALID.\n     */\n    get_persistentSettings() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.PERSISTENTSETTINGS_INVALID;\n                }\n            }\n            res = this._persistentSettings;\n            return res;\n        });\n    }\n    set_persistentSettings(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('persistentSettings', rest_val);\n        });\n    }\n    /**\n     * Returns the luminosity of the  module informative LEDs (from 0 to 100).\n     *\n     * @return an integer corresponding to the luminosity of the  module informative LEDs (from 0 to 100)\n     *\n     * On failure, throws an exception or returns YModule.LUMINOSITY_INVALID.\n     */\n    get_luminosity() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.LUMINOSITY_INVALID;\n                }\n            }\n            res = this._luminosity;\n            return res;\n        });\n    }\n    /**\n     * Changes the luminosity of the module informative leds. The parameter is a\n     * value between 0 and 100.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : an integer corresponding to the luminosity of the module informative leds\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_luminosity(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('luminosity', rest_val);\n        });\n    }\n    /**\n     * Returns the state of the localization beacon.\n     *\n     * @return either YModule.BEACON_OFF or YModule.BEACON_ON, according to the state of the localization beacon\n     *\n     * On failure, throws an exception or returns YModule.BEACON_INVALID.\n     */\n    get_beacon() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            let dev;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                dev = this.imm_getDev();\n                if (!(dev == null)) {\n                    return dev.imm_getBeacon();\n                }\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.BEACON_INVALID;\n                }\n            }\n            res = this._beacon;\n            return res;\n        });\n    }\n    /**\n     * Turns on or off the module localization beacon.\n     *\n     * @param newval : either YModule.BEACON_OFF or YModule.BEACON_ON\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_beacon(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('beacon', rest_val);\n        });\n    }\n    /**\n     * Returns the number of milliseconds spent since the module was powered on.\n     *\n     * @return an integer corresponding to the number of milliseconds spent since the module was powered on\n     *\n     * On failure, throws an exception or returns YModule.UPTIME_INVALID.\n     */\n    get_upTime() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.UPTIME_INVALID;\n                }\n            }\n            res = this._upTime;\n            return res;\n        });\n    }\n    /**\n     * Returns the current consumed by the module on the USB bus, in milli-amps.\n     *\n     * @return an integer corresponding to the current consumed by the module on the USB bus, in milli-amps\n     *\n     * On failure, throws an exception or returns YModule.USBCURRENT_INVALID.\n     */\n    get_usbCurrent() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.USBCURRENT_INVALID;\n                }\n            }\n            res = this._usbCurrent;\n            return res;\n        });\n    }\n    /**\n     * Returns the remaining number of seconds before the module restarts, or zero when no\n     * reboot has been scheduled.\n     *\n     * @return an integer corresponding to the remaining number of seconds before the module restarts, or zero when no\n     *         reboot has been scheduled\n     *\n     * On failure, throws an exception or returns YModule.REBOOTCOUNTDOWN_INVALID.\n     */\n    get_rebootCountdown() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.REBOOTCOUNTDOWN_INVALID;\n                }\n            }\n            res = this._rebootCountdown;\n            return res;\n        });\n    }\n    set_rebootCountdown(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('rebootCountdown', rest_val);\n        });\n    }\n    /**\n     * Returns the value previously stored in this attribute.\n     * On startup and after a device reboot, the value is always reset to zero.\n     *\n     * @return an integer corresponding to the value previously stored in this attribute\n     *\n     * On failure, throws an exception or returns YModule.USERVAR_INVALID.\n     */\n    get_userVar() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YModule.USERVAR_INVALID;\n                }\n            }\n            res = this._userVar;\n            return res;\n        });\n    }\n    /**\n     * Stores a 32 bit value in the device RAM. This attribute is at programmer disposal,\n     * should he need to store a state variable.\n     * On startup and after a device reboot, the value is always reset to zero.\n     *\n     * @param newval : an integer\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_userVar(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('userVar', rest_val);\n        });\n    }\n    /**\n     * Allows you to find a module from its serial number or from its logical name.\n     *\n     * This function does not require that the module is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YModule.isOnline() to test if the module is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a module by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     *\n     * If a call to this object's is_online() method returns FALSE although\n     * you are certain that the device is plugged, make sure that you did\n     * call registerHub() at application initialization time.\n     *\n     * @param func : a string containing either the serial number or\n     *         the logical name of the desired module\n     *\n     * @return a YModule object allowing you to drive the module\n     *         or get additional information on the module.\n     */\n    static FindModule(func) {\n        let obj;\n        let cleanHwId;\n        let modpos;\n        cleanHwId = func;\n        modpos = (func).indexOf('.module');\n        if (modpos != ((func).length - 7)) {\n            cleanHwId = func + '.module';\n        }\n        obj = YFunction._FindFromCache('Module', cleanHwId);\n        if (obj == null) {\n            obj = new YModule(YAPI, cleanHwId);\n            YFunction._AddToCache('Module', cleanHwId, obj);\n        }\n        return obj;\n    }\n    /**\n     * Retrieves a module for a given identifier in a YAPI context.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the module is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YModule.isOnline() to test if the module is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a module by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * @param yctx : a YAPI context\n     * @param func : a string that uniquely characterizes the module, for instance\n     *         MyDevice.module.\n     *\n     * @return a YModule object allowing you to drive the module.\n     */\n    static FindModuleInContext(yctx, func) {\n        let obj;\n        let cleanHwId;\n        let modpos;\n        cleanHwId = func;\n        modpos = (func).indexOf('.module');\n        if (modpos != ((func).length - 7)) {\n            cleanHwId = func + '.module';\n        }\n        obj = YFunction._FindFromCacheInContext(yctx, 'Module', cleanHwId);\n        if (obj == null) {\n            obj = new YModule(yctx, cleanHwId);\n            YFunction._AddToCache('Module', cleanHwId, obj);\n        }\n        return obj;\n    }\n    /**\n     * Registers the callback function that is invoked on every change of advertised value.\n     * The callback is invoked only during the execution of ySleep or yHandleEvents.\n     * This provides control over the time when the callback is triggered. For good responsiveness, remember to call\n     * one of these two functions periodically. To unregister a callback, pass a null pointer as argument.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the function object of which the value has changed, and the character string describing\n     *         the new advertised value.\n     * @noreturn\n     */\n    registerValueCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let val;\n            if (callback != null) {\n                yield YFunction._UpdateValueCallbackList(this, true);\n            }\n            else {\n                yield YFunction._UpdateValueCallbackList(this, false);\n            }\n            this._valueCallbackModule = callback;\n            // Immediately invoke value callback with current value\n            if (callback != null && (yield this.isOnline())) {\n                val = this._advertisedValue;\n                if (!(val == '')) {\n                    yield this._invokeValueCallback(val);\n                }\n            }\n            return 0;\n        });\n    }\n    _invokeValueCallback(value) {\n        const _super = Object.create(null, {\n            _invokeValueCallback: { get: () => super._invokeValueCallback }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._valueCallbackModule != null) {\n                try {\n                    yield this._valueCallbackModule(this, value);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in valueCallback:', e);\n                }\n            }\n            else {\n                _super._invokeValueCallback.call(this, value);\n            }\n            return 0;\n        });\n    }\n    get_productNameAndRevision() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let prodname;\n            let prodrel;\n            let fullname;\n            prodname = yield this.get_productName();\n            prodrel = yield this.get_productRelease();\n            if (prodrel > 1) {\n                fullname = prodname + ' rev. ' + String.fromCharCode(64 + prodrel);\n            }\n            else {\n                fullname = prodname;\n            }\n            return fullname;\n        });\n    }\n    /**\n     * Saves current settings in the nonvolatile memory of the module.\n     * Warning: the number of allowed save operations during a module life is\n     * limited (about 100000 cycles). Do not call this function within a loop.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    saveToFlash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_persistentSettings(1 /* YModule.PERSISTENTSETTINGS.SAVED */);\n        });\n    }\n    /**\n     * Reloads the settings stored in the nonvolatile memory, as\n     * when the module is powered on.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    revertFromFlash() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_persistentSettings(0 /* YModule.PERSISTENTSETTINGS.LOADED */);\n        });\n    }\n    /**\n     * Schedules a simple module reboot after the given number of seconds.\n     *\n     * @param secBeforeReboot : number of seconds before rebooting\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    reboot(secBeforeReboot) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_rebootCountdown(secBeforeReboot);\n        });\n    }\n    /**\n     * Schedules a module reboot into special firmware update mode.\n     *\n     * @param secBeforeReboot : number of seconds before rebooting\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    triggerFirmwareUpdate(secBeforeReboot) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_rebootCountdown(-secBeforeReboot);\n        });\n    }\n    _startStopDevLog(serial, start) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this._startStopDevLog_internal(serial, start);\n        });\n    }\n    /**\n     * Registers a device log callback function. This callback will be called each time\n     * that a module sends a new log message. Mostly useful to debug a Yoctopuce module.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the module object that emitted the log message, and the character string containing the log.\n     *         On failure, throws an exception or returns a negative error code.\n     */\n    registerLogCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let serial;\n            serial = yield this.get_serialNumber();\n            if (serial == YAPI_INVALID_STRING) {\n                return YAPI_DEVICE_NOT_FOUND;\n            }\n            this._logCallback = callback;\n            yield this._startStopDevLog(serial, callback != null);\n            return 0;\n        });\n    }\n    get_logCallback() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._logCallback;\n        });\n    }\n    /**\n     * Register a callback function, to be called when a persistent settings in\n     * a device configuration has been changed (e.g. change of unit, etc).\n     *\n     * @param callback : a procedure taking a YModule parameter, or null\n     *         to unregister a previously registered  callback.\n     */\n    registerConfigChangeCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (callback != null) {\n                yield YModule._updateModuleCallbackList(this, true);\n            }\n            else {\n                yield YModule._updateModuleCallbackList(this, false);\n            }\n            this._confChangeCallback = callback;\n            return 0;\n        });\n    }\n    _invokeConfigChangeCallback() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._confChangeCallback != null) {\n                try {\n                    yield this._confChangeCallback(this);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in configChangeCallback:', e);\n                }\n            }\n            return 0;\n        });\n    }\n    /**\n     * Register a callback function, to be called when the localization beacon of the module\n     * has been changed. The callback function should take two arguments: the YModule object of\n     * which the beacon has changed, and an integer describing the new beacon state.\n     *\n     * @param callback : The callback function to call, or null to unregister a\n     *         previously registered callback.\n     */\n    registerBeaconCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (callback != null) {\n                yield YModule._updateModuleCallbackList(this, true);\n            }\n            else {\n                yield YModule._updateModuleCallbackList(this, false);\n            }\n            this._beaconCallback = callback;\n            return 0;\n        });\n    }\n    _invokeBeaconCallback(beaconState) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._beaconCallback != null) {\n                try {\n                    yield this._beaconCallback(this, beaconState);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in beaconCallback:', e);\n                }\n            }\n            return 0;\n        });\n    }\n    /**\n     * Triggers a configuration change callback, to check if they are supported or not.\n     */\n    triggerConfigChangeCallback() {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this._setAttr('persistentSettings', '2');\n            return 0;\n        });\n    }\n    /**\n     * Tests whether the byn file is valid for this module. This method is useful to test if the module\n     * needs to be updated.\n     * It is possible to pass a directory as argument instead of a file. In this case, this method returns\n     * the path of the most recent\n     * appropriate .byn file. If the parameter onlynew is true, the function discards firmwares that are older or\n     * equal to the installed firmware.\n     *\n     * @param path : the path of a byn file or a directory that contains byn files\n     * @param onlynew : returns only files that are strictly newer\n     *\n     * @return the path of the byn file to use or a empty string if no byn files matches the requirement\n     *\n     * On failure, throws an exception or returns a string that start with \"error:\".\n     */\n    checkFirmware(path, onlynew) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let serial;\n            let release;\n            let tmp_res;\n            if (onlynew) {\n                release = this._yapi.imm_atoi(yield this.get_firmwareRelease());\n            }\n            else {\n                release = 0;\n            }\n            //may throw an exception\n            serial = yield this.get_serialNumber();\n            tmp_res = yield YFirmwareUpdate.CheckFirmware(serial, path, release);\n            if ((tmp_res).indexOf('error:') == 0) {\n                this._throw(YAPI_INVALID_ARGUMENT, tmp_res);\n            }\n            return tmp_res;\n        });\n    }\n    /**\n     * Prepares a firmware update of the module. This method returns a YFirmwareUpdate object which\n     * handles the firmware update process.\n     *\n     * @param path : the path of the .byn file to use.\n     * @param force : true to force the firmware update even if some prerequisites appear not to be met\n     *\n     * @return a YFirmwareUpdate object or NULL on error.\n     */\n    updateFirmwareEx(path, force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let serial;\n            let settings;\n            serial = yield this.get_serialNumber();\n            settings = yield this.get_allSettings();\n            if ((settings).length == 0) {\n                this._throw(YAPI_IO_ERROR, 'Unable to get device settings');\n                settings = this._yapi.imm_str2bin('error:Unable to get device settings');\n            }\n            return new YFirmwareUpdate(this._yapi, serial, path, settings, force);\n        });\n    }\n    /**\n     * Prepares a firmware update of the module. This method returns a YFirmwareUpdate object which\n     * handles the firmware update process.\n     *\n     * @param path : the path of the .byn file to use.\n     *\n     * @return a YFirmwareUpdate object or NULL on error.\n     */\n    updateFirmware(path) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.updateFirmwareEx(path, false);\n        });\n    }\n    /**\n     * Returns all the settings and uploaded files of the module. Useful to backup all the\n     * logical names, calibrations parameters, and uploaded files of a device.\n     *\n     * @return a binary buffer with all the settings.\n     *\n     * On failure, throws an exception or returns an binary object of size 0.\n     */\n    get_allSettings() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let settings;\n            let json;\n            let res;\n            let sep;\n            let name;\n            let item;\n            let t_type;\n            let id;\n            let url;\n            let file_data;\n            let file_data_bin;\n            let temp_data_bin;\n            let ext_settings;\n            let filelist = [];\n            let templist = [];\n            settings = yield this._download('api.json');\n            if ((settings).length == 0) {\n                return settings;\n            }\n            ext_settings = ', \"extras\":[';\n            templist = yield this.get_functionIds('Temperature');\n            sep = '';\n            for (let ii in templist) {\n                if (this._yapi.imm_atoi(yield this.get_firmwareRelease()) > 9000) {\n                    url = 'api/' + templist[ii] + '/sensorType';\n                    t_type = this._yapi.imm_bin2str(yield this._download(url));\n                    if (t_type == 'RES_NTC' || t_type == 'RES_LINEAR') {\n                        id = (templist[ii]).substr(11, (templist[ii]).length - 11);\n                        if (id == '') {\n                            id = '1';\n                        }\n                        temp_data_bin = yield this._download('extra.json?page=' + id);\n                        if ((temp_data_bin).length > 0) {\n                            item = sep + '{\"fid\":\"' + templist[ii] + '\", \"json\":' + this._yapi.imm_bin2str(temp_data_bin) + '}\\n';\n                            ext_settings = ext_settings + item;\n                            sep = ',';\n                        }\n                    }\n                }\n            }\n            ext_settings = ext_settings + '],\\n\"files\":[';\n            if (yield this.hasFunction('files')) {\n                json = yield this._download('files.json?a=dir&f=');\n                if ((json).length == 0) {\n                    return json;\n                }\n                filelist = this.imm_json_get_array(json);\n                sep = '';\n                for (let ii in filelist) {\n                    name = this.imm_json_get_key(this._yapi.imm_str2bin(filelist[ii]), 'name');\n                    if (((name).length > 0) && !(name == 'startupConf.json')) {\n                        file_data_bin = yield this._download(this.imm_escapeAttr(name));\n                        file_data = this._yapi.imm_bin2hexstr(file_data_bin);\n                        item = sep + '{\"name\":\"' + name + '\", \"data\":\"' + file_data + '\"}\\n';\n                        ext_settings = ext_settings + item;\n                        sep = ',';\n                    }\n                }\n            }\n            res = this._yapi.imm_str2bin('{ \"api\":' + this._yapi.imm_bin2str(settings) + ext_settings + ']}');\n            return res;\n        });\n    }\n    loadThermistorExtra(funcId, jsonExtra) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let values = [];\n            let url;\n            let curr;\n            let currTemp;\n            let ofs;\n            let size;\n            url = 'api/' + funcId + '.json?command=Z';\n            yield this._download(url);\n            // add records in growing resistance value\n            values = this.imm_json_get_array(this._yapi.imm_str2bin(jsonExtra));\n            ofs = 0;\n            size = values.length;\n            while (ofs + 1 < size) {\n                curr = values[ofs];\n                currTemp = values[ofs + 1];\n                url = 'api/' + funcId + '.json?command=m' + curr + ':' + currTemp;\n                yield this._download(url);\n                ofs = ofs + 2;\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    set_extraSettings(jsonExtra) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let extras = [];\n            let functionId;\n            let data;\n            extras = this.imm_json_get_array(this._yapi.imm_str2bin(jsonExtra));\n            for (let ii in extras) {\n                functionId = this.imm_get_json_path(extras[ii], 'fid');\n                functionId = this.imm_decode_json_string(functionId);\n                data = this.imm_get_json_path(extras[ii], 'json');\n                if (yield this.hasFunction(functionId)) {\n                    yield this.loadThermistorExtra(functionId, data);\n                }\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Restores all the settings and uploaded files to the module.\n     * This method is useful to restore all the logical names and calibrations parameters,\n     * uploaded files etc. of a device from a backup.\n     * Remember to call the saveToFlash() method of the module if the\n     * modifications must be kept.\n     *\n     * @param settings : a binary buffer with all the settings.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_allSettingsAndFiles(settings) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let down;\n            let json;\n            let json_api;\n            let json_files;\n            let json_extra;\n            let fuperror;\n            let globalres;\n            fuperror = 0;\n            json = this._yapi.imm_bin2str(settings);\n            json_api = this.imm_get_json_path(json, 'api');\n            if (json_api == '') {\n                return yield this.set_allSettings(settings);\n            }\n            json_extra = this.imm_get_json_path(json, 'extras');\n            if (!(json_extra == '')) {\n                yield this.set_extraSettings(json_extra);\n            }\n            yield this.set_allSettings(this._yapi.imm_str2bin(json_api));\n            if (yield this.hasFunction('files')) {\n                let files = [];\n                let res;\n                let name;\n                let data;\n                down = yield this._download('files.json?a=format');\n                res = this.imm_get_json_path(this._yapi.imm_bin2str(down), 'res');\n                res = this.imm_decode_json_string(res);\n                if (!(res == 'ok')) {\n                    return this._throw(YAPI_IO_ERROR, 'format failed', YAPI_IO_ERROR);\n                }\n                json_files = this.imm_get_json_path(json, 'files');\n                files = this.imm_json_get_array(this._yapi.imm_str2bin(json_files));\n                for (let ii in files) {\n                    name = this.imm_get_json_path(files[ii], 'name');\n                    name = this.imm_decode_json_string(name);\n                    data = this.imm_get_json_path(files[ii], 'data');\n                    data = this.imm_decode_json_string(data);\n                    if (name == '') {\n                        fuperror = fuperror + 1;\n                    }\n                    else {\n                        yield this._upload(name, this._yapi.imm_hexstr2bin(data));\n                    }\n                }\n            }\n            // Apply settings a second time for file-dependent settings and dynamic sensor nodes\n            globalres = yield this.set_allSettings(this._yapi.imm_str2bin(json_api));\n            if (!(fuperror == 0)) {\n                return this._throw(YAPI_IO_ERROR, 'Error during file upload', YAPI_IO_ERROR);\n            }\n            return globalres;\n        });\n    }\n    /**\n     * Tests if the device includes a specific function. This method takes a function identifier\n     * and returns a boolean.\n     *\n     * @param funcId : the requested function identifier\n     *\n     * @return true if the device has the function identifier\n     */\n    hasFunction(funcId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let count;\n            let i;\n            let fid;\n            count = yield this.functionCount();\n            i = 0;\n            while (i < count) {\n                fid = yield this.functionId(i);\n                if (fid == funcId) {\n                    return true;\n                }\n                i = i + 1;\n            }\n            return false;\n        });\n    }\n    /**\n     * Retrieve all hardware identifier that match the type passed in argument.\n     *\n     * @param funType : The type of function (Relay, LightSensor, Voltage,...)\n     *\n     * @return an array of strings.\n     */\n    get_functionIds(funType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let count;\n            let i;\n            let ftype;\n            let res = [];\n            count = yield this.functionCount();\n            i = 0;\n            while (i < count) {\n                ftype = yield this.functionType(i);\n                if (ftype == funType) {\n                    res.push(yield this.functionId(i));\n                }\n                else {\n                    ftype = yield this.functionBaseType(i);\n                    if (ftype == funType) {\n                        res.push(yield this.functionId(i));\n                    }\n                }\n                i = i + 1;\n            }\n            return res;\n        });\n    }\n    imm_flattenJsonStruct(jsoncomplex) {\n        return this.imm_flattenJsonStruct_internal(jsoncomplex);\n    }\n    calibVersion(cparams) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (cparams == '0,') {\n                return 3;\n            }\n            if ((cparams).indexOf(',') >= 0) {\n                if ((cparams).indexOf(' ') > 0) {\n                    return 3;\n                }\n                else {\n                    return 1;\n                }\n            }\n            if (cparams == '' || cparams == '0') {\n                return 1;\n            }\n            if (((cparams).length < 2) || ((cparams).indexOf('.') >= 0)) {\n                return 0;\n            }\n            else {\n                return 2;\n            }\n        });\n    }\n    calibScale(unit_name, sensorType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (unit_name == 'g' || unit_name == 'gauss' || unit_name == 'W') {\n                return 1000;\n            }\n            if (unit_name == 'C') {\n                if (sensorType == '') {\n                    return 16;\n                }\n                if (this._yapi.imm_atoi(sensorType) < 8) {\n                    return 16;\n                }\n                else {\n                    return 100;\n                }\n            }\n            if (unit_name == 'm' || unit_name == 'deg') {\n                return 10;\n            }\n            return 1;\n        });\n    }\n    calibOffset(unit_name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (unit_name == '% RH' || unit_name == 'mbar' || unit_name == 'lx') {\n                return 0;\n            }\n            return 32767;\n        });\n    }\n    calibConvert(param, currentFuncValue, unit_name, sensorType) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let paramVer;\n            let funVer;\n            let funScale;\n            let funOffset;\n            let paramScale;\n            let paramOffset;\n            let words = [];\n            let words_str = [];\n            let calibData = [];\n            let iCalib = [];\n            let calibType;\n            let i;\n            let maxSize;\n            let ratio;\n            let nPoints;\n            let wordVal;\n            // Initial guess for parameter encoding\n            paramVer = yield this.calibVersion(param);\n            funVer = yield this.calibVersion(currentFuncValue);\n            funScale = yield this.calibScale(unit_name, sensorType);\n            funOffset = yield this.calibOffset(unit_name);\n            paramScale = funScale;\n            paramOffset = funOffset;\n            if (funVer < 3) {\n                // Read the effective device scale if available\n                if (funVer == 2) {\n                    words = this._yapi.imm_decodeWords(currentFuncValue);\n                    if ((words[0] == 1366) && (words[1] == 12500)) {\n                        // Yocto-3D RefFrame used a special encoding\n                        funScale = 1;\n                        funOffset = 0;\n                    }\n                    else {\n                        funScale = words[1];\n                        funOffset = words[0];\n                    }\n                }\n                else {\n                    if (funVer == 1) {\n                        if (currentFuncValue == '' || (this._yapi.imm_atoi(currentFuncValue) > 10)) {\n                            funScale = 0;\n                        }\n                    }\n                }\n            }\n            calibData.length = 0;\n            calibType = 0;\n            if (paramVer < 3) {\n                // Handle old 16 bit parameters formats\n                if (paramVer == 2) {\n                    words = this._yapi.imm_decodeWords(param);\n                    if ((words[0] == 1366) && (words[1] == 12500)) {\n                        // Yocto-3D RefFrame used a special encoding\n                        paramScale = 1;\n                        paramOffset = 0;\n                    }\n                    else {\n                        paramScale = words[1];\n                        paramOffset = words[0];\n                    }\n                    if ((words.length >= 3) && (words[2] > 0)) {\n                        maxSize = 3 + 2 * ((words[2]) % (10));\n                        if (maxSize > words.length) {\n                            maxSize = words.length;\n                        }\n                        i = 3;\n                        while (i < maxSize) {\n                            calibData.push(words[i]);\n                            i = i + 1;\n                        }\n                    }\n                }\n                else {\n                    if (paramVer == 1) {\n                        words_str = (param).split(',');\n                        for (let ii in words_str) {\n                            words.push(this._yapi.imm_atoi(words_str[ii]));\n                        }\n                        if (param == '' || (words[0] > 10)) {\n                            paramScale = 0;\n                        }\n                        if ((words.length > 0) && (words[0] > 0)) {\n                            maxSize = 1 + 2 * ((words[0]) % (10));\n                            if (maxSize > words.length) {\n                                maxSize = words.length;\n                            }\n                            i = 1;\n                            while (i < maxSize) {\n                                calibData.push(words[i]);\n                                i = i + 1;\n                            }\n                        }\n                    }\n                    else {\n                        if (paramVer == 0) {\n                            ratio = parseFloat(param);\n                            if (ratio > 0) {\n                                calibData.push(0.0);\n                                calibData.push(0.0);\n                                calibData.push(Math.round(65535 / ratio));\n                                calibData.push(65535.0);\n                            }\n                        }\n                    }\n                }\n                i = 0;\n                while (i < calibData.length) {\n                    if (paramScale > 0) {\n                        // scalar decoding\n                        calibData[i] = (calibData[i] - paramOffset) / paramScale;\n                    }\n                    else {\n                        // floating-point decoding\n                        calibData[i] = this._yapi.imm_decimalToDouble(Math.round(calibData[i]));\n                    }\n                    i = i + 1;\n                }\n            }\n            else {\n                // Handle latest 32bit parameter format\n                iCalib = this._yapi.imm_decodeFloats(param);\n                calibType = Math.round(iCalib[0] / 1000.0);\n                if (calibType >= 30) {\n                    calibType = calibType - 30;\n                }\n                i = 1;\n                while (i < iCalib.length) {\n                    calibData.push(iCalib[i] / 1000.0);\n                    i = i + 1;\n                }\n            }\n            if (funVer >= 3) {\n                // Encode parameters in new format\n                if (calibData.length == 0) {\n                    param = '0,';\n                }\n                else {\n                    param = (30 + calibType).toString();\n                    i = 0;\n                    while (i < calibData.length) {\n                        if (((i) & (1)) > 0) {\n                            param = param + ':';\n                        }\n                        else {\n                            param = param + ' ';\n                        }\n                        param = param + Math.round(calibData[i] * 1000.0 / 1000.0).toString();\n                        i = i + 1;\n                    }\n                    param = param + ',';\n                }\n            }\n            else {\n                if (funVer >= 1) {\n                    // Encode parameters for older devices\n                    nPoints = (((calibData.length) / (2)) >> 0);\n                    param = (nPoints).toString();\n                    i = 0;\n                    while (i < 2 * nPoints) {\n                        if (funScale == 0) {\n                            wordVal = this._yapi.imm_doubleToDecimal(Math.round(calibData[i]));\n                        }\n                        else {\n                            wordVal = calibData[i] * funScale + funOffset;\n                        }\n                        param = param + ',' + (Math.round(wordVal)).toString();\n                        i = i + 1;\n                    }\n                }\n                else {\n                    // Initial V0 encoding used for old Yocto-Light\n                    if (calibData.length == 4) {\n                        param = (Math.round(1000 * (calibData[3] - calibData[1]) / calibData[2] - calibData[0])).toString();\n                    }\n                }\n            }\n            return param;\n        });\n    }\n    _tryExec(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            let done;\n            res = YAPI_SUCCESS;\n            done = 1;\n            try {\n                yield this._download(url);\n            }\n            catch (e) {\n                done = 0;\n            }\n            if (done == 0) {\n                // retry silently after a short wait\n                try {\n                    YAPI.Sleep(500);\n                    yield this._download(url);\n                }\n                catch (e) {\n                    // second failure, return error code\n                    res = yield this.get_errorType();\n                }\n            }\n            return res;\n        });\n    }\n    /**\n     * Restores all the settings of the device. Useful to restore all the logical names and calibrations parameters\n     * of a module from a backup.Remember to call the saveToFlash() method of the module if the\n     * modifications must be kept.\n     *\n     * @param settings : a binary buffer with all the settings.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_allSettings(settings) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let restoreLast = [];\n            let old_json_flat;\n            let old_dslist = [];\n            let old_jpath = [];\n            let old_jpath_len = [];\n            let old_val_arr = [];\n            let actualSettings;\n            let new_dslist = [];\n            let new_jpath = [];\n            let new_jpath_len = [];\n            let new_val_arr = [];\n            let cpos;\n            let eqpos;\n            let leng;\n            let i;\n            let j;\n            let subres;\n            let res;\n            let njpath;\n            let jpath;\n            let fun;\n            let attr;\n            let value;\n            let url;\n            let tmp;\n            let new_calib;\n            let sensorType;\n            let unit_name;\n            let newval;\n            let oldval;\n            let old_calib;\n            let each_str;\n            let do_update;\n            let found;\n            res = YAPI_SUCCESS;\n            tmp = this._yapi.imm_bin2str(settings);\n            tmp = this.imm_get_json_path(tmp, 'api');\n            if (!(tmp == '')) {\n                settings = this._yapi.imm_str2bin(tmp);\n            }\n            oldval = '';\n            newval = '';\n            old_json_flat = this.imm_flattenJsonStruct(settings);\n            old_dslist = this.imm_json_get_array(old_json_flat);\n            for (let ii in old_dslist) {\n                each_str = this.imm_json_get_string(this._yapi.imm_str2bin(old_dslist[ii]));\n                // split json path and attr\n                leng = (each_str).length;\n                eqpos = (each_str).indexOf('=');\n                if ((eqpos < 0) || (leng == 0)) {\n                    this._throw(YAPI_INVALID_ARGUMENT, 'Invalid settings');\n                    return YAPI_INVALID_ARGUMENT;\n                }\n                jpath = (each_str).substr(0, eqpos);\n                eqpos = eqpos + 1;\n                value = (each_str).substr(eqpos, leng - eqpos);\n                old_jpath.push(jpath);\n                old_jpath_len.push((jpath).length);\n                old_val_arr.push(value);\n            }\n            try {\n                actualSettings = yield this._download('api.json');\n            }\n            catch (e) {\n                // retry silently after a short wait\n                YAPI.Sleep(500);\n                actualSettings = yield this._download('api.json');\n            }\n            actualSettings = this.imm_flattenJsonStruct(actualSettings);\n            new_dslist = this.imm_json_get_array(actualSettings);\n            for (let ii in new_dslist) {\n                // remove quotes\n                each_str = this.imm_json_get_string(this._yapi.imm_str2bin(new_dslist[ii]));\n                // split json path and attr\n                leng = (each_str).length;\n                eqpos = (each_str).indexOf('=');\n                if ((eqpos < 0) || (leng == 0)) {\n                    this._throw(YAPI_INVALID_ARGUMENT, 'Invalid settings');\n                    return YAPI_INVALID_ARGUMENT;\n                }\n                jpath = (each_str).substr(0, eqpos);\n                eqpos = eqpos + 1;\n                value = (each_str).substr(eqpos, leng - eqpos);\n                new_jpath.push(jpath);\n                new_jpath_len.push((jpath).length);\n                new_val_arr.push(value);\n            }\n            i = 0;\n            while (i < new_jpath.length) {\n                njpath = new_jpath[i];\n                leng = (njpath).length;\n                cpos = (njpath).indexOf('/');\n                if ((cpos < 0) || (leng == 0)) {\n                    continue;\n                }\n                fun = (njpath).substr(0, cpos);\n                cpos = cpos + 1;\n                attr = (njpath).substr(cpos, leng - cpos);\n                do_update = true;\n                if (fun == 'services') {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'firmwareRelease')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'usbCurrent')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'upTime')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'persistentSettings')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'adminPassword')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'userPassword')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'rebootCountdown')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'advertisedValue')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'poeCurrent')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'readiness')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'ipAddress')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'subnetMask')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'router')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'linkQuality')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'ssid')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'channel')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'security')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'message')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'signalValue')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'currentValue')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'currentRawValue')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'currentRunIndex')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'pulseTimer')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'lastTimePressed')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'lastTimeReleased')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'filesCount')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'freeSpace')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'timeUTC')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'rtcTime')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'unixTime')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'dateTime')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'rawValue')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'lastMsg')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'delayedPulseTimer')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'rxCount')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'txCount')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'msgCount')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'rxMsgCount')) {\n                    do_update = false;\n                }\n                if ((do_update) && (attr == 'txMsgCount')) {\n                    do_update = false;\n                }\n                if (do_update) {\n                    do_update = false;\n                    newval = new_val_arr[i];\n                    j = 0;\n                    found = false;\n                    while ((j < old_jpath.length) && !(found)) {\n                        if ((new_jpath_len[i] == old_jpath_len[j]) && (new_jpath[i] == old_jpath[j])) {\n                            found = true;\n                            oldval = old_val_arr[j];\n                            if (!(newval == oldval)) {\n                                do_update = true;\n                            }\n                        }\n                        j = j + 1;\n                    }\n                }\n                if (do_update) {\n                    if (attr == 'calibrationParam') {\n                        old_calib = '';\n                        unit_name = '';\n                        sensorType = '';\n                        new_calib = newval;\n                        j = 0;\n                        found = false;\n                        while ((j < old_jpath.length) && !(found)) {\n                            if ((new_jpath_len[i] == old_jpath_len[j]) && (new_jpath[i] == old_jpath[j])) {\n                                found = true;\n                                old_calib = old_val_arr[j];\n                            }\n                            j = j + 1;\n                        }\n                        tmp = fun + '/unit';\n                        j = 0;\n                        found = false;\n                        while ((j < new_jpath.length) && !(found)) {\n                            if (tmp == new_jpath[j]) {\n                                found = true;\n                                unit_name = new_val_arr[j];\n                            }\n                            j = j + 1;\n                        }\n                        tmp = fun + '/sensorType';\n                        j = 0;\n                        found = false;\n                        while ((j < new_jpath.length) && !(found)) {\n                            if (tmp == new_jpath[j]) {\n                                found = true;\n                                sensorType = new_val_arr[j];\n                            }\n                            j = j + 1;\n                        }\n                        newval = yield this.calibConvert(old_calib, new_val_arr[i], unit_name, sensorType);\n                        url = 'api/' + fun + '.json?' + attr + '=' + this.imm_escapeAttr(newval);\n                        subres = yield this._tryExec(url);\n                        if ((res == YAPI_SUCCESS) && (subres != YAPI_SUCCESS)) {\n                            res = subres;\n                        }\n                    }\n                    else {\n                        url = 'api/' + fun + '.json?' + attr + '=' + this.imm_escapeAttr(oldval);\n                        if (attr == 'resolution') {\n                            restoreLast.push(url);\n                        }\n                        else {\n                            subres = yield this._tryExec(url);\n                            if ((res == YAPI_SUCCESS) && (subres != YAPI_SUCCESS)) {\n                                res = subres;\n                            }\n                        }\n                    }\n                }\n                i = i + 1;\n            }\n            for (let ii in restoreLast) {\n                subres = yield this._tryExec(restoreLast[ii]);\n                if ((res == YAPI_SUCCESS) && (subres != YAPI_SUCCESS)) {\n                    res = subres;\n                }\n            }\n            yield this.clearCache();\n            return res;\n        });\n    }\n    /**\n     * Adds a file to the uploaded data at the next HTTP callback.\n     * This function only affects the next HTTP callback and only works in\n     * HTTP callback mode.\n     *\n     * @param filename : the name of the file to upload at the next HTTP callback\n     *\n     * @return nothing.\n     */\n    addFileToHTTPCallback(filename) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let content;\n            content = yield this._download('@YCB+' + filename);\n            if ((content).length == 0) {\n                return YAPI_NOT_SUPPORTED;\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Returns the unique hardware identifier of the module.\n     * The unique hardware identifier is made of the device serial\n     * number followed by string \".module\".\n     *\n     * @return a string that uniquely identifies the module\n     */\n    get_hardwareId() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let serial;\n            serial = yield this.get_serialNumber();\n            return serial + '.module';\n        });\n    }\n    /**\n     * Downloads the specified built-in file and returns a binary buffer with its content.\n     *\n     * @param pathname : name of the new file to load\n     *\n     * @return a binary buffer with the file content\n     *\n     * On failure, throws an exception or returns  YAPI.INVALID_STRING.\n     */\n    download(pathname) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this._download(pathname);\n        });\n    }\n    /**\n     * Returns the icon of the module. The icon is a PNG image and does not\n     * exceeds 1536 bytes.\n     *\n     * @return a binary buffer with module icon, in png format.\n     *         On failure, throws an exception or returns  YAPI.INVALID_STRING.\n     */\n    get_icon2d() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this._download('icon2d.png');\n        });\n    }\n    /**\n     * Returns a string with last logs of the module. This method return only\n     * logs that are still in the module.\n     *\n     * @return a string with last logs of the module.\n     *         On failure, throws an exception or returns  YAPI.INVALID_STRING.\n     */\n    get_lastLogs() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let content;\n            content = yield this._download('logs.txt');\n            return this._yapi.imm_bin2str(content);\n        });\n    }\n    /**\n     * Adds a text message to the device logs. This function is useful in\n     * particular to trace the execution of HTTP callbacks. If a newline\n     * is desired after the message, it must be included in the string.\n     *\n     * @param text : the string to append to the logs.\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    log(text) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this._upload('logs.txt', this._yapi.imm_str2bin(text));\n        });\n    }\n    /**\n     * Returns a list of all the modules that are plugged into the current module.\n     * This method only makes sense when called for a YoctoHub/VirtualHub.\n     * Otherwise, an empty array will be returned.\n     *\n     * @return an array of strings containing the sub modules.\n     */\n    get_subDevices() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.get_subDevices_internal();\n        });\n    }\n    /**\n     * Returns the serial number of the YoctoHub on which this module is connected.\n     * If the module is connected by USB, or if the module is the root YoctoHub, an\n     * empty string is returned.\n     *\n     * @return a string with the serial number of the YoctoHub or an empty string\n     */\n    get_parentHub() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.get_parentHub_internal();\n        });\n    }\n    /**\n     * Returns the URL used to access the module. If the module is connected by USB, the\n     * string 'usb' is returned.\n     *\n     * @return a string with the URL of the module.\n     */\n    get_url() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.get_url_internal();\n        });\n    }\n    /**\n     * Continues the module enumeration started using yFirstModule().\n     * Caution: You can't make any assumption about the returned modules order.\n     * If you want to find a specific module, use Module.findModule()\n     * and a hardwareID or a logical name.\n     *\n     * @return a pointer to a YModule object, corresponding to\n     *         the next module found, or a null pointer\n     *         if there are no more modules to enumerate.\n     */\n    nextModule() {\n        let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n        if (resolve.errorType != YAPI.SUCCESS)\n            return null;\n        let next_hwid = this._yapi.imm_getNextHardwareId(this._className, resolve.result);\n        if (next_hwid == null)\n            return null;\n        return YModule.FindModuleInContext(this._yapi, next_hwid);\n    }\n    /**\n     * Starts the enumeration of modules currently accessible.\n     * Use the method YModule.nextModule() to iterate on the\n     * next modules.\n     *\n     * @return a pointer to a YModule object, corresponding to\n     *         the first module currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstModule() {\n        let next_hwid = YAPI.imm_getFirstHardwareId('Module');\n        if (next_hwid == null)\n            return null;\n        return YModule.FindModule(next_hwid);\n    }\n    /**\n     * Retrieves the first Module in a given context\n     *\n     * @param yctx {YAPIContext}\n     *\n     * @returns {YModule}\n     */\n    static FirstModuleInContext(yctx) {\n        let next_hwid = yctx.imm_getFirstHardwareId('Module');\n        if (next_hwid == null)\n            return null;\n        return YModule.FindModuleInContext(yctx, next_hwid);\n    }\n}\n// API symbols as static members\nYModule.PRODUCTNAME_INVALID = YAPI_INVALID_STRING;\nYModule.SERIALNUMBER_INVALID = YAPI_INVALID_STRING;\nYModule.PRODUCTID_INVALID = YAPI_INVALID_UINT;\nYModule.PRODUCTRELEASE_INVALID = YAPI_INVALID_UINT;\nYModule.FIRMWARERELEASE_INVALID = YAPI_INVALID_STRING;\nYModule.PERSISTENTSETTINGS_LOADED = 0;\nYModule.PERSISTENTSETTINGS_SAVED = 1;\nYModule.PERSISTENTSETTINGS_MODIFIED = 2;\nYModule.PERSISTENTSETTINGS_INVALID = -1;\nYModule.LUMINOSITY_INVALID = YAPI_INVALID_UINT;\nYModule.BEACON_OFF = 0;\nYModule.BEACON_ON = 1;\nYModule.BEACON_INVALID = -1;\nYModule.UPTIME_INVALID = YAPI_INVALID_LONG;\nYModule.USBCURRENT_INVALID = YAPI_INVALID_UINT;\nYModule.REBOOTCOUNTDOWN_INVALID = YAPI_INVALID_INT;\nYModule.USERVAR_INVALID = YAPI_INVALID_INT;\n//--- (generated code: YSensor class start)\n/**\n * YSensor Class: Sensor function interface.\n *\n * The YSensor class is the parent class for all Yoctopuce sensor types. It can be\n * used to read the current value and unit of any sensor, read the min/max\n * value, configure autonomous recording frequency and access recorded data.\n * It also provide a function to register a callback invoked each time the\n * observed value changes, or at a predefined interval. Using this class rather\n * than a specific subclass makes it possible to create generic applications\n * that work with any Yoctopuce sensor, even those that do not yet exist.\n * Note: The YAnButton class is the only analog input which does not inherit\n * from YSensor.\n */\n//--- (end of generated code: YSensor class start)\nexport class YSensor extends YFunction {\n    //--- (end of generated code: YSensor attributes declaration)\n    constructor(yapi, func) {\n        //--- (generated code: YSensor constructor)\n        super(yapi, func);\n        this._unit = YSensor.UNIT_INVALID;\n        this._currentValue = YSensor.CURRENTVALUE_INVALID;\n        this._lowestValue = YSensor.LOWESTVALUE_INVALID;\n        this._highestValue = YSensor.HIGHESTVALUE_INVALID;\n        this._currentRawValue = YSensor.CURRENTRAWVALUE_INVALID;\n        this._logFrequency = YSensor.LOGFREQUENCY_INVALID;\n        this._reportFrequency = YSensor.REPORTFREQUENCY_INVALID;\n        this._advMode = YSensor.ADVMODE_INVALID;\n        this._calibrationParam = YSensor.CALIBRATIONPARAM_INVALID;\n        this._resolution = YSensor.RESOLUTION_INVALID;\n        this._sensorState = YSensor.SENSORSTATE_INVALID;\n        this._valueCallbackSensor = null;\n        this._timedReportCallbackSensor = null;\n        this._prevTimedReport = 0;\n        this._iresol = 0;\n        this._offset = 0;\n        this._scale = 0;\n        this._decexp = 0;\n        this._caltyp = 0;\n        this._calpar = [];\n        this._calraw = [];\n        this._calref = [];\n        this.imm_calhdl = null;\n        // API symbols as object properties\n        this.UNIT_INVALID = YAPI_INVALID_STRING;\n        this.CURRENTVALUE_INVALID = YAPI_INVALID_DOUBLE;\n        this.LOWESTVALUE_INVALID = YAPI_INVALID_DOUBLE;\n        this.HIGHESTVALUE_INVALID = YAPI_INVALID_DOUBLE;\n        this.CURRENTRAWVALUE_INVALID = YAPI_INVALID_DOUBLE;\n        this.LOGFREQUENCY_INVALID = YAPI_INVALID_STRING;\n        this.REPORTFREQUENCY_INVALID = YAPI_INVALID_STRING;\n        this.ADVMODE_IMMEDIATE = 0;\n        this.ADVMODE_PERIOD_AVG = 1;\n        this.ADVMODE_PERIOD_MIN = 2;\n        this.ADVMODE_PERIOD_MAX = 3;\n        this.ADVMODE_INVALID = -1;\n        this.CALIBRATIONPARAM_INVALID = YAPI_INVALID_STRING;\n        this.RESOLUTION_INVALID = YAPI_INVALID_DOUBLE;\n        this.SENSORSTATE_INVALID = YAPI_INVALID_INT;\n        this._className = 'Sensor';\n        //--- (end of generated code: YSensor constructor)\n    }\n    //--- (generated code: YSensor implementation)\n    imm_parseAttr(name, val) {\n        switch (name) {\n            case 'unit':\n                this._unit = val;\n                return 1;\n            case 'currentValue':\n                this._currentValue = Math.round(val / 65.536) / 1000.0;\n                return 1;\n            case 'lowestValue':\n                this._lowestValue = Math.round(val / 65.536) / 1000.0;\n                return 1;\n            case 'highestValue':\n                this._highestValue = Math.round(val / 65.536) / 1000.0;\n                return 1;\n            case 'currentRawValue':\n                this._currentRawValue = Math.round(val / 65.536) / 1000.0;\n                return 1;\n            case 'logFrequency':\n                this._logFrequency = val;\n                return 1;\n            case 'reportFrequency':\n                this._reportFrequency = val;\n                return 1;\n            case 'advMode':\n                this._advMode = val;\n                return 1;\n            case 'calibrationParam':\n                this._calibrationParam = val;\n                return 1;\n            case 'resolution':\n                this._resolution = Math.round(val / 65.536) / 1000.0;\n                return 1;\n            case 'sensorState':\n                this._sensorState = val;\n                return 1;\n        }\n        return super.imm_parseAttr(name, val);\n    }\n    /**\n     * Returns the measuring unit for the measure.\n     *\n     * @return a string corresponding to the measuring unit for the measure\n     *\n     * On failure, throws an exception or returns YSensor.UNIT_INVALID.\n     */\n    get_unit() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.UNIT_INVALID;\n                }\n            }\n            res = this._unit;\n            return res;\n        });\n    }\n    /**\n     * Returns the current value of the measure, in the specified unit, as a floating point number.\n     * Note that a get_currentValue() call will *not* start a measure in the device, it\n     * will just return the last measure that occurred in the device. Indeed, internally, each Yoctopuce\n     * devices is continuously making measurements at a hardware specific frequency.\n     *\n     * If continuously calling  get_currentValue() leads you to performances issues, then\n     * you might consider to switch to callback programming model. Check the \"advanced\n     * programming\" chapter in in your device user manual for more information.\n     *\n     * @return a floating point number corresponding to the current value of the measure, in the specified\n     * unit, as a floating point number\n     *\n     * On failure, throws an exception or returns YSensor.CURRENTVALUE_INVALID.\n     */\n    get_currentValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.CURRENTVALUE_INVALID;\n                }\n            }\n            res = yield this._applyCalibration(this._currentRawValue);\n            if (res == YSensor.CURRENTVALUE_INVALID) {\n                res = this._currentValue;\n            }\n            res = res * this._iresol;\n            res = Math.round(res) / this._iresol;\n            return res;\n        });\n    }\n    /**\n     * Changes the recorded minimal value observed. Can be used to reset the value returned\n     * by get_lowestValue().\n     *\n     * @param newval : a floating point number corresponding to the recorded minimal value observed\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_lowestValue(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(Math.round(newval * 65536.0));\n            return yield this._setAttr('lowestValue', rest_val);\n        });\n    }\n    /**\n     * Returns the minimal value observed for the measure since the device was started.\n     * Can be reset to an arbitrary value thanks to set_lowestValue().\n     *\n     * @return a floating point number corresponding to the minimal value observed for the measure since\n     * the device was started\n     *\n     * On failure, throws an exception or returns YSensor.LOWESTVALUE_INVALID.\n     */\n    get_lowestValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.LOWESTVALUE_INVALID;\n                }\n            }\n            res = this._lowestValue * this._iresol;\n            res = Math.round(res) / this._iresol;\n            return res;\n        });\n    }\n    /**\n     * Changes the recorded maximal value observed. Can be used to reset the value returned\n     * by get_lowestValue().\n     *\n     * @param newval : a floating point number corresponding to the recorded maximal value observed\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_highestValue(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(Math.round(newval * 65536.0));\n            return yield this._setAttr('highestValue', rest_val);\n        });\n    }\n    /**\n     * Returns the maximal value observed for the measure since the device was started.\n     * Can be reset to an arbitrary value thanks to set_highestValue().\n     *\n     * @return a floating point number corresponding to the maximal value observed for the measure since\n     * the device was started\n     *\n     * On failure, throws an exception or returns YSensor.HIGHESTVALUE_INVALID.\n     */\n    get_highestValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.HIGHESTVALUE_INVALID;\n                }\n            }\n            res = this._highestValue * this._iresol;\n            res = Math.round(res) / this._iresol;\n            return res;\n        });\n    }\n    /**\n     * Returns the uncalibrated, unrounded raw value returned by the\n     * sensor, in the specified unit, as a floating point number.\n     *\n     * @return a floating point number corresponding to the uncalibrated, unrounded raw value returned by the\n     *         sensor, in the specified unit, as a floating point number\n     *\n     * On failure, throws an exception or returns YSensor.CURRENTRAWVALUE_INVALID.\n     */\n    get_currentRawValue() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.CURRENTRAWVALUE_INVALID;\n                }\n            }\n            res = this._currentRawValue;\n            return res;\n        });\n    }\n    /**\n     * Returns the datalogger recording frequency for this function, or \"OFF\"\n     * when measures are not stored in the data logger flash memory.\n     *\n     * @return a string corresponding to the datalogger recording frequency for this function, or \"OFF\"\n     *         when measures are not stored in the data logger flash memory\n     *\n     * On failure, throws an exception or returns YSensor.LOGFREQUENCY_INVALID.\n     */\n    get_logFrequency() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.LOGFREQUENCY_INVALID;\n                }\n            }\n            res = this._logFrequency;\n            return res;\n        });\n    }\n    /**\n     * Changes the datalogger recording frequency for this function.\n     * The frequency can be specified as samples per second,\n     * as sample per minute (for instance \"15/m\") or in samples per\n     * hour (eg. \"4/h\"). To disable recording for this function, use\n     * the value \"OFF\". Note that setting the  datalogger recording frequency\n     * to a greater value than the sensor native sampling frequency is useless,\n     * and even counterproductive: those two frequencies are not related.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : a string corresponding to the datalogger recording frequency for this function\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_logFrequency(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('logFrequency', rest_val);\n        });\n    }\n    /**\n     * Returns the timed value notification frequency, or \"OFF\" if timed\n     * value notifications are disabled for this function.\n     *\n     * @return a string corresponding to the timed value notification frequency, or \"OFF\" if timed\n     *         value notifications are disabled for this function\n     *\n     * On failure, throws an exception or returns YSensor.REPORTFREQUENCY_INVALID.\n     */\n    get_reportFrequency() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.REPORTFREQUENCY_INVALID;\n                }\n            }\n            res = this._reportFrequency;\n            return res;\n        });\n    }\n    /**\n     * Changes the timed value notification frequency for this function.\n     * The frequency can be specified as samples per second,\n     * as sample per minute (for instance \"15/m\") or in samples per\n     * hour (e.g. \"4/h\"). To disable timed value notifications for this\n     * function, use the value \"OFF\". Note that setting the  timed value\n     * notification frequency to a greater value than the sensor native\n     * sampling frequency is unless, and even counterproductive: those two\n     * frequencies are not related.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : a string corresponding to the timed value notification frequency for this function\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_reportFrequency(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('reportFrequency', rest_val);\n        });\n    }\n    /**\n     * Returns the measuring mode used for the advertised value pushed to the parent hub.\n     *\n     * @return a value among YSensor.ADVMODE_IMMEDIATE, YSensor.ADVMODE_PERIOD_AVG,\n     * YSensor.ADVMODE_PERIOD_MIN and YSensor.ADVMODE_PERIOD_MAX corresponding to the measuring mode used\n     * for the advertised value pushed to the parent hub\n     *\n     * On failure, throws an exception or returns YSensor.ADVMODE_INVALID.\n     */\n    get_advMode() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.ADVMODE_INVALID;\n                }\n            }\n            res = this._advMode;\n            return res;\n        });\n    }\n    /**\n     * Changes the measuring mode used for the advertised value pushed to the parent hub.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : a value among YSensor.ADVMODE_IMMEDIATE, YSensor.ADVMODE_PERIOD_AVG,\n     * YSensor.ADVMODE_PERIOD_MIN and YSensor.ADVMODE_PERIOD_MAX corresponding to the measuring mode used\n     * for the advertised value pushed to the parent hub\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_advMode(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('advMode', rest_val);\n        });\n    }\n    get_calibrationParam() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.CALIBRATIONPARAM_INVALID;\n                }\n            }\n            res = this._calibrationParam;\n            return res;\n        });\n    }\n    set_calibrationParam(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('calibrationParam', rest_val);\n        });\n    }\n    /**\n     * Changes the resolution of the measured physical values. The resolution corresponds to the numerical precision\n     * when displaying value. It does not change the precision of the measure itself.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : a floating point number corresponding to the resolution of the measured physical values\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_resolution(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(Math.round(newval * 65536.0));\n            return yield this._setAttr('resolution', rest_val);\n        });\n    }\n    /**\n     * Returns the resolution of the measured values. The resolution corresponds to the numerical precision\n     * of the measures, which is not always the same as the actual precision of the sensor.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @return a floating point number corresponding to the resolution of the measured values\n     *\n     * On failure, throws an exception or returns YSensor.RESOLUTION_INVALID.\n     */\n    get_resolution() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.RESOLUTION_INVALID;\n                }\n            }\n            res = this._resolution;\n            return res;\n        });\n    }\n    /**\n     * Returns the sensor health state code, which is zero when there is an up-to-date measure\n     * available or a positive code if the sensor is not able to provide a measure right now.\n     *\n     * @return an integer corresponding to the sensor health state code, which is zero when there is an\n     * up-to-date measure\n     *         available or a positive code if the sensor is not able to provide a measure right now\n     *\n     * On failure, throws an exception or returns YSensor.SENSORSTATE_INVALID.\n     */\n    get_sensorState() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YSensor.SENSORSTATE_INVALID;\n                }\n            }\n            res = this._sensorState;\n            return res;\n        });\n    }\n    /**\n     * Retrieves a sensor for a given identifier.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the sensor is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YSensor.isOnline() to test if the sensor is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a sensor by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * If a call to this object's is_online() method returns FALSE although\n     * you are certain that the matching device is plugged, make sure that you did\n     * call registerHub() at application initialization time.\n     *\n     * @param func : a string that uniquely characterizes the sensor, for instance\n     *         MyDevice..\n     *\n     * @return a YSensor object allowing you to drive the sensor.\n     */\n    static FindSensor(func) {\n        let obj;\n        obj = YFunction._FindFromCache('Sensor', func);\n        if (obj == null) {\n            obj = new YSensor(YAPI, func);\n            YFunction._AddToCache('Sensor', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Retrieves a sensor for a given identifier in a YAPI context.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the sensor is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YSensor.isOnline() to test if the sensor is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a sensor by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * @param yctx : a YAPI context\n     * @param func : a string that uniquely characterizes the sensor, for instance\n     *         MyDevice..\n     *\n     * @return a YSensor object allowing you to drive the sensor.\n     */\n    static FindSensorInContext(yctx, func) {\n        let obj;\n        obj = YFunction._FindFromCacheInContext(yctx, 'Sensor', func);\n        if (obj == null) {\n            obj = new YSensor(yctx, func);\n            YFunction._AddToCache('Sensor', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Registers the callback function that is invoked on every change of advertised value.\n     * The callback is invoked only during the execution of ySleep or yHandleEvents.\n     * This provides control over the time when the callback is triggered. For good responsiveness, remember to call\n     * one of these two functions periodically. To unregister a callback, pass a null pointer as argument.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the function object of which the value has changed, and the character string describing\n     *         the new advertised value.\n     * @noreturn\n     */\n    registerValueCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let val;\n            if (callback != null) {\n                yield YFunction._UpdateValueCallbackList(this, true);\n            }\n            else {\n                yield YFunction._UpdateValueCallbackList(this, false);\n            }\n            this._valueCallbackSensor = callback;\n            // Immediately invoke value callback with current value\n            if (callback != null && (yield this.isOnline())) {\n                val = this._advertisedValue;\n                if (!(val == '')) {\n                    yield this._invokeValueCallback(val);\n                }\n            }\n            return 0;\n        });\n    }\n    _invokeValueCallback(value) {\n        const _super = Object.create(null, {\n            _invokeValueCallback: { get: () => super._invokeValueCallback }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._valueCallbackSensor != null) {\n                try {\n                    yield this._valueCallbackSensor(this, value);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in valueCallback:', e);\n                }\n            }\n            else {\n                _super._invokeValueCallback.call(this, value);\n            }\n            return 0;\n        });\n    }\n    _parserHelper() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let position;\n            let maxpos;\n            let iCalib = [];\n            let iRaw;\n            let iRef;\n            let fRaw;\n            let fRef;\n            this._caltyp = -1;\n            this._scale = -1;\n            this._calpar.length = 0;\n            this._calraw.length = 0;\n            this._calref.length = 0;\n            // Store inverted resolution, to provide better rounding\n            if (this._resolution > 0) {\n                this._iresol = Math.round(1.0 / this._resolution);\n            }\n            else {\n                this._iresol = 10000;\n                this._resolution = 0.0001;\n            }\n            // Old format: supported when there is no calibration\n            if (this._calibrationParam == '' || this._calibrationParam == '0') {\n                this._caltyp = 0;\n                return 0;\n            }\n            if ((this._calibrationParam).indexOf(',') >= 0) {\n                // Plain text format\n                iCalib = this._yapi.imm_decodeFloats(this._calibrationParam);\n                this._caltyp = (((iCalib[0]) / (1000)) >> 0);\n                if (this._caltyp > 0) {\n                    if (this._caltyp < YOCTO_CALIB_TYPE_OFS) {\n                        // Unknown calibration type: calibrated value will be provided by the device\n                        this._caltyp = -1;\n                        return 0;\n                    }\n                    this.imm_calhdl = this._yapi.imm_getCalibrationHandler(this._caltyp);\n                    if (!(this.imm_calhdl != null)) {\n                        // Unknown calibration type: calibrated value will be provided by the device\n                        this._caltyp = -1;\n                        return 0;\n                    }\n                }\n                // New 32 bits text format\n                this._offset = 0;\n                this._scale = 1000;\n                maxpos = iCalib.length;\n                this._calpar.length = 0;\n                position = 1;\n                while (position < maxpos) {\n                    this._calpar.push(iCalib[position]);\n                    position = position + 1;\n                }\n                this._calraw.length = 0;\n                this._calref.length = 0;\n                position = 1;\n                while (position + 1 < maxpos) {\n                    fRaw = iCalib[position];\n                    fRaw = fRaw / 1000.0;\n                    fRef = iCalib[position + 1];\n                    fRef = fRef / 1000.0;\n                    this._calraw.push(fRaw);\n                    this._calref.push(fRef);\n                    position = position + 2;\n                }\n            }\n            else {\n                // Recorder-encoded format, including encoding\n                iCalib = this._yapi.imm_decodeWords(this._calibrationParam);\n                // In case of unknown format, calibrated value will be provided by the device\n                if (iCalib.length < 2) {\n                    this._caltyp = -1;\n                    return 0;\n                }\n                // Save variable format (scale for scalar, or decimal exponent)\n                this._offset = 0;\n                this._scale = 1;\n                this._decexp = 1.0;\n                position = iCalib[0];\n                while (position > 0) {\n                    this._decexp = this._decexp * 10;\n                    position = position - 1;\n                }\n                // Shortcut when there is no calibration parameter\n                if (iCalib.length == 2) {\n                    this._caltyp = 0;\n                    return 0;\n                }\n                this._caltyp = iCalib[2];\n                this.imm_calhdl = this._yapi.imm_getCalibrationHandler(this._caltyp);\n                // parse calibration points\n                if (this._caltyp <= 10) {\n                    maxpos = this._caltyp;\n                }\n                else {\n                    if (this._caltyp <= 20) {\n                        maxpos = this._caltyp - 10;\n                    }\n                    else {\n                        maxpos = 5;\n                    }\n                }\n                maxpos = 3 + 2 * maxpos;\n                if (maxpos > iCalib.length) {\n                    maxpos = iCalib.length;\n                }\n                this._calpar.length = 0;\n                this._calraw.length = 0;\n                this._calref.length = 0;\n                position = 3;\n                while (position + 1 < maxpos) {\n                    iRaw = iCalib[position];\n                    iRef = iCalib[position + 1];\n                    this._calpar.push(iRaw);\n                    this._calpar.push(iRef);\n                    this._calraw.push(this._yapi.imm_decimalToDouble(iRaw));\n                    this._calref.push(this._yapi.imm_decimalToDouble(iRef));\n                    position = position + 2;\n                }\n            }\n            return 0;\n        });\n    }\n    /**\n     * Checks if the sensor is currently able to provide an up-to-date measure.\n     * Returns false if the device is unreachable, or if the sensor does not have\n     * a current measure to transmit. No exception is raised if there is an error\n     * while trying to contact the device hosting $THEFUNCTION$.\n     *\n     * @return true if the sensor can provide an up-to-date measure, and false otherwise\n     */\n    isSensorReady() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!(yield this.isOnline())) {\n                return false;\n            }\n            if (!(this._sensorState == 0)) {\n                return false;\n            }\n            return true;\n        });\n    }\n    /**\n     * Returns the YDatalogger object of the device hosting the sensor. This method returns an object\n     * that can control global parameters of the data logger. The returned object\n     * should not be freed.\n     *\n     * @return an YDatalogger object, or null on error.\n     */\n    get_dataLogger() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let logger;\n            let modu;\n            let serial;\n            let hwid;\n            modu = yield this.get_module();\n            serial = yield modu.get_serialNumber();\n            if (serial == YAPI_INVALID_STRING) {\n                return null;\n            }\n            hwid = serial + '.dataLogger';\n            logger = YDataLogger.FindDataLogger(hwid);\n            return logger;\n        });\n    }\n    /**\n     * Starts the data logger on the device. Note that the data logger\n     * will only save the measures on this sensor if the logFrequency\n     * is not set to \"OFF\".\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     */\n    startDataLogger() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            res = yield this._download('api/dataLogger/recording?recording=1');\n            if (!((res).length > 0)) {\n                return this._throw(YAPI_IO_ERROR, 'unable to start datalogger', YAPI_IO_ERROR);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Stops the datalogger on the device.\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     */\n    stopDataLogger() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            res = yield this._download('api/dataLogger/recording?recording=0');\n            if (!((res).length > 0)) {\n                return this._throw(YAPI_IO_ERROR, 'unable to stop datalogger', YAPI_IO_ERROR);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Retrieves a YDataSet object holding historical data for this\n     * sensor, for a specified time interval. The measures will be\n     * retrieved from the data logger, which must have been turned\n     * on at the desired time. See the documentation of the YDataSet\n     * class for information on how to get an overview of the\n     * recorded data, and how to load progressively a large set\n     * of measures from the data logger.\n     *\n     * This function only works if the device uses a recent firmware,\n     * as YDataSet objects are not supported by firmwares older than\n     * version 13000.\n     *\n     * @param startTime : the start of the desired measure time interval,\n     *         as a Unix timestamp, i.e. the number of seconds since\n     *         January 1, 1970 UTC. The special value 0 can be used\n     *         to include any measure, without initial limit.\n     * @param endTime : the end of the desired measure time interval,\n     *         as a Unix timestamp, i.e. the number of seconds since\n     *         January 1, 1970 UTC. The special value 0 can be used\n     *         to include any measure, without ending limit.\n     *\n     * @return an instance of YDataSet, providing access to historical\n     *         data. Past measures can be loaded progressively\n     *         using methods from the YDataSet object.\n     */\n    get_recordedData(startTime, endTime) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let funcid;\n            let funit;\n            funcid = yield this.get_functionId();\n            funit = yield this.get_unit();\n            return new YDataSet(this, funcid, funit, startTime, endTime);\n        });\n    }\n    /**\n     * Registers the callback function that is invoked on every periodic timed notification.\n     * The callback is invoked only during the execution of ySleep or yHandleEvents.\n     * This provides control over the time when the callback is triggered. For good responsiveness, remember to call\n     * one of these two functions periodically. To unregister a callback, pass a null pointer as argument.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the function object of which the value has changed, and an YMeasure object describing\n     *         the new advertised value.\n     * @noreturn\n     */\n    registerTimedReportCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sensor;\n            sensor = this;\n            if (callback != null) {\n                yield YFunction._UpdateTimedReportCallbackList(sensor, true);\n            }\n            else {\n                yield YFunction._UpdateTimedReportCallbackList(sensor, false);\n            }\n            this._timedReportCallbackSensor = callback;\n            return 0;\n        });\n    }\n    _invokeTimedReportCallback(value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._timedReportCallbackSensor != null) {\n                try {\n                    yield this._timedReportCallbackSensor(this, value);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in timedReportCallback:', e);\n                }\n            }\n            else {\n            }\n            return 0;\n        });\n    }\n    /**\n     * Configures error correction data points, in particular to compensate for\n     * a possible perturbation of the measure caused by an enclosure. It is possible\n     * to configure up to five correction points. Correction points must be provided\n     * in ascending order, and be in the range of the sensor. The device will automatically\n     * perform a linear interpolation of the error correction between specified\n     * points. Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * For more information on advanced capabilities to refine the calibration of\n     * sensors, please contact support@yoctopuce.com.\n     *\n     * @param rawValues : array of floating point numbers, corresponding to the raw\n     *         values returned by the sensor for the correction points.\n     * @param refValues : array of floating point numbers, corresponding to the corrected\n     *         values for the correction points.\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    calibrateFromPoints(rawValues, refValues) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            let res;\n            rest_val = yield this._encodeCalibrationPoints(rawValues, refValues);\n            res = yield this._setAttr('calibrationParam', rest_val);\n            return res;\n        });\n    }\n    /**\n     * Retrieves error correction data points previously entered using the method\n     * calibrateFromPoints.\n     *\n     * @param rawValues : array of floating point numbers, that will be filled by the\n     *         function with the raw sensor values for the correction points.\n     * @param refValues : array of floating point numbers, that will be filled by the\n     *         function with the desired values for the correction points.\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    loadCalibrationPoints(rawValues, refValues) {\n        return __awaiter(this, void 0, void 0, function* () {\n            rawValues.length = 0;\n            refValues.length = 0;\n            // Load function parameters if not yet loaded\n            if (this._scale == 0) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YAPI_DEVICE_NOT_FOUND;\n                }\n            }\n            if (this._caltyp < 0) {\n                this._throw(YAPI_NOT_SUPPORTED, 'Calibration parameters format mismatch. Please upgrade your library or firmware.');\n                return YAPI_NOT_SUPPORTED;\n            }\n            rawValues.length = 0;\n            refValues.length = 0;\n            for (let ii in this._calraw) {\n                rawValues.push(this._calraw[ii]);\n            }\n            for (let ii in this._calref) {\n                refValues.push(this._calref[ii]);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    _encodeCalibrationPoints(rawValues, refValues) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            let npt;\n            let idx;\n            npt = rawValues.length;\n            if (npt != refValues.length) {\n                this._throw(YAPI_INVALID_ARGUMENT, 'Invalid calibration parameters (size mismatch)');\n                return YAPI_INVALID_STRING;\n            }\n            // Shortcut when building empty calibration parameters\n            if (npt == 0) {\n                return '0';\n            }\n            // Load function parameters if not yet loaded\n            if (this._scale == 0) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YAPI_INVALID_STRING;\n                }\n            }\n            // Detect old firmware\n            if ((this._caltyp < 0) || (this._scale < 0)) {\n                this._throw(YAPI_NOT_SUPPORTED, 'Calibration parameters format mismatch. Please upgrade your library or firmware.');\n                return '0';\n            }\n            // 32-bit fixed-point encoding\n            res = String(Math.round(YOCTO_CALIB_TYPE_OFS));\n            idx = 0;\n            while (idx < npt) {\n                res = res + ',' + String(Math.round(rawValues[idx] * 1000) / 1000) + ',' + String(Math.round(refValues[idx] * 1000) / 1000);\n                idx = idx + 1;\n            }\n            return res;\n        });\n    }\n    _applyCalibration(rawValue) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (rawValue == YSensor.CURRENTVALUE_INVALID) {\n                return YSensor.CURRENTVALUE_INVALID;\n            }\n            if (this._caltyp == 0) {\n                return rawValue;\n            }\n            if (this._caltyp < 0) {\n                return YSensor.CURRENTVALUE_INVALID;\n            }\n            if (!(this.imm_calhdl != null)) {\n                return YSensor.CURRENTVALUE_INVALID;\n            }\n            return this.imm_calhdl(rawValue, this._caltyp, this._calpar, this._calraw, this._calref);\n        });\n    }\n    _decodeTimedReport(timestamp, duration, report) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let i;\n            let byteVal;\n            let poww;\n            let minRaw;\n            let avgRaw;\n            let maxRaw;\n            let sublen;\n            let difRaw;\n            let startTime;\n            let endTime;\n            let minVal;\n            let avgVal;\n            let maxVal;\n            if (duration > 0) {\n                startTime = timestamp - duration;\n            }\n            else {\n                startTime = this._prevTimedReport;\n            }\n            endTime = timestamp;\n            this._prevTimedReport = endTime;\n            if (startTime == 0) {\n                startTime = endTime;\n            }\n            // 32 bits timed report format\n            if (report.length <= 5) {\n                // sub-second report, 1-4 bytes\n                poww = 1;\n                avgRaw = 0;\n                byteVal = 0;\n                i = 1;\n                while (i < report.length) {\n                    byteVal = report[i];\n                    avgRaw = avgRaw + poww * byteVal;\n                    poww = poww * 0x100;\n                    i = i + 1;\n                }\n                if (((byteVal) & (0x80)) != 0) {\n                    avgRaw = avgRaw - poww;\n                }\n                avgVal = avgRaw / 1000.0;\n                if (this._caltyp != 0) {\n                    if (this.imm_calhdl != null) {\n                        avgVal = this.imm_calhdl(avgVal, this._caltyp, this._calpar, this._calraw, this._calref);\n                    }\n                }\n                minVal = avgVal;\n                maxVal = avgVal;\n            }\n            else {\n                // averaged report: avg,avg-min,max-avg\n                sublen = 1 + ((report[1]) & (3));\n                poww = 1;\n                avgRaw = 0;\n                byteVal = 0;\n                i = 2;\n                while ((sublen > 0) && (i < report.length)) {\n                    byteVal = report[i];\n                    avgRaw = avgRaw + poww * byteVal;\n                    poww = poww * 0x100;\n                    i = i + 1;\n                    sublen = sublen - 1;\n                }\n                if (((byteVal) & (0x80)) != 0) {\n                    avgRaw = avgRaw - poww;\n                }\n                sublen = 1 + ((((report[1]) >> (2))) & (3));\n                poww = 1;\n                difRaw = 0;\n                while ((sublen > 0) && (i < report.length)) {\n                    byteVal = report[i];\n                    difRaw = difRaw + poww * byteVal;\n                    poww = poww * 0x100;\n                    i = i + 1;\n                    sublen = sublen - 1;\n                }\n                minRaw = avgRaw - difRaw;\n                sublen = 1 + ((((report[1]) >> (4))) & (3));\n                poww = 1;\n                difRaw = 0;\n                while ((sublen > 0) && (i < report.length)) {\n                    byteVal = report[i];\n                    difRaw = difRaw + poww * byteVal;\n                    poww = poww * 0x100;\n                    i = i + 1;\n                    sublen = sublen - 1;\n                }\n                maxRaw = avgRaw + difRaw;\n                avgVal = avgRaw / 1000.0;\n                minVal = minRaw / 1000.0;\n                maxVal = maxRaw / 1000.0;\n                if (this._caltyp != 0) {\n                    if (this.imm_calhdl != null) {\n                        avgVal = this.imm_calhdl(avgVal, this._caltyp, this._calpar, this._calraw, this._calref);\n                        minVal = this.imm_calhdl(minVal, this._caltyp, this._calpar, this._calraw, this._calref);\n                        maxVal = this.imm_calhdl(maxVal, this._caltyp, this._calpar, this._calraw, this._calref);\n                    }\n                }\n            }\n            return new YMeasure(startTime, endTime, minVal, avgVal, maxVal);\n        });\n    }\n    imm_decodeVal(w) {\n        let val;\n        val = w;\n        if (this._caltyp != 0) {\n            if (this.imm_calhdl != null) {\n                val = this.imm_calhdl(val, this._caltyp, this._calpar, this._calraw, this._calref);\n            }\n        }\n        return val;\n    }\n    imm_decodeAvg(dw) {\n        let val;\n        val = dw;\n        if (this._caltyp != 0) {\n            if (this.imm_calhdl != null) {\n                val = this.imm_calhdl(val, this._caltyp, this._calpar, this._calraw, this._calref);\n            }\n        }\n        return val;\n    }\n    /**\n     * Continues the enumeration of sensors started using yFirstSensor().\n     * Caution: You can't make any assumption about the returned sensors order.\n     * If you want to find a specific a sensor, use Sensor.findSensor()\n     * and a hardwareID or a logical name.\n     *\n     * @return a pointer to a YSensor object, corresponding to\n     *         a sensor currently online, or a null pointer\n     *         if there are no more sensors to enumerate.\n     */\n    nextSensor() {\n        let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n        if (resolve.errorType != YAPI.SUCCESS)\n            return null;\n        let next_hwid = this._yapi.imm_getNextHardwareId(this._className, resolve.result);\n        if (next_hwid == null)\n            return null;\n        return YSensor.FindSensorInContext(this._yapi, next_hwid);\n    }\n    /**\n     * Starts the enumeration of sensors currently accessible.\n     * Use the method YSensor.nextSensor() to iterate on\n     * next sensors.\n     *\n     * @return a pointer to a YSensor object, corresponding to\n     *         the first sensor currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstSensor() {\n        let next_hwid = YAPI.imm_getFirstHardwareId('Sensor');\n        if (next_hwid == null)\n            return null;\n        return YSensor.FindSensor(next_hwid);\n    }\n    /**\n     * Starts the enumeration of sensors currently accessible.\n     * Use the method YSensor.nextSensor() to iterate on\n     * next sensors.\n     *\n     * @param yctx : a YAPI context.\n     *\n     * @return a pointer to a YSensor object, corresponding to\n     *         the first sensor currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstSensorInContext(yctx) {\n        let next_hwid = yctx.imm_getFirstHardwareId('Sensor');\n        if (next_hwid == null)\n            return null;\n        return YSensor.FindSensorInContext(yctx, next_hwid);\n    }\n}\n// API symbols as static members\nYSensor.UNIT_INVALID = YAPI_INVALID_STRING;\nYSensor.CURRENTVALUE_INVALID = YAPI_INVALID_DOUBLE;\nYSensor.LOWESTVALUE_INVALID = YAPI_INVALID_DOUBLE;\nYSensor.HIGHESTVALUE_INVALID = YAPI_INVALID_DOUBLE;\nYSensor.CURRENTRAWVALUE_INVALID = YAPI_INVALID_DOUBLE;\nYSensor.LOGFREQUENCY_INVALID = YAPI_INVALID_STRING;\nYSensor.REPORTFREQUENCY_INVALID = YAPI_INVALID_STRING;\nYSensor.ADVMODE_IMMEDIATE = 0;\nYSensor.ADVMODE_PERIOD_AVG = 1;\nYSensor.ADVMODE_PERIOD_MIN = 2;\nYSensor.ADVMODE_PERIOD_MAX = 3;\nYSensor.ADVMODE_INVALID = -1;\nYSensor.CALIBRATIONPARAM_INVALID = YAPI_INVALID_STRING;\nYSensor.RESOLUTION_INVALID = YAPI_INVALID_DOUBLE;\nYSensor.SENSORSTATE_INVALID = YAPI_INVALID_INT;\n//--- (generated code: YMeasure class start)\n/**\n * YMeasure Class: Measured value, returned in particular by the methods of the YDataSet class.\n *\n * YMeasure objects are used within the API to represent\n * a value measured at a specified time. These objects are\n * used in particular in conjunction with the YDataSet class,\n * but also for sensors periodic timed reports\n * (see sensor.registerTimedReportCallback).\n */\n//--- (end of generated code: YMeasure class start)\nexport class YMeasure {\n    // API symbols as static members\n    //--- (end of generated code: YMeasure attributes declaration)\n    constructor(float_start, float_end, float_minVal, float_avgVal, float_maxVal) {\n        //--- (generated code: YMeasure attributes declaration)\n        this._start = 0;\n        this._end = 0;\n        this._minVal = 0;\n        this._avgVal = 0;\n        this._maxVal = 0;\n        //--- (generated code: YMeasure constructor)\n        //--- (end of generated code: YMeasure constructor)\n        this._start = float_start;\n        this._end = float_end;\n        this._minVal = float_minVal;\n        this._avgVal = float_avgVal;\n        this._maxVal = float_maxVal;\n    }\n    //--- (generated code: YMeasure implementation)\n    /**\n     * Returns the start time of the measure, relative to the Jan 1, 1970 UTC\n     * (Unix timestamp). When the recording rate is higher then 1 sample\n     * per second, the timestamp may have a fractional part.\n     *\n     * @return a floating point number corresponding to the number of seconds\n     *         between the Jan 1, 1970 UTC and the beginning of this measure.\n     */\n    get_startTimeUTC() {\n        return this._start;\n    }\n    /**\n     * Returns the end time of the measure, relative to the Jan 1, 1970 UTC\n     * (Unix timestamp). When the recording rate is higher than 1 sample\n     * per second, the timestamp may have a fractional part.\n     *\n     * @return a floating point number corresponding to the number of seconds\n     *         between the Jan 1, 1970 UTC and the end of this measure.\n     */\n    get_endTimeUTC() {\n        return this._end;\n    }\n    /**\n     * Returns the smallest value observed during the time interval\n     * covered by this measure.\n     *\n     * @return a floating-point number corresponding to the smallest value observed.\n     */\n    get_minValue() {\n        return this._minVal;\n    }\n    /**\n     * Returns the average value observed during the time interval\n     * covered by this measure.\n     *\n     * @return a floating-point number corresponding to the average value observed.\n     */\n    get_averageValue() {\n        return this._avgVal;\n    }\n    /**\n     * Returns the largest value observed during the time interval\n     * covered by this measure.\n     *\n     * @return a floating-point number corresponding to the largest value observed.\n     */\n    get_maxValue() {\n        return this._maxVal;\n    }\n    //--- (end of generated code: YMeasure implementation)\n    /**\n     * Returns the start date of the measure.\n     *\n     * @return {Date} a Date object corresponding to the beginning of this measure\n     */\n    get_startTimeUTC_asDate() {\n        return new Date(Math.round(this._start * 1000));\n    }\n    /**\n     * Returns the start date of the measure.\n     *\n     * @return {Date} a Date object corresponding to the end of this measure\n     */\n    get_endTimeUTC_asDate() {\n        return new Date(Math.round(this._end * 1000));\n    }\n}\n//--- (generated code: YDataLogger class start)\n/**\n * YDataLogger Class: DataLogger control interface, available on most Yoctopuce sensors.\n *\n * A non-volatile memory for storing ongoing measured data is available on most Yoctopuce\n * sensors. Recording can happen automatically, without requiring a permanent\n * connection to a computer.\n * The YDataLogger class controls the global parameters of the internal data\n * logger. Recording control (start/stop) as well as data retreival is done at\n * sensor objects level.\n */\n//--- (end of generated code: YDataLogger class start)\nexport class YDataLogger extends YFunction {\n    //--- (end of generated code: YDataLogger attributes declaration)\n    constructor(yapi, func) {\n        //--- (generated code: YDataLogger constructor)\n        super(yapi, func);\n        this._currentRunIndex = YDataLogger.CURRENTRUNINDEX_INVALID;\n        this._timeUTC = YDataLogger.TIMEUTC_INVALID;\n        this._recording = YDataLogger.RECORDING_INVALID;\n        this._autoStart = YDataLogger.AUTOSTART_INVALID;\n        this._beaconDriven = YDataLogger.BEACONDRIVEN_INVALID;\n        this._usage = YDataLogger.USAGE_INVALID;\n        this._clearHistory = YDataLogger.CLEARHISTORY_INVALID;\n        this._valueCallbackDataLogger = null;\n        // API symbols as object properties\n        this.CURRENTRUNINDEX_INVALID = YAPI_INVALID_UINT;\n        this.TIMEUTC_INVALID = YAPI_INVALID_LONG;\n        this.RECORDING_OFF = 0;\n        this.RECORDING_ON = 1;\n        this.RECORDING_PENDING = 2;\n        this.RECORDING_INVALID = -1;\n        this.AUTOSTART_OFF = 0;\n        this.AUTOSTART_ON = 1;\n        this.AUTOSTART_INVALID = -1;\n        this.BEACONDRIVEN_OFF = 0;\n        this.BEACONDRIVEN_ON = 1;\n        this.BEACONDRIVEN_INVALID = -1;\n        this.USAGE_INVALID = YAPI_INVALID_UINT;\n        this.CLEARHISTORY_FALSE = 0;\n        this.CLEARHISTORY_TRUE = 1;\n        this.CLEARHISTORY_INVALID = -1;\n        this._className = 'DataLogger';\n        //--- (end of generated code: YDataLogger constructor)\n    }\n    //--- (generated code: YDataLogger implementation)\n    imm_parseAttr(name, val) {\n        switch (name) {\n            case 'currentRunIndex':\n                this._currentRunIndex = val;\n                return 1;\n            case 'timeUTC':\n                this._timeUTC = val;\n                return 1;\n            case 'recording':\n                this._recording = val;\n                return 1;\n            case 'autoStart':\n                this._autoStart = val;\n                return 1;\n            case 'beaconDriven':\n                this._beaconDriven = val;\n                return 1;\n            case 'usage':\n                this._usage = val;\n                return 1;\n            case 'clearHistory':\n                this._clearHistory = val;\n                return 1;\n        }\n        return super.imm_parseAttr(name, val);\n    }\n    /**\n     * Returns the current run number, corresponding to the number of times the module was\n     * powered on with the dataLogger enabled at some point.\n     *\n     * @return an integer corresponding to the current run number, corresponding to the number of times the module was\n     *         powered on with the dataLogger enabled at some point\n     *\n     * On failure, throws an exception or returns YDataLogger.CURRENTRUNINDEX_INVALID.\n     */\n    get_currentRunIndex() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.CURRENTRUNINDEX_INVALID;\n                }\n            }\n            res = this._currentRunIndex;\n            return res;\n        });\n    }\n    /**\n     * Returns the Unix timestamp for current UTC time, if known.\n     *\n     * @return an integer corresponding to the Unix timestamp for current UTC time, if known\n     *\n     * On failure, throws an exception or returns YDataLogger.TIMEUTC_INVALID.\n     */\n    get_timeUTC() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.TIMEUTC_INVALID;\n                }\n            }\n            res = this._timeUTC;\n            return res;\n        });\n    }\n    /**\n     * Changes the current UTC time reference used for recorded data.\n     *\n     * @param newval : an integer corresponding to the current UTC time reference used for recorded data\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_timeUTC(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('timeUTC', rest_val);\n        });\n    }\n    /**\n     * Returns the current activation state of the data logger.\n     *\n     * @return a value among YDataLogger.RECORDING_OFF, YDataLogger.RECORDING_ON and\n     * YDataLogger.RECORDING_PENDING corresponding to the current activation state of the data logger\n     *\n     * On failure, throws an exception or returns YDataLogger.RECORDING_INVALID.\n     */\n    get_recording() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.RECORDING_INVALID;\n                }\n            }\n            res = this._recording;\n            return res;\n        });\n    }\n    /**\n     * Changes the activation state of the data logger to start/stop recording data.\n     *\n     * @param newval : a value among YDataLogger.RECORDING_OFF, YDataLogger.RECORDING_ON and\n     * YDataLogger.RECORDING_PENDING corresponding to the activation state of the data logger to\n     * start/stop recording data\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_recording(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('recording', rest_val);\n        });\n    }\n    /**\n     * Returns the default activation state of the data logger on power up.\n     *\n     * @return either YDataLogger.AUTOSTART_OFF or YDataLogger.AUTOSTART_ON, according to the default\n     * activation state of the data logger on power up\n     *\n     * On failure, throws an exception or returns YDataLogger.AUTOSTART_INVALID.\n     */\n    get_autoStart() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.AUTOSTART_INVALID;\n                }\n            }\n            res = this._autoStart;\n            return res;\n        });\n    }\n    /**\n     * Changes the default activation state of the data logger on power up.\n     * Do not forget to call the saveToFlash() method of the module to save the\n     * configuration change.  Note: if the device doesn't have any time source at his disposal when\n     * starting up, it will wait for ~8 seconds before automatically starting to record  with\n     * an arbitrary timestamp\n     *\n     * @param newval : either YDataLogger.AUTOSTART_OFF or YDataLogger.AUTOSTART_ON, according to the\n     * default activation state of the data logger on power up\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_autoStart(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('autoStart', rest_val);\n        });\n    }\n    /**\n     * Returns true if the data logger is synchronised with the localization beacon.\n     *\n     * @return either YDataLogger.BEACONDRIVEN_OFF or YDataLogger.BEACONDRIVEN_ON, according to true if\n     * the data logger is synchronised with the localization beacon\n     *\n     * On failure, throws an exception or returns YDataLogger.BEACONDRIVEN_INVALID.\n     */\n    get_beaconDriven() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.BEACONDRIVEN_INVALID;\n                }\n            }\n            res = this._beaconDriven;\n            return res;\n        });\n    }\n    /**\n     * Changes the type of synchronisation of the data logger.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : either YDataLogger.BEACONDRIVEN_OFF or YDataLogger.BEACONDRIVEN_ON, according to\n     * the type of synchronisation of the data logger\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_beaconDriven(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('beaconDriven', rest_val);\n        });\n    }\n    /**\n     * Returns the percentage of datalogger memory in use.\n     *\n     * @return an integer corresponding to the percentage of datalogger memory in use\n     *\n     * On failure, throws an exception or returns YDataLogger.USAGE_INVALID.\n     */\n    get_usage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.USAGE_INVALID;\n                }\n            }\n            res = this._usage;\n            return res;\n        });\n    }\n    get_clearHistory() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != YAPI_SUCCESS) {\n                    return YDataLogger.CLEARHISTORY_INVALID;\n                }\n            }\n            res = this._clearHistory;\n            return res;\n        });\n    }\n    set_clearHistory(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('clearHistory', rest_val);\n        });\n    }\n    /**\n     * Retrieves a data logger for a given identifier.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the data logger is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YDataLogger.isOnline() to test if the data logger is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a data logger by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * If a call to this object's is_online() method returns FALSE although\n     * you are certain that the matching device is plugged, make sure that you did\n     * call registerHub() at application initialization time.\n     *\n     * @param func : a string that uniquely characterizes the data logger, for instance\n     *         LIGHTMK4.dataLogger.\n     *\n     * @return a YDataLogger object allowing you to drive the data logger.\n     */\n    static FindDataLogger(func) {\n        let obj;\n        obj = YFunction._FindFromCache('DataLogger', func);\n        if (obj == null) {\n            obj = new YDataLogger(YAPI, func);\n            YFunction._AddToCache('DataLogger', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Retrieves a data logger for a given identifier in a YAPI context.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the data logger is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YDataLogger.isOnline() to test if the data logger is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a data logger by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * @param yctx : a YAPI context\n     * @param func : a string that uniquely characterizes the data logger, for instance\n     *         LIGHTMK4.dataLogger.\n     *\n     * @return a YDataLogger object allowing you to drive the data logger.\n     */\n    static FindDataLoggerInContext(yctx, func) {\n        let obj;\n        obj = YFunction._FindFromCacheInContext(yctx, 'DataLogger', func);\n        if (obj == null) {\n            obj = new YDataLogger(yctx, func);\n            YFunction._AddToCache('DataLogger', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Registers the callback function that is invoked on every change of advertised value.\n     * The callback is invoked only during the execution of ySleep or yHandleEvents.\n     * This provides control over the time when the callback is triggered. For good responsiveness, remember to call\n     * one of these two functions periodically. To unregister a callback, pass a null pointer as argument.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the function object of which the value has changed, and the character string describing\n     *         the new advertised value.\n     * @noreturn\n     */\n    registerValueCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let val;\n            if (callback != null) {\n                yield YFunction._UpdateValueCallbackList(this, true);\n            }\n            else {\n                yield YFunction._UpdateValueCallbackList(this, false);\n            }\n            this._valueCallbackDataLogger = callback;\n            // Immediately invoke value callback with current value\n            if (callback != null && (yield this.isOnline())) {\n                val = this._advertisedValue;\n                if (!(val == '')) {\n                    yield this._invokeValueCallback(val);\n                }\n            }\n            return 0;\n        });\n    }\n    _invokeValueCallback(value) {\n        const _super = Object.create(null, {\n            _invokeValueCallback: { get: () => super._invokeValueCallback }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._valueCallbackDataLogger != null) {\n                try {\n                    yield this._valueCallbackDataLogger(this, value);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in valueCallback:', e);\n                }\n            }\n            else {\n                _super._invokeValueCallback.call(this, value);\n            }\n            return 0;\n        });\n    }\n    /**\n     * Clears the data logger memory and discards all recorded data streams.\n     * This method also resets the current run index to zero.\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    forgetAllDataStreams() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_clearHistory(1 /* YDataLogger.CLEARHISTORY.TRUE */);\n        });\n    }\n    /**\n     * Returns a list of YDataSet objects that can be used to retrieve\n     * all measures stored by the data logger.\n     *\n     * This function only works if the device uses a recent firmware,\n     * as YDataSet objects are not supported by firmwares older than\n     * version 13000.\n     *\n     * @return a list of YDataSet object.\n     *\n     * On failure, throws an exception or returns an empty list.\n     */\n    get_dataSets() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.parse_dataSets(yield this._download('logger.json'));\n        });\n    }\n    parse_dataSets(json) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let dslist = [];\n            let dataset;\n            let res = [];\n            dslist = this.imm_json_get_array(json);\n            res.length = 0;\n            for (let ii in dslist) {\n                dataset = new YDataSet(this);\n                yield dataset._parse(dslist[ii]);\n                res.push(dataset);\n            }\n            return res;\n        });\n    }\n    /**\n     * Continues the enumeration of data loggers started using yFirstDataLogger().\n     * Caution: You can't make any assumption about the returned data loggers order.\n     * If you want to find a specific a data logger, use DataLogger.findDataLogger()\n     * and a hardwareID or a logical name.\n     *\n     * @return a pointer to a YDataLogger object, corresponding to\n     *         a data logger currently online, or a null pointer\n     *         if there are no more data loggers to enumerate.\n     */\n    nextDataLogger() {\n        let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n        if (resolve.errorType != YAPI.SUCCESS)\n            return null;\n        let next_hwid = this._yapi.imm_getNextHardwareId(this._className, resolve.result);\n        if (next_hwid == null)\n            return null;\n        return YDataLogger.FindDataLoggerInContext(this._yapi, next_hwid);\n    }\n    /**\n     * Starts the enumeration of data loggers currently accessible.\n     * Use the method YDataLogger.nextDataLogger() to iterate on\n     * next data loggers.\n     *\n     * @return a pointer to a YDataLogger object, corresponding to\n     *         the first data logger currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstDataLogger() {\n        let next_hwid = YAPI.imm_getFirstHardwareId('DataLogger');\n        if (next_hwid == null)\n            return null;\n        return YDataLogger.FindDataLogger(next_hwid);\n    }\n    /**\n     * Starts the enumeration of data loggers currently accessible.\n     * Use the method YDataLogger.nextDataLogger() to iterate on\n     * next data loggers.\n     *\n     * @param yctx : a YAPI context.\n     *\n     * @return a pointer to a YDataLogger object, corresponding to\n     *         the first data logger currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstDataLoggerInContext(yctx) {\n        let next_hwid = yctx.imm_getFirstHardwareId('DataLogger');\n        if (next_hwid == null)\n            return null;\n        return YDataLogger.FindDataLoggerInContext(yctx, next_hwid);\n    }\n}\n// API symbols as static members\nYDataLogger.CURRENTRUNINDEX_INVALID = YAPI_INVALID_UINT;\nYDataLogger.TIMEUTC_INVALID = YAPI_INVALID_LONG;\nYDataLogger.RECORDING_OFF = 0;\nYDataLogger.RECORDING_ON = 1;\nYDataLogger.RECORDING_PENDING = 2;\nYDataLogger.RECORDING_INVALID = -1;\nYDataLogger.AUTOSTART_OFF = 0;\nYDataLogger.AUTOSTART_ON = 1;\nYDataLogger.AUTOSTART_INVALID = -1;\nYDataLogger.BEACONDRIVEN_OFF = 0;\nYDataLogger.BEACONDRIVEN_ON = 1;\nYDataLogger.BEACONDRIVEN_INVALID = -1;\nYDataLogger.USAGE_INVALID = YAPI_INVALID_UINT;\nYDataLogger.CLEARHISTORY_FALSE = 0;\nYDataLogger.CLEARHISTORY_TRUE = 1;\nYDataLogger.CLEARHISTORY_INVALID = -1;\n//\n// YSystemEnv\n//\nexport class YSystemEnv {\n    constructor() {\n        this.isNodeJS = false;\n        this.hasSSDP = false;\n    }\n    unknownSystemEnvError() {\n        return new YoctoError('Unspecified runtime environment, your project should include at least once either yocto_api_nodejs or yocto_api_html');\n    }\n    hookUnhandledRejection(handler) {\n        throw this.unknownSystemEnvError();\n    }\n    getWebSocketHub(obj_yapi, urlInfo) {\n        throw this.unknownSystemEnvError();\n    }\n    getHttpHub(obj_yapi, urlInfo) {\n        throw this.unknownSystemEnvError();\n    }\n    getWebSocketCallbackHub(obj_yapi, urlInfo, ws) {\n        throw this.unknownSystemEnvError();\n    }\n    getHttpCallbackHub(yapi, urlInfo, incomingMessage, serverResponse) {\n        throw this.unknownSystemEnvError();\n    }\n    getSSDPManager(obj_yapi) {\n        throw this.unknownSystemEnvError();\n    }\n    loadfile(file) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw this.unknownSystemEnvError();\n        });\n    }\n    downloadfile(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            throw this.unknownSystemEnvError();\n        });\n    }\n}\nconst _UnspecifiedSystemEnv = new YSystemEnv();\n//\n// YGenericHub\n//\nexport class YGenericHub {\n    constructor(yapi, urlInfo) {\n        this._lastErrorType = YAPI_SUCCESS;\n        this._lastErrorMsg = 'no error';\n        this.notiflen = 0; // notification message length before forced disconnection\n        this.lastPingStamp = 0; // timestamp of last notification received\n        this.timeoutId = null; // actually a number | NodeJs.Timeout: timeout for declaring stalled hub\n        this.isNotifWorking = false; // true if we are receiving valid notification\n        this.devListExpires = 0; // timestamp of next useful updateDeviceList\n        this.serialByYdx = []; // serials by hub-specific devYdx\n        this.retryDelay = 15; // delay before reconnecting in case of error: initially 15ms\n        this.notifPos = -1; // current absolute position in hub notification stream\n        this.notifCarryOver = ''; // last uncomplete notification message\n        this.currPos = 0; // current position in data stream\n        this.missing = {}; // used during UpdateDeviceList\n        this.disconnecting = false; // set to true when requested to disconnect\n        this.notbynOpenTimeout = null; // testHub timeout\n        this.notbynTryOpen = null; // testHub retry code\n        this._reconnectionTimer = null; // actually a number | NodeJS.Timeout\n        this._firstArrivalCallback = true; // indicates that this is the first time we see this device\n        this._missing = {}; // hash table by serial number, used during UpdateDeviceList\n        this._rwAccess = null; // null until hub has been tested for rw-access\n        this._hubAdded = false;\n        this._yapi = yapi;\n        this.urlInfo = urlInfo;\n        this._connectionType = 0 /* Y_YHubType.HUB_REGISTERED */;\n    }\n    _throw(int_errType, str_errMsg, obj_retVal) {\n        this._lastErrorType = int_errType;\n        this._lastErrorMsg = str_errMsg;\n        return this._yapi._throw(int_errType, str_errMsg, obj_retVal);\n    }\n    imm_setConnectionType(hubtype) {\n        this._connectionType = hubtype;\n    }\n    imm_forceUpdate() {\n        this.devListExpires = this._yapi.GetTickCount();\n    }\n    imm_logrequest(method, devUrl, obj_body) {\n        let msg = 'Request: ' + method + ' ' + devUrl;\n        if (obj_body) {\n            msg += ' (file=' + obj_body.fname + ')';\n        }\n        this._yapi.imm_log(msg);\n    }\n    /** Make sure the hub can work properly\n     *\n     * @param mstimeout {number}\n     * @param errmsg {YErrorMsg}\n     * @returns {number}\n     */\n    testHub(mstimeout, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // default test method is to issue a small request\n            let yreq = yield this.request('GET', '/api/module.json', null, 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                errmsg.msg = yreq.errorMsg;\n                return yreq.errorType;\n            }\n            if (!this._hubAdded) {\n                yield this.signalHubConnected();\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /** Handle successful hub connection (including preregisterhub handling)\n     */\n    signalHubConnected() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.notbynOpenTimeout = null;\n            if (this._connectionType != 2 /* Y_YHubType.HUB_TESTONLY */) {\n                yield this._yapi.ensureUpdateDeviceListNotRunning();\n                yield this._yapi._addHub(this);\n                // Hub has been removed from _pendingHubs by _addHub\n                this._hubAdded = true;\n            }\n        });\n    }\n    imm_testHubAgainLater() {\n        this.isNotifWorking = false;\n        this.devListExpires = 0;\n        if (this._connectionType == 1 /* Y_YHubType.HUB_PREREGISTERED */ && this._hubAdded) {\n            this._yapi._pendingHubs[this.urlInfo.url] = this;\n            this._yapi.imm_forgetHub(this);\n            this._hubAdded = false;\n        }\n        if (this._reconnectionTimer) {\n            // reconnection already scheduled\n            return true;\n        }\n        // need to schedule next retry\n        if (this.retryDelay < 15000)\n            this.retryDelay *= 2;\n        if (this.notbynOpenTimeout) {\n            let now = this._yapi.GetTickCount();\n            if (now >= this.notbynOpenTimeout) {\n                return false;\n            }\n            if (now + this.retryDelay > this.notbynOpenTimeout) {\n                this.retryDelay = this.notbynOpenTimeout - now;\n            }\n        }\n        this._reconnectionTimer = setTimeout(() => {\n            this._reconnectionTimer = null;\n            if (this.notbynTryOpen) {\n                this.notbynTryOpen();\n            }\n        }, this.retryDelay);\n        return true;\n    }\n    hubUpdateDeviceList() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // load hub API, process white pages and yellow pages\n            let hubDev = this._yapi.imm_getDevice(this.urlInfo.url);\n            try {\n                hubDev.imm_dropCache();\n                let retcode = yield hubDev.refresh();\n                if (retcode != YAPI_SUCCESS) {\n                    if (this._connectionType == 1 /* Y_YHubType.HUB_PREREGISTERED */) {\n                        yield this._yapi.updateDeviceList_process(this, hubDev, [], {});\n                    }\n                    this.imm_disconnectNow();\n                    return this._throw(retcode, hubDev._lastErrorMsg, retcode);\n                }\n                /** @type {YHTTPRequest} **/\n                let yreq = yield hubDev.requestAPI(this._yapi.defaultCacheValidity);\n                if (yreq.errorType != YAPI_SUCCESS) {\n                    if (this._connectionType == 1 /* Y_YHubType.HUB_PREREGISTERED */) {\n                        yield this._yapi.updateDeviceList_process(this, hubDev, [], {});\n                    }\n                    this.imm_disconnectNow();\n                    return yreq.errorType;\n                }\n                let whitePages = yreq.obj_result.services.whitePages;\n                let yellowPages = yreq.obj_result.services.yellowPages;\n                if (!whitePages) {\n                    this.imm_disconnectNow();\n                    return this._throw(YAPI_IO_ERROR, 'Device ' + hubDev.imm_describe() + ' is not a hub', YAPI_IO_ERROR);\n                }\n                retcode = yield this._yapi.updateDeviceList_process(this, hubDev, whitePages, yellowPages);\n                if (retcode != YAPI_SUCCESS) {\n                    this.imm_disconnectNow();\n                    return this._throw(this._yapi._lastErrorType, this._yapi._lastErrorMsg, this._yapi._lastErrorType);\n                }\n                // reset device list cache timeout for this hub\n                if (this.isNotifWorking) {\n                    this.devListExpires = this._yapi.GetTickCount() + this._yapi._deviceListValidityMs;\n                }\n                else {\n                    this.devListExpires = this._yapi.GetTickCount() + 500;\n                }\n                return YAPI_SUCCESS;\n            }\n            catch (e) {\n                this._yapi.imm_log('Exception during device enumeration: ', e);\n                if (this._connectionType == 1 /* Y_YHubType.HUB_PREREGISTERED */) {\n                    try {\n                        yield this._yapi.updateDeviceList_process(this, hubDev, [], {});\n                    }\n                    catch (e) { }\n                }\n                this.imm_disconnectNow();\n                return YAPI_IO_ERROR;\n            }\n        });\n    }\n    hasRwAccess() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._rwAccess == null) {\n                let yreq = yield this.request('GET', '/api/module/serialNumber.json?serialNumber=rwTest', null, 0);\n                this._rwAccess = (yreq.errorType == YAPI_SUCCESS);\n            }\n            return this._rwAccess;\n        });\n    }\n    /** Perform an HTTP query on the hub\n     *\n     * @param method {string}\n     * @param devUrl {string}\n     * @param obj_body {YHTTPBody|null}\n     * @param tcpchan {number}\n     * @returns {YHTTPRequest}\n     */\n    request(method, devUrl, obj_body, tcpchan) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // must be overridden by subclasses\n            let res = new YHTTPRequest(null);\n            res.errorType = YAPI_NOT_SUPPORTED;\n            res.errorMsg = 'GenericHub subclass expected';\n            return res;\n        });\n    }\n    /** Create a new random boundary for form-encoding\n     *\n     * @returns {string}\n     */\n    imm_getBoundary() {\n        return 'Zz' + Math.floor(Math.random() * 0xffffff).toString(16) + 'zZ';\n    }\n    /** Form-encode a body object into an raw Uint8Array to send\n     *\n     * @param obj_body {YHTTPBody}\n     * @param str_boundary {string}\n     * @returns {Uint8Array}\n     */\n    imm_formEncodeBody(obj_body, str_boundary) {\n        let hdr = this._yapi.imm_str2bin('Content-Disposition: form-data; name=\"' + obj_body.fname + '\"; filename=\"api\"\\r\\n' +\n            'Content-Type: application/octet-stream\\r\\n' +\n            'Content-Transfer-Encoding: binary\\r\\n\\r\\n');\n        let boundary = this._yapi.imm_str2bin(str_boundary);\n        let dash = this._yapi.imm_str2bin('--');\n        let crlf = this._yapi.imm_str2bin('\\r\\n');\n        let parts = [dash, boundary, crlf, hdr, obj_body.data, crlf, dash, boundary, dash, crlf];\n        let i, len = 0;\n        for (i = 0; i < parts.length; i++) {\n            len += parts[i].length;\n        }\n        let res = new Uint8Array(len);\n        len = 0;\n        for (i = 0; i < parts.length; i++) {\n            res.set(parts[i], len);\n            len += parts[i].length;\n        }\n        return res;\n    }\n    /** Return an array of serial numbers\n     *\n     * @returns {string[]}\n     */\n    getBootloaders() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let yreq = yield this.request('GET', '/flash.json?a=list', null, 1);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, []);\n            }\n            let flashState = JSON.parse(YAPI.imm_bin2str(yreq.bin_result));\n            return flashState['list'];\n        });\n    }\n    /** Perform a firmware update\n     *\n     * @param serial {string}\n     * @param firmware {YFirmwareFile}\n     * @param settings {Uint8Array}\n     * @param progress {YProgressCallback}\n     * @returns {string[] | null}\n     */\n    firmwareUpdate(serial, firmware, settings, progress) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let use_self_flash = false;\n            let baseUrl = '';\n            let need_reboot = true;\n            let _throw = ((msg) => { return this._throw(YAPI.IO_ERROR, msg, [msg]); });\n            progress(5, 'Check bootloader type');\n            // Get the hub own serial number\n            let yreq = yield this.request('GET', '/api/module.json', null, 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return _throw('Hub is not responding');\n            }\n            let json = JSON.parse(this._yapi.imm_bin2str(yreq.bin_result));\n            let ownSerial = json.serialNumber;\n            if (ownSerial.slice(0, 7) == 'VIRTHUB') {\n                use_self_flash = false;\n            }\n            else if (serial == ownSerial) {\n                use_self_flash = true;\n            }\n            else {\n                // check if subdevice support self flashing\n                yreq = yield this.request('GET', '/bySerial/' + serial + '/flash.json?a=state', null, 0);\n                if (yreq.errorType == YAPI_SUCCESS) {\n                    use_self_flash = true;\n                    baseUrl = '/bySerial/' + serial;\n                }\n            }\n            let bootloaders = yield this.getBootloaders();\n            let is_shield = (serial.slice(0, 7) == 'YHUBSHL');\n            let i;\n            for (i = 0; i < bootloaders.length; i++) {\n                let bl = bootloaders[i];\n                if (bl == serial) {\n                    need_reboot = false;\n                }\n                else if (is_shield) {\n                    if (bl.slice(0, 7) == 'YHUBSHL') {\n                        return _throw('Only one YoctoHub-Shield is allowed in update mode');\n                    }\n                }\n            }\n            if (!use_self_flash && need_reboot) {\n                // ensure we don't reboot a device when there are already 4 or more\n                if (bootloaders.length >= 4) {\n                    return _throw('Too many devices in update mode');\n                }\n            }\n            // ensure flash engine is not busy\n            yreq = yield this.request('GET', baseUrl + '/flash.json?a=state', null, 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return _throw('Cannot check state of firmware upload');\n            }\n            json = JSON.parse(this._yapi.imm_bin2str(yreq.bin_result));\n            if (json['state'] == 'uploading' || json['state'] == 'flashing') {\n                return _throw('Cannot start firmware update: busy (' + json['state'] + ')');\n            }\n            // start firmware upload\n            progress(10, 'Send firmware file');\n            let progressCb = function (curr, total) {\n                curr >>= 10;\n                total >>= 10;\n                progress(10 + ((28 * curr / total) >> 0), 'Send firmware file: ' + curr + 'KB / ' + total + 'KB');\n            };\n            yreq = yield this.request('POST', baseUrl + '/upload.html', new YHTTPBody('firmware', firmware.imm_getData(), progressCb), 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return _throw('Firmware upload failed: ' + yreq.errorMsg);\n            }\n            yreq = yield this.request('GET', baseUrl + '/flash.json?a=state', null, 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return _throw('Cannot check state of firmware upload');\n            }\n            json = JSON.parse(this._yapi.imm_bin2str(yreq.bin_result));\n            if (json['state'] != 'valid') {\n                return _throw('Upload of firmware failed: invalid firmware(' + json['state'] + ')');\n            }\n            if (json['progress'] != '100') {\n                return _throw('Upload of firmware failed: incomplete upload');\n            }\n            if (use_self_flash) {\n                let settingsStr = this._yapi.imm_bin2str(settings);\n                let settingsAndFiles = JSON.parse(settingsStr);\n                let settingsOnly = settingsAndFiles['api'];\n                let startupApi = {};\n                for (let key in settingsOnly) {\n                    if (key != 'services') {\n                        startupApi[key] = settingsOnly[key];\n                    }\n                }\n                let startupConf = this._yapi.imm_str2bin(JSON.stringify(startupApi));\n                progress(38, 'Save current settings');\n                yreq = yield this.request('POST', baseUrl + '/upload.html', new YHTTPBody('startupConf.json', startupConf, null), 0);\n                if (yreq.errorType != YAPI_SUCCESS) {\n                    return _throw('Failed to save settings on hub');\n                }\n                progress(39, 'Save current settings');\n                yreq = yield this.request('POST', baseUrl + '/upload.html', new YHTTPBody('firmwareConf', startupConf, null), 0);\n                if (yreq.errorType != YAPI_SUCCESS) {\n                    return _throw('Failed to save settings on hub');\n                }\n            }\n            //40%-> 80%\n            if (use_self_flash) {\n                progress(40, 'Flash firmware');\n                // the hub itself -> reboot in autoflash mode\n                yield this.request('GET', baseUrl + '/api/module/rebootCountdown?rebootCountdown=-1003', null, 0);\n                yield this._yapi.Sleep(7000);\n            }\n            else {\n                // reboot device to bootloader if needed\n                if (need_reboot) {\n                    // reboot subdevice\n                    yield this.request('GET', '/bySerial/' + serial + '/api/module/rebootCountdown?rebootCountdown=-2', null, 0);\n                }\n                // verify that the device is in bootloader\n                let timeout = YAPI.GetTickCount() + 20000;\n                let res;\n                let found = false;\n                progress(40, 'Wait for device to be in bootloader');\n                do {\n                    bootloaders = yield this.getBootloaders();\n                    for (i = 0; i < bootloaders.length; i++) {\n                        let bl = bootloaders[i];\n                        if (bl == serial) {\n                            found = true;\n                            break;\n                        }\n                    }\n                    if (!found) {\n                        yield this._yapi.Sleep(500);\n                    }\n                } while (!found && YAPI.GetTickCount() < timeout);\n                //start flash\n                progress(45, 'Flash firmware');\n                let fwsize = (firmware.imm_getData().length + 512) >> 10;\n                let checkTimer;\n                let checkFlash = (() => {\n                    this.request('GET', baseUrl + '/flash.json?a=state', null, 1).then((flashReq) => {\n                        if (flashReq.errorType == YAPI_SUCCESS) {\n                            let jsonState = YAPI.imm_bin2str(flashReq.bin_result);\n                            let res = JSON.parse(jsonState);\n                            if (res.state == 'flashing') {\n                                if (res.progress < 20) {\n                                    progress(45 + ((res.progress / 3) >> 0), 'Erasing previous firmware: ' + ((fwsize * (res.progress - 3) / 18) >> 0) + 'KB / ' + fwsize + 'KB');\n                                }\n                                else {\n                                    progress(45 + ((res.progress / 3) >> 0), 'Flashing new firmware: ' + ((fwsize * (res.progress - 20) / 76) >> 0) + 'KB / ' + fwsize + 'KB');\n                                }\n                            }\n                        }\n                        checkTimer = setTimeout(checkFlash, 500);\n                    }).catch((e) => {\n                        this._yapi.imm_log('Exception during firmware flash: ', e);\n                        checkTimer = setTimeout(checkFlash, 500);\n                    });\n                });\n                checkTimer = setTimeout(checkFlash, 1000);\n                yreq = yield this.request('GET', '/flash.json?a=flash&s=' + serial, null, 0);\n                clearTimeout(checkTimer);\n                if (yreq.errorType != YAPI_SUCCESS) {\n                    return _throw('Cannot check state of firmware flash');\n                }\n                return JSON.parse(this._yapi.imm_bin2str(yreq.bin_result));\n            }\n            return null;\n        });\n    }\n    imm_commonDisconnect() {\n        if (this.timeoutId)\n            clearTimeout(this.timeoutId);\n        this.timeoutId = null;\n        this.disconnecting = true;\n    }\n    // default implementation of function that reports a fatal error to the callback party\n    reportFailure(message) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // nothing to do\n        });\n    }\n    // default implementation of disconnect\n    // note: super.xxx() cannot be used in an async function !\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.imm_commonDisconnect();\n        });\n    }\n    // default implementation of function that says if a hub is currently forwarded and handled remotely\n    imm_isForwarded() {\n        return false;\n    }\n    // default implementation of function to abort communication channel immediately\n    imm_disconnectNow() {\n        // nothing to do\n    }\n    // default implementation of isOnline\n    imm_isOnline() {\n        return (Date.now() - this.lastPingStamp) < 10000;\n    }\n}\nexport class YWebSocketHub extends YGenericHub {\n    constructor(yapi, urlInfo) {\n        super(yapi, urlInfo);\n        // default transport layer parameters\n        this._DEFAULT_TCP_ROUND_TRIP_TIME = 30;\n        this._DEFAULT_TCP_MAX_WINDOW_SIZE = 4 * 65536;\n        // websocket protocol parameters\n        this._YIO_DEFAULT_TCP_TIMEOUT = 20000;\n        this._YIO_1_MINUTE_TCP_TIMEOUT = 60000;\n        this._YIO_10_MINUTES_TCP_TIMEOUT = 600000;\n        this._USB_META_UTCTIME_SIZE = 5;\n        this._USB_META_DLFLUSH_SIZE = 1;\n        this._USB_META_ACK_D2H_PACKET_SIZE = 2;\n        this._USB_META_WS_ANNOUNCE_SIZE = 8 + 20;\n        this._USB_META_WS_AUTHENTICATION_SIZE = 28;\n        this._USB_META_WS_ERROR_SIZE = 6;\n        this._USB_META_ACK_UPLOAD_SIZE = 6;\n        this._USB_META_WS_VALID_SHA1 = 1;\n        this._USB_META_WS_RW = 2;\n        // connection state members\n        this.websocket = null;\n        this.notbynOpenPromise = null;\n        this.notbynOpenTimeoutObj = null; /* actually a number | NodeJS.Timeout */\n        this.tcpChan = [];\n        this.nextAsyncId = 48;\n        this._reconnectionTimer = null;\n        this._connectionTime = 0;\n        this._remoteVersion = 0;\n        this._remoteSerial = '';\n        this._remoteNonce = -1;\n        this._nonce = -1;\n        this._session_error = null;\n        this._session_errno = null;\n        this._lastUploadAckBytes = [0];\n        this._lastUploadAckTime = [0];\n        this._lastUploadRateBytes = [0];\n        this._lastUploadRateTime = [0];\n        this._uploadRate = [0];\n        // websocket forwarding support\n        this.fwd_nonce = -1;\n        this.fwd_websocket = null;\n        this.fwd_credentials = [];\n        this.fwd_closeCallback = null;\n        // setup defaults states\n        this._connectionState = 2 /* WSConnState.CONNECTING */;\n        this._tcpRoundTripTime = this._DEFAULT_TCP_ROUND_TRIP_TIME;\n        this._tcpMaxWindowSize = this._DEFAULT_TCP_MAX_WINDOW_SIZE;\n        this.fwd_connectionState = 1 /* WSConnState.DISCONNECTED */;\n    }\n    /** Report a low-level asynchronous websocket error\n     *\n     * @param errorType {number}\n     * @param message {string}\n     **/\n    imm_asyncWebSocketError(errorType, message) {\n        // Note: throwing an exception here would typically kill the node.js process\n        this._yapi.imm_log('WS: ' + message + ' on ' + this.urlInfo.url);\n    }\n    /** Handle websocket-based event-monitoring work on a registered hub\n     *\n     * @param mstimeout {number}\n     * @param errmsg {YErrorMsg}\n     * @returns {number}\n     */\n    testHub(mstimeout, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.disconnecting) {\n                if (errmsg) {\n                    errmsg.msg = \"I/O error\";\n                }\n                return YAPI_IO_ERROR;\n            }\n            // Open WebSocket connection\n            this._connectionState = 2 /* WSConnState.CONNECTING */;\n            if (!this.notbynOpenPromise) {\n                this.notbynOpenTimeout = (mstimeout ? this._yapi.GetTickCount() + mstimeout : null);\n                this.notbynOpenPromise = new Promise((resolve, reject) => {\n                    if (mstimeout) {\n                        this.notbynOpenTimeoutObj = setTimeout(() => {\n                            resolve({ errorType: YAPI_TIMEOUT, errorMsg: \"Timeout on WebSocket connection\" });\n                            this.imm_commonDisconnect();\n                            this.imm_disconnectNow();\n                        }, mstimeout);\n                    }\n                    this.notbynTryOpen = () => {\n                        if (this.disconnecting) {\n                            resolve({ errorType: YAPI_IO_ERROR, errorMsg: \"I/O error\" });\n                        }\n                        else {\n                            this.imm_webSocketOpen(this.urlInfo.url + 'not.byn');\n                            this._firstArrivalCallback = true;\n                            if (!this.websocket) {\n                                resolve({ errorType: YAPI_IO_ERROR, errorMsg: \"I/O error\" });\n                            }\n                            else {\n                                this.websocket.onmessage = ((evt) => {\n                                    this._webSocketMsg(new Uint8Array(evt.data));\n                                    if (this._connectionState == 4 /* WSConnState.READY */) {\n                                        // registration is now complete\n                                        this._connectionState = 5 /* WSConnState.CONNECTED */;\n                                        if (this.notbynOpenTimeoutObj) {\n                                            clearTimeout(this.notbynOpenTimeoutObj);\n                                            this.notbynOpenTimeoutObj = null;\n                                        }\n                                        // this will cause an API load - which may still cause a disconnect\n                                        // in case of communication failure\n                                        this.signalHubConnected()\n                                            .catch((e) => {\n                                            this.imm_disconnectNow();\n                                        })\n                                            .then(() => {\n                                            resolve({ errorType: YAPI_SUCCESS, errorMsg: \"\" });\n                                        });\n                                    }\n                                    else if (this._connectionState == 0 /* WSConnState.DEAD */) {\n                                        if (this._session_error) {\n                                            if (errmsg) {\n                                                errmsg.msg = this._session_error;\n                                            }\n                                            this._yapi.imm_log('WebSocket error: ' + this._session_error);\n                                        }\n                                        if (this._session_errno == 401) {\n                                            // when closing due to unauthorized access, stop retries\n                                            this.imm_commonDisconnect();\n                                            resolve({ errorType: YAPI_UNAUTHORIZED, errorMsg: \"Unauthorized access\" });\n                                        }\n                                        else {\n                                            resolve({ errorType: YAPI_IO_ERROR, errorMsg: \"I/O error\" });\n                                        }\n                                        this.imm_disconnectNow();\n                                    }\n                                });\n                                this.websocket.onclose = ((evt) => {\n                                    if (this._yapi._logLevel >= 4) {\n                                        this._yapi.imm_log('WebSocket connection closed');\n                                    }\n                                    this._connectionState = 1 /* WSConnState.DISCONNECTED */;\n                                    this.websocket = null;\n                                    if (this.retryDelay < 0) {\n                                        // this happens typically for websocket callback\n                                        this.imm_commonDisconnect();\n                                    }\n                                    this.imm_dropAllPendingConnection();\n                                    if (this.disconnecting) {\n                                        return;\n                                    }\n                                    // connection error\n                                    if (!this.imm_testHubAgainLater()) {\n                                        resolve({ errorType: YAPI_IO_ERROR, errorMsg: \"I/O error\" });\n                                    }\n                                });\n                                this.websocket.onerror = ((evt) => {\n                                    if (evt.message && (!/ ETIMEDOUT /.test(evt.message) || this._yapi._logLevel >= 4)) {\n                                        this._yapi.imm_log('WebSocket error: ', evt);\n                                    }\n                                    if (this.retryDelay < 0) {\n                                        // this happens typically for websocket callback\n                                        this.imm_commonDisconnect();\n                                    }\n                                    this.imm_disconnectNow();\n                                    if (this.disconnecting) {\n                                        this._yapi.imm_log('Disconnecting after error');\n                                        return;\n                                    }\n                                    // connection error\n                                    if (!this.imm_testHubAgainLater()) {\n                                        resolve({ errorType: YAPI_IO_ERROR, errorMsg: \"I/O error\" });\n                                    }\n                                });\n                                if (this.timeoutId) {\n                                    clearTimeout(this.timeoutId);\n                                }\n                                this.timeoutId = setTimeout(() => {\n                                    if (!this.imm_isForwarded()) {\n                                        // abort communication channel, this will trigger a reconnect\n                                        this._yapi.imm_log('WS: connection stalled during open');\n                                        this.imm_disconnectNow();\n                                    }\n                                }, 60000); // 30s timeout to start receiving notifications\n                            }\n                        }\n                    };\n                    this.notbynTryOpen();\n                });\n            }\n            let res_struct = yield this.notbynOpenPromise;\n            if (errmsg) {\n                errmsg.msg = res_struct.errorMsg;\n            }\n            this.notbynOpenPromise = null;\n            return res_struct.errorType;\n        });\n    }\n    /** Compute websocket authentication sha1 key\n     *\n     * @param user {string}\n     * @param pass {string}\n     * @param serial {string}\n     * @param nonce\n     * @return {Uint8Array}\n     */\n    imm_computeAuth(user, pass, serial, nonce) {\n        let ha1_str = user + ':' + serial + ':' + pass;\n        let ha1 = this._yapi.imm_bin2hexstr(this._yapi.imm_yMD5(ha1_str)).toLowerCase();\n        let nonce8 = new Uint8Array([(nonce & 0xff) >>> 0, (nonce & 0xff00) >>> 8, (nonce & 0xff0000) >>> 16, nonce >>> 24]);\n        let sha1_raw = ha1 + this._yapi.imm_bin2hexstr(nonce8).toLowerCase();\n        return this._yapi.imm_ySHA1(sha1_raw.toLowerCase());\n    }\n    /** Tell if a websocket hub is currently forwarded and handled remotely\n     *\n     * @return {boolean}\n     */\n    imm_isForwarded() {\n        return (this.fwd_connectionState == 5 /* WSConnState.CONNECTED */) && (this.fwd_websocket !== null);\n    }\n    /** Handle an incoming packet\n     *\n     * @param arr_bytes {Uint8Array}\n     **/\n    _webSocketMsg(arr_bytes) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                if (this.imm_isForwarded()) {\n                    this.lastPingStamp = Date.now();\n                    this.fwd_websocket.send(arr_bytes);\n                    return;\n                }\n                let reltime = (this._yapi.GetTickCount() - this._connectionTime) / 1000.0;\n                let ystream = arr_bytes[0] >>> 3;\n                let text = '';\n                if (ystream == 8 /* YSTREAM.TCP_NOTIF */) {\n                    //this._yapi.imm_log(reltime+': TCP_NOTIF len='+arr_bytes.length);\n                    for (let i = 1; i < arr_bytes.length; i++) {\n                        text += String.fromCharCode(arr_bytes[i]);\n                    }\n                    yield this._yapi.parseEvents(this, text);\n                    return;\n                }\n                // Other types of messages\n                let ws = this.websocket;\n                let tcpchan = arr_bytes[0] & 7;\n                if (ystream == 1 /* YSTREAM.TCP */ || ystream == 2 /* YSTREAM.TCP_CLOSE */ || ystream == 9 /* YSTREAM.TCP_ASYNCCLOSE */) {\n                    if (tcpchan > 3) {\n                        this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Unexpected frame for tcpChan ' + tcpchan + ' (' + ystream + ')');\n                        return;\n                    }\n                    let tcp_end = arr_bytes.length;\n                    let yreq = this.tcpChan[tcpchan];\n                    //this._yapi.imm_log(reltime+': TCP ystream='+ystream+' len='+arr_bytes.length);\n                    if (!yreq) {\n                        this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Drop frame for closed tcpChan ' + tcpchan + ' (' + ystream + ')');\n                        return;\n                    }\n                    if (ystream == 9 /* YSTREAM.TCP_ASYNCCLOSE */) {\n                        // async close packet, check async signature byte\n                        tcp_end--;\n                        let rcvId = arr_bytes[tcp_end];\n                        if (this._yapi._logLevel >= 5) {\n                            this._yapi.imm_log('async-' + rcvId + ' close received');\n                        }\n                        if (yreq.asyncId == 0) {\n                            if (this._yapi._logLevel >= 4) {\n                                this._yapi.imm_log('async-' + rcvId + ' close received while req @' + yreq._creat + ' was pending');\n                            }\n                            this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Asynchronous close received, sync reply request');\n                            return;\n                        }\n                        else if (yreq.asyncId != rcvId) {\n                            if (this._yapi._logLevel >= 4) {\n                                this._yapi.imm_log('async-' + rcvId + ' close received instead of async-' + yreq.asyncId + ' close');\n                            }\n                            this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Incorrect async-close signature on tcpChan ' + tcpchan);\n                            return;\n                        }\n                    }\n                    let oldArr = yreq.bin_result;\n                    let newArr = new Uint8Array(oldArr.length + tcp_end - 1);\n                    newArr.set(oldArr, 0);\n                    newArr.set(arr_bytes.subarray(1, tcp_end), oldArr.length);\n                    yreq.bin_result = newArr;\n                    // when the request is closed, post result to caller\n                    if (ystream == 2 /* YSTREAM.TCP_CLOSE */ || ystream == 9 /* YSTREAM.TCP_ASYNCCLOSE */) {\n                        // Pop request from tcp channel\n                        this.tcpChan[tcpchan] = yreq.next;\n                        // Handle synchronous close\n                        if (ystream == 2 /* YSTREAM.TCP_CLOSE */) {\n                            // synchronous close\n                            if (yreq.asyncId != 0) {\n                                if (this._yapi._logLevel >= 4) {\n                                    this._yapi.imm_log('Synchronous close received instead of async-' + yreq.asyncId + ' close');\n                                }\n                                // no need to ack that close packet, we have sent the ack when aborting\n                                // the request if the request was indeed coming from us\n                                this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Synchronous close received, async ack expected');\n                                return;\n                            }\n                            else if (this.websocket) {\n                                if (yreq.toBeSent && yreq.sendPos < yreq.toBeSent.length) {\n                                    // close before completely sent\n                                    // force a websocket disconnection to resynchronize\n                                    this._yapi.imm_log('WS: tcpclose at ' + yreq.sendPos + ' < ' + yreq.toBeSent.length);\n                                    this.imm_disconnectNow();\n                                    if (yreq.timeoutId) {\n                                        clearTimeout(yreq.timeoutId);\n                                    }\n                                    if (yreq.asyncId == 0) {\n                                        yreq.errorType = YAPI_IO_ERROR;\n                                        yreq.errorMsg = 'TCP closed during upload';\n                                        if (yreq.acceptor) {\n                                            try {\n                                                yreq.acceptor(yreq);\n                                            }\n                                            catch (e) { }\n                                        }\n                                    }\n                                    return;\n                                }\n                                if (yreq.timeoutId) {\n                                    // request was not aborted, ack synchronous close by sending YSTREAM_TCP_CLOSE\n                                    let frame = new Uint8Array(1);\n                                    frame[0] = (2 /* YSTREAM.TCP_CLOSE */ << 3) + tcpchan;\n                                    this.websocket.send(frame);\n                                }\n                            }\n                        }\n                        // Clear timeout for this request\n                        if (yreq.timeoutId) {\n                            clearTimeout(yreq.timeoutId);\n                            yreq.timeoutId = 0;\n                        }\n                        // process incoming reply\n                        let pos = yreq.bin_result.indexOf(13);\n                        if (pos < 0) {\n                            yreq.errorType = YAPI_IO_ERROR;\n                            yreq.errorMsg = 'Bad response header';\n                        }\n                        else {\n                            let header = this._yapi.imm_bin2str(yreq.bin_result.subarray(0, pos));\n                            let words = header.split(' ');\n                            if (words[0] == 'OK') {\n                                yreq.errorType = YAPI_SUCCESS;\n                                let nextpos = yreq.bin_result.indexOf(13, pos + 2);\n                                while (nextpos > pos + 2) {\n                                    pos = nextpos;\n                                    nextpos = yreq.bin_result.indexOf(13, pos + 2);\n                                }\n                                if (nextpos < 0) {\n                                    // just in case, but this should not happen normally\n                                    nextpos = pos;\n                                }\n                                yreq.bin_result = yreq.bin_result.subarray(nextpos + 2);\n                            }\n                            else if (words[0] == '0K') {\n                                yreq.errorType = YAPI_IO_ERROR;\n                                yreq.errorMsg = 'Unexpected persistent connection';\n                            }\n                            else {\n                                let status = parseInt(words[1]);\n                                yreq.errorType = (status == 401 ? YAPI_UNAUTHORIZED : YAPI_IO_ERROR);\n                                yreq.errorMsg = 'HTTP error ' + header.slice(words[0].length + 1) + ' on ' + yreq.devUrl;\n                            }\n                        }\n                        if (yreq.asyncId == 0) {\n                            if (this._yapi._logLevel >= 5) {\n                                this._yapi.imm_log('request @' + yreq._creat + ' done, status=' + yreq.errorType);\n                            }\n                            this.imm_sendPendingRequest(tcpchan);\n                            if (yreq.acceptor) {\n                                yreq.acceptor(yreq);\n                            }\n                        }\n                        else {\n                            // asynchronous request: log errors, but nothing else to be done\n                            if (yreq.errorType != YAPI_SUCCESS) {\n                                this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Async request error: ' + yreq.errorMsg);\n                            }\n                        }\n                    }\n                    return;\n                }\n                if (!this.websocket) {\n                    return;\n                }\n                if (ystream == 5 /* YSTREAM.META */) {\n                    let metatype = arr_bytes[1];\n                    //this._yapi.imm_log(reltime+': META type='+metatype+' len='+arr_bytes.length);\n                    switch (metatype) {\n                        case 4 /* USB_META.WS_ANNOUNCE */:\n                            if (arr_bytes.length < 1 + this._USB_META_WS_ANNOUNCE_SIZE) {\n                                return;\n                            }\n                            this._remoteVersion = arr_bytes[2];\n                            if (this._remoteVersion < 1) {\n                                return;\n                            }\n                            let maxtcpws = (arr_bytes[3] << 4) + (arr_bytes[4] << 12);\n                            if (maxtcpws > 0) {\n                                this._tcpMaxWindowSize = maxtcpws;\n                            }\n                            this._remoteNonce = arr_bytes[5] + (arr_bytes[6] << 8) + (arr_bytes[7] << 16) + (arr_bytes[8] << 24);\n                            for (let i = 9; i < 9 + 20; i++) {\n                                if (arr_bytes[i] == 0) {\n                                    this._remoteSerial = this._yapi.imm_bin2str(arr_bytes.subarray(9, i));\n                                    break;\n                                }\n                            }\n                            let nonce = new Uint8Array(4);\n                            this.imm_getRandomValues(nonce);\n                            this._nonce = nonce[0] + (nonce[1] << 8) + (nonce[2] << 16) + (nonce[3] << 24);\n                            this._connectionTime = this._yapi.GetTickCount();\n                            this._connectionState = 3 /* WSConnState.AUTHENTICATING */;\n                            // send our authentication packet\n                            let frame = new Uint8Array(1 + this._USB_META_WS_AUTHENTICATION_SIZE);\n                            let version = (this._remoteVersion < 2 ? this._remoteVersion : 2);\n                            let flags = 0;\n                            frame[0] = (5 /* YSTREAM.META */ << 3);\n                            frame[1] = 5 /* USB_META.WS_AUTHENTICATION */;\n                            frame[2] = version;\n                            if (this.urlInfo.pass != '') {\n                                flags = this._USB_META_WS_VALID_SHA1;\n                                let sha1 = this.imm_computeAuth(this.urlInfo.user, this.urlInfo.pass, this._remoteSerial, this._remoteNonce);\n                                for (let i = 0; i < sha1.length; i++) {\n                                    frame[9 + i] = sha1[i];\n                                }\n                            }\n                            frame[3] = flags & 0xff;\n                            frame[4] = flags >>> 8;\n                            frame[5] = this._nonce & 0xff;\n                            frame[6] = (this._nonce >>> 8) & 0xff;\n                            frame[7] = (this._nonce >>> 16) & 0xff;\n                            frame[8] = (this._nonce >>> 24) & 0xff;\n                            this.websocket.send(frame);\n                            break;\n                        case 5 /* USB_META.WS_AUTHENTICATION */:\n                            if (this._connectionState != 3 /* WSConnState.AUTHENTICATING */) {\n                                return;\n                            }\n                            if (arr_bytes.length < 1 + this._USB_META_WS_AUTHENTICATION_SIZE) {\n                                return;\n                            }\n                            this._tcpRoundTripTime = this._yapi.GetTickCount() - this._connectionTime + 1;\n                            if (this._tcpMaxWindowSize < 2048 && this._tcpRoundTripTime < 7) {\n                                // Fix overly optimistic round-trip on YoctoHubs\n                                this._tcpRoundTripTime = 7;\n                            }\n                            let uploadRate = (this._tcpMaxWindowSize * 1000 / this._tcpRoundTripTime) >> 0;\n                            if (this._yapi._logLevel >= 4) {\n                                this._yapi.imm_log('RTT=' + this._tcpRoundTripTime + 'ms, WS=' + this._tcpMaxWindowSize + ', uploadRate=' + (uploadRate / 1000) + ' KB/s');\n                            }\n                            this._remoteVersion = arr_bytes[2];\n                            if (this._remoteVersion < 1) {\n                                return;\n                            }\n                            let inflags = arr_bytes[3] + (arr_bytes[4] << 8);\n                            if ((inflags & this._USB_META_WS_RW) != 0) {\n                                this._rwAccess = true;\n                            }\n                            else {\n                                this._rwAccess = false;\n                            }\n                            if ((inflags & this._USB_META_WS_VALID_SHA1) != 0) {\n                                let remote_sha1 = arr_bytes.subarray(9, 29);\n                                let sha1 = this.imm_computeAuth(this.urlInfo.user, this.urlInfo.pass, this._remoteSerial, this._nonce);\n                                for (let i = 0; i < sha1.length; i++) {\n                                    if (sha1[i] != remote_sha1[i]) {\n                                        // bad signature\n                                        this._session_errno = 401;\n                                        this._session_error = 'Authentication failed';\n                                        this._connectionState = 0 /* WSConnState.DEAD */;\n                                        return;\n                                    }\n                                }\n                                // Password verified OK\n                                this._connectionState = 4 /* WSConnState.READY */;\n                            }\n                            else {\n                                if (this.urlInfo.pass == '') {\n                                    // No password required, connection OK\n                                    this._connectionState = 4 /* WSConnState.READY */;\n                                }\n                                else {\n                                    // Hub did not sign password, unauthorized\n                                    this._session_errno = 401;\n                                    if (this.urlInfo.user == 'admin' && !this._rwAccess) {\n                                        this._session_error = 'Authentication as admin failed';\n                                    }\n                                    else {\n                                        this._session_error = 'Password not set on remote hub';\n                                    }\n                                    this._connectionState = 0 /* WSConnState.DEAD */;\n                                    return;\n                                }\n                            }\n                            break;\n                        case 6 /* USB_META.WS_ERROR */:\n                            this._session_errno = arr_bytes[3] + (arr_bytes[4] << 8);\n                            if (this._session_errno == 401) {\n                                this._session_error = 'Authentication failed';\n                            }\n                            else {\n                                this._session_error = 'Remote hub closed connection with error ' + this._session_errno;\n                            }\n                            this._connectionState = 0 /* WSConnState.DEAD */;\n                            break;\n                        case 7 /* USB_META.ACK_UPLOAD */:\n                            tcpchan = arr_bytes[2];\n                            if (this.tcpChan[tcpchan]) {\n                                let yreq = this.tcpChan[tcpchan];\n                                let ackBytes = arr_bytes[3] + (arr_bytes[4] << 8) + (arr_bytes[5] << 16) + (arr_bytes[6] << 24);\n                                let ackTime = this._yapi.GetTickCount();\n                                if (this._lastUploadAckTime[tcpchan] != 0 && ackBytes > this._lastUploadAckBytes[tcpchan]) {\n                                    this._lastUploadAckBytes[tcpchan] = ackBytes;\n                                    this._lastUploadAckTime[tcpchan] = ackTime;\n                                    let deltaBytes = ackBytes - this._lastUploadRateBytes[tcpchan];\n                                    let deltaTime = ackTime - this._lastUploadRateTime[tcpchan];\n                                    if (deltaTime < 500)\n                                        break; // wait more\n                                    if (deltaTime < 1000 && deltaBytes < 65536)\n                                        break; // wait more\n                                    this._lastUploadRateBytes[tcpchan] = ackBytes;\n                                    this._lastUploadRateTime[tcpchan] = ackTime;\n                                    if (yreq.progressCb && yreq.toBeSent) {\n                                        yreq.progressCb(ackBytes, yreq.toBeSent.length);\n                                    }\n                                    let newRate = deltaBytes * 1000 / deltaTime;\n                                    this._uploadRate[tcpchan] = (0.8 * this._uploadRate[tcpchan] + 0.3 * newRate) >> 0; // +10% intentionally\n                                    if (this._yapi._logLevel >= 5) {\n                                        this._yapi.imm_log(\"New rate: \" + (this._uploadRate[tcpchan] / 1000) + \" KB/s (last \" + ((deltaBytes / 1000) >> 0) + \"KB sent at \" + ((newRate >> 0) / 1000) + \" KB/s)\");\n                                    }\n                                }\n                                else {\n                                    //this._yapi.imm_log(\"First Ack received\");\n                                    this._lastUploadAckBytes[tcpchan] = ackBytes;\n                                    this._lastUploadAckTime[tcpchan] = ackTime;\n                                    this._lastUploadRateBytes[tcpchan] = ackBytes;\n                                    this._lastUploadRateTime[tcpchan] = ackTime;\n                                    if (yreq.progressCb && yreq.toBeSent) {\n                                        yreq.progressCb(ackBytes, yreq.toBeSent.length);\n                                    }\n                                    // Make sure upload resumes as soon as the first packet is confirmed\n                                    this.imm_sendPendingRequest(tcpchan);\n                                }\n                            }\n                            break;\n                    }\n                    return;\n                }\n                this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Unsupported message: ' + this._yapi.imm_bin2hexstr(arr_bytes));\n            }\n            catch (e) {\n                this._yapi.imm_log('Unhandled exception in _webSocketMsg:', e);\n            }\n        });\n    }\n    /** Send an outgoing packet\n     *\n     * @param arr_bytes {Uint8Array}\n     **/\n    imm_webSocketSend(arr_bytes) {\n        if (this.websocket) {\n            this.websocket.send(arr_bytes);\n        }\n    }\n    /** Perform an HTTP query on the hub\n     *\n     * @param method {string}\n     * @param devUrl {string}\n     * @param obj_body {YHTTPBody|null}\n     * @param tcpchan {number}\n     * @returns {YHTTPRequest}\n     */\n    request(method, devUrl, obj_body, tcpchan) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._yapi._logLevel >= 3) {\n                this.imm_logrequest(method, devUrl, obj_body);\n            }\n            //noinspection UnnecessaryLocalVariableJS\n            let httpPromise = new Promise((resolve, reject) => {\n                let subReq = method + ' ' + devUrl + ' \\r\\n\\r\\n';\n                let ws = this.websocket;\n                let isAsync = (this._remoteVersion > 0 && devUrl.slice(-2) == '&.');\n                let yreq = new YHTTPRequest(new Uint8Array(0));\n                if (this._yapi._logLevel >= 5) {\n                    yreq._creat = (Date.now() % 600000).toString();\n                    this._yapi.imm_log('request @' + yreq._creat + ': ' + method + ' ' + devUrl);\n                }\n                yreq.acceptor = resolve;\n                yreq.devUrl = devUrl;\n                yreq.sendPos = 0;\n                if (obj_body) {\n                    let boundary = this.imm_getBoundary();\n                    let body = this.imm_formEncodeBody(obj_body, boundary);\n                    subReq = subReq.slice(0, -2) +\n                        'Content-Type: multipart/form-data, boundary=' + boundary + '\\r\\n\\r\\n';\n                    yreq.toBeSent = new Uint8Array(subReq.length + body.length);\n                    yreq.toBeSent.set(body, subReq.length);\n                    yreq.progressCb = obj_body.progressCb;\n                }\n                else {\n                    yreq.toBeSent = new Uint8Array(subReq.length);\n                }\n                for (let i = 0; i < subReq.length; i++) {\n                    yreq.toBeSent[i] = subReq.charCodeAt(i);\n                }\n                if (tcpchan > 3) {\n                    yreq.errorType = YAPI_IO_ERROR;\n                    yreq.errorMsg = 'Unsupported tcpChan ' + tcpchan;\n                    try {\n                        yreq.acceptor(yreq);\n                    }\n                    catch (e) { }\n                    return;\n                }\n                if (!ws || this.disconnecting || this._connectionState != 5 /* WSConnState.CONNECTED */) {\n                    if (this._yapi._logLevel >= 4) {\n                        this._yapi.imm_log('request @' + yreq._creat + ' failed, websocket is down');\n                    }\n                    yreq.errorType = YAPI_IO_ERROR;\n                    yreq.errorMsg = 'WebSocket not connected';\n                    try {\n                        yreq.acceptor(yreq);\n                    }\n                    catch (e) { }\n                    return;\n                }\n                if (isAsync) {\n                    yreq.asyncId = this.nextAsyncId++;\n                    if (this.nextAsyncId >= 127) {\n                        this.nextAsyncId = 48;\n                    }\n                }\n                // Queue all requests on tcpChan 0 for now, to preserve request order\n                let queue = this.tcpChan[tcpchan];\n                if (queue) {\n                    while (queue.next) {\n                        queue = queue.next;\n                    }\n                    queue.next = yreq;\n                }\n                else {\n                    this.tcpChan[tcpchan] = yreq;\n                }\n                // Send request if possible\n                this.imm_sendPendingRequest(tcpchan);\n            });\n            //noinspection JSValidateTypes\n            return httpPromise;\n        });\n    }\n    /** Send all possible pending requests on specified tcpchan\n     *\n     * @param tcpchan {number}\n     */\n    imm_sendPendingRequest(tcpchan) {\n        let yreq = this.tcpChan[tcpchan];\n        while (yreq) {\n            if (!this.websocket || this.disconnecting || this._connectionState != 5 /* WSConnState.CONNECTED */) {\n                if (this._yapi._logLevel >= 4) {\n                    this._yapi.imm_log('request @' + yreq._creat + ' failed, websocket is down');\n                }\n                yreq.errorType = YAPI_IO_ERROR;\n                yreq.errorMsg = 'WebSocket not connected';\n                if (yreq.acceptor) {\n                    try {\n                        yreq.acceptor(yreq);\n                    }\n                    catch (e) { }\n                }\n                yreq = yreq.next;\n                continue;\n            }\n            // synchronous request pending, cannot do more for now\n            let pendingCount = 1;\n            for (let yr = yreq; yr.next; yr = yr.next)\n                pendingCount++;\n            if (!yreq.toBeSent) {\n                // request already sent\n                if (yreq.asyncId == 0) {\n                    if (this._yapi._logLevel >= 5) {\n                        this._yapi.imm_log(pendingCount.toString() + ' req pending, @' + yreq._creat + ' not completed');\n                    }\n                    return;\n                }\n                yreq = yreq.next;\n                continue;\n            }\n            // Send request\n            let isAsync = (yreq.asyncId != 0);\n            let asyncCloseSet = false;\n            let pos = yreq.sendPos;\n            let end = yreq.toBeSent.length;\n            let i, frame;\n            if (end > 2108 && this._remoteVersion >= 2 && tcpchan == 0) {\n                // Perform throttling on large uploads\n                if (pos == 0) {\n                    // First chunk is always first multiple of full window (124 bytes) above 2KB\n                    end = 2108;\n                    // Prepare to compute effective transfer rate\n                    this._lastUploadAckBytes[tcpchan] = 0;\n                    this._lastUploadAckTime[tcpchan] = 0;\n                    // Start with initial RTT based estimate\n                    this._uploadRate[tcpchan] = (this._tcpMaxWindowSize * 1000 / this._tcpRoundTripTime) >> 0;\n                }\n                else if (this._lastUploadAckTime[tcpchan] == 0) {\n                    // first block not yet acked, wait more\n                    if (yreq.sendTimeoutId)\n                        clearTimeout(yreq.sendTimeoutId);\n                    yreq.sendTimeoutId = setTimeout(() => { this.imm_sendPendingRequest(tcpchan); }, this._tcpRoundTripTime);\n                    return;\n                }\n                else {\n                    // adapt window frame to available bandwidth\n                    let bytesOnTheAir = pos - this._lastUploadAckBytes[tcpchan];\n                    let uploadRate = this._uploadRate[tcpchan];\n                    let timeOnTheAir = this._yapi.GetTickCount() - this._lastUploadAckTime[tcpchan];\n                    let toBeSent = (2 * uploadRate + 1024 - bytesOnTheAir + (uploadRate * timeOnTheAir / 1000)) >> 0;\n                    if (toBeSent + bytesOnTheAir > this._DEFAULT_TCP_MAX_WINDOW_SIZE) {\n                        toBeSent = this._DEFAULT_TCP_MAX_WINDOW_SIZE - bytesOnTheAir;\n                    }\n                    if (toBeSent < 64) {\n                        let waitTime = (1000 * (128 - toBeSent) / uploadRate) >> 0;\n                        if (waitTime < 2)\n                            waitTime = 2;\n                        //this._yapi.imm_log(bytesOnTheAir + \" sent \" + timeOnTheAir + \"ms ago, waiting \" + waitTime + \"ms...\");\n                        if (yreq.sendTimeoutId)\n                            clearTimeout(yreq.sendTimeoutId);\n                        yreq.sendTimeoutId = setTimeout(() => { this.imm_sendPendingRequest(tcpchan); }, waitTime);\n                        return;\n                    }\n                    if (end > pos + toBeSent) {\n                        // when sending partial content, round up to full frames\n                        if (toBeSent > 124) {\n                            toBeSent = ((toBeSent / 124) >> 0) * 124;\n                        }\n                        end = pos + toBeSent;\n                    }\n                }\n            }\n            //this._yapi.imm_log(\"Upload data from \"+pos+\" to \"+end);\n            while (pos < end) {\n                let framelen = 1 + end - pos;\n                if (framelen > 125)\n                    framelen = 125;\n                let datalen = framelen - 1;\n                if (isAsync && pos + datalen == yreq.toBeSent.length && framelen < 125) {\n                    frame = new Uint8Array(framelen + 1);\n                    frame[0] = 8 * 9 /* YSTREAM.TCP_ASYNCCLOSE */ + tcpchan;\n                    frame[framelen] = yreq.asyncId;\n                    asyncCloseSet = true;\n                }\n                else {\n                    frame = new Uint8Array(framelen);\n                    frame[0] = 8 * 1 /* YSTREAM.TCP */ + tcpchan;\n                }\n                frame.set(yreq.toBeSent.subarray(pos, pos + datalen), 1);\n                pos += datalen;\n                this.imm_webSocketSend(frame);\n            }\n            let sent = pos - yreq.sendPos;\n            yreq.sendPos = pos;\n            if (yreq.sendPos < yreq.toBeSent.length) {\n                // not completely sent, cannot do more for now\n                let waitTime = (1000 * sent / this._uploadRate[tcpchan]) >> 0;\n                if (waitTime < 2)\n                    waitTime = 2;\n                //this._yapi.imm_log(\"Sent \" + sent + \" bytes, waiting \" + waitTime + \"ms...\");\n                if (yreq.sendTimeoutId)\n                    clearTimeout(yreq.sendTimeoutId);\n                yreq.sendTimeoutId = setTimeout(() => { this.imm_sendPendingRequest(tcpchan); }, waitTime);\n                return;\n            }\n            if (isAsync && !asyncCloseSet) {\n                frame = new Uint8Array(2);\n                frame[0] = 8 * 9 /* YSTREAM.TCP_ASYNCCLOSE */ + tcpchan;\n                frame[1] = yreq.asyncId;\n                this.imm_webSocketSend(frame);\n            }\n            // Mark request as sent\n            yreq.toBeSent = null;\n            if (isAsync && yreq.acceptor) {\n                // Accept asynchronous queries immediately\n                try {\n                    yreq.acceptor(yreq);\n                }\n                catch (e) {\n                    // discard exception\n                    this._yapi.imm_log('WS: async acceptor exception: ', e);\n                }\n            }\n            // Setup timeout counter\n            let mstimeout = this._yapi._networkTimeoutMs;\n            if (yreq.devUrl) {\n                if (yreq.devUrl.indexOf('/testcb.txt') >= 0) {\n                    mstimeout = this._YIO_1_MINUTE_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/logger.json') >= 0) {\n                    mstimeout = this._YIO_1_MINUTE_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/rxmsg.json') >= 0) {\n                    mstimeout = this._YIO_1_MINUTE_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/rxdata.bin') >= 0) {\n                    mstimeout = this._YIO_1_MINUTE_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/at.txt') >= 0) {\n                    mstimeout = this._YIO_1_MINUTE_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/files.json') >= 0) {\n                    mstimeout = this._YIO_1_MINUTE_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/upload.html') >= 0) {\n                    mstimeout = this._YIO_10_MINUTES_TCP_TIMEOUT;\n                }\n                else if (yreq.devUrl.indexOf('/flash.json') >= 0) {\n                    mstimeout = this._YIO_10_MINUTES_TCP_TIMEOUT;\n                }\n            }\n            yreq.timeoutId = setTimeout((chan, yr) => { this.imm_abortRequest(chan, yr); }, mstimeout, tcpchan, yreq);\n            yreq._sent = (Date.now() % 600000).toString();\n            // Wait for request completion in case this is a sync request\n            if (this._yapi._logLevel >= 5) {\n                this._yapi.imm_log('req @' + yreq._creat + ' sent (1/' + pendingCount.toString() + ')' +\n                    (isAsync ? ' async-' + yreq.asyncId + ', continue' : ', waiting for reply'));\n            }\n            if (!isAsync) {\n                return;\n            }\n            // Try to send next pending request, if possible\n            yreq = yreq.next;\n        }\n    }\n    // Abort a request and send close packet to peer\n    //\n    imm_abortRequest(tcpchan, yreq) {\n        // make sure the request has not been completed in between\n        if (!yreq.timeoutId)\n            return;\n        yreq.timeoutId = null;\n        if (yreq.asyncId == 0) {\n            // send a close to abort synchronous request\n            let frame = new Uint8Array(1);\n            frame[0] = 8 * 2 /* YSTREAM.TCP_CLOSE */ + tcpchan;\n            this.imm_webSocketSend(frame);\n            if (this._yapi._logLevel >= 4) {\n                let pendingCount = 1;\n                for (let yr = yreq; yr.next; yr = yr.next)\n                    pendingCount++;\n                this._yapi.imm_log(pendingCount.toString() + ' req pending, @' + yreq._creat + ' is in timeout');\n            }\n            // device is still expected to send a close to remove request from queue\n            // but if that does not happen, remove the request from queue after 5 seconds\n            setTimeout((chan, yr) => {\n                this._yapi.imm_log('Dropping synchronous request after timeout: ' + yr.devUrl);\n                this.imm_forgetRequest(chan, yr);\n            }, 5000, tcpchan, yreq);\n        }\n        // log error\n        this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Timeout on ' + yreq.devUrl + ' (tcpchan ' + tcpchan + ')');\n    }\n    // Drop a request from queue in case of timeout after abort\n    //\n    imm_forgetRequest(tcpchan, yreq) {\n        let queue = this.tcpChan[tcpchan];\n        if (queue == yreq) {\n            // pop blocking request and resume processing\n            this.tcpChan[tcpchan] = yreq.next;\n            // mark request as failed\n            if (yreq.asyncId == 0) {\n                yreq.errorType = YAPI_IO_ERROR;\n                yreq.errorMsg = 'Timeout on ' + yreq.devUrl + ' (tcpchan ' + tcpchan + ')';\n                if (yreq.acceptor) {\n                    try {\n                        yreq.acceptor(yreq);\n                    }\n                    catch (e) { }\n                }\n            }\n            this.imm_sendPendingRequest(tcpchan);\n        }\n    }\n    // Drop all pending requests from queues, as well as forwarded connection, when a hub connection is dropped\n    //\n    imm_dropAllPendingConnection() {\n        if (this.fwd_connectionState != 1 /* WSConnState.DISCONNECTED */ && this.fwd_websocket) {\n            this.fwd_connectionState = 1 /* WSConnState.DISCONNECTED */;\n            this.fwd_websocket.close();\n            this.fwd_websocket = null;\n        }\n        for (let tcpchan = 0; tcpchan < this.tcpChan.length; tcpchan++) {\n            for (let yreq = this.tcpChan[tcpchan]; yreq; yreq = yreq.next) {\n                // Remove request from queue\n                this.tcpChan[tcpchan] = yreq.next;\n                // Clear timeout for this request\n                if (yreq.timeoutId) {\n                    clearTimeout(yreq.timeoutId);\n                    yreq.timeoutId = 0;\n                }\n                // mark request as failed\n                if (yreq.asyncId == 0) {\n                    if (this._yapi._logLevel >= 4) {\n                        this._yapi.imm_log('drop @' + yreq._creat + ' (websocket down)');\n                    }\n                    yreq.errorType = YAPI_IO_ERROR;\n                    yreq.errorMsg = 'Request ' + yreq.devUrl + ' dropped (websocket down)';\n                    if (yreq.acceptor) {\n                        try {\n                            yreq.acceptor(yreq);\n                        }\n                        catch (e) { }\n                    }\n                }\n            }\n        }\n    }\n    websocketJoin(ws, arr_credentials, close_callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._connectionState != 5 /* WSConnState.CONNECTED */) {\n                this.imm_asyncWebSocketError(YAPI_IO_ERROR, 'Hub is disconnected, cannot join');\n                return false;\n            }\n            // Store websocket interface\n            this.fwd_websocket = ws;\n            this.fwd_credentials = arr_credentials;\n            this.fwd_closeCallback = close_callback;\n            this.fwd_connectionState = 2 /* WSConnState.CONNECTING */;\n            ws.onmessage = ((evt) => {\n                if (this.fwd_connectionState == 5 /* WSConnState.CONNECTED */) {\n                    // forward to remote hub\n                    if (this._connectionState == 5 /* WSConnState.CONNECTED */) {\n                        this.imm_webSocketSend(evt.data);\n                    }\n                    else {\n                        // drop unexpected frame in disconnected state\n                        this._yapi.imm_log('WS: drop packet from fwd API (state=' + this._connectionState + ')');\n                    }\n                }\n                else if (this.fwd_connectionState == 3 /* WSConnState.AUTHENTICATING */) {\n                    // handle authentication packet\n                    this.imm_handleAPIAuthPkt(evt.data);\n                }\n                else {\n                    // drop unexpected frame in disconnected state\n                    this._yapi.imm_log('WS: drop packet from fwd API (fwd_state=' + this.fwd_connectionState + ')');\n                }\n            });\n            ws.onclose = ((evt) => {\n                this.fwd_connectionState = 1 /* WSConnState.DISCONNECTED */;\n                this.fwd_websocket = null;\n                if (this.fwd_closeCallback) {\n                    this.fwd_closeCallback();\n                }\n            });\n            return this.imm_sendAPIAnnouncePkt();\n        });\n    }\n    imm_sendAPIAnnouncePkt() {\n        if (!this.fwd_websocket) {\n            return false;\n        }\n        let frame = new Uint8Array(1 + this._USB_META_WS_ANNOUNCE_SIZE);\n        let nonce = new Uint8Array(4);\n        this.imm_getRandomValues(nonce);\n        frame[0] = (5 /* YSTREAM.META */ << 3);\n        frame[1] = 4 /* USB_META.WS_ANNOUNCE */;\n        frame[2] = 2; // protocol version\n        frame[3] = (this._tcpMaxWindowSize >> 4) & 0xff; // TCP window size, in para\n        frame[4] = (this._tcpMaxWindowSize >> 12) & 0xff;\n        for (let i = 0; i < 4; i++) {\n            frame[5 + i] = nonce[i];\n        }\n        for (let i = 0; i < this._remoteSerial.length && i < 20; i++) {\n            frame[9 + i] = this._remoteSerial.charCodeAt(i);\n        }\n        this.fwd_nonce = frame[5] + (frame[6] << 8) + (frame[7] << 16) + (frame[8] << 24);\n        this.fwd_connectionState = 3 /* WSConnState.AUTHENTICATING */;\n        this.fwd_websocket.send(frame);\n        return true;\n    }\n    imm_handleAPIAuthPkt(msg) {\n        if (msg.length < 1 + this._USB_META_WS_AUTHENTICATION_SIZE || msg[0] != (5 /* YSTREAM.META */ << 3)) {\n            this._yapi.imm_log(\"bad-apiauth1\\n\");\n            this.fwd_connectionState = 0 /* WSConnState.DEAD */;\n            return;\n        }\n        if (msg[1] != 5 /* USB_META.WS_AUTHENTICATION */ || msg[2] > 2) {\n            this._yapi.imm_log(\"bad-apiauth2\\n\");\n            this.fwd_connectionState = 0 /* WSConnState.DEAD */;\n            return;\n        }\n        this._remoteVersion = msg[2];\n        // Only accepts authenticated requests\n        let flags = msg[3] + (msg[4] << 8);\n        if ((flags & this._USB_META_WS_VALID_SHA1) == 0) {\n            this._yapi.imm_log(\"bad-apiauth3\\n\");\n            this.fwd_connectionState = 0 /* WSConnState.DEAD */;\n            return;\n        }\n        if (!this.fwd_websocket) {\n            this._yapi.imm_log(\"no-fwd-ws\\n\");\n            this.fwd_connectionState = 0 /* WSConnState.DEAD */;\n            return;\n        }\n        let credIdx, remote_sha1 = msg.subarray(9, 29);\n        let credentials = this.fwd_credentials;\n        for (credIdx = 0; credIdx < credentials.length; credIdx++) {\n            let j, sha1 = this.imm_computeAuth(credentials[credIdx].user, credentials[credIdx].pass, this._remoteSerial, this.fwd_nonce);\n            for (j = 0; j < sha1.length; j++) {\n                if (sha1[j] != remote_sha1[j])\n                    break;\n            }\n            if (j >= sha1.length)\n                break;\n        }\n        if (credIdx >= credentials.length) {\n            // bad signature, return unsigned frame to signal invalid password\n            this._yapi.imm_log(\"bad-apiauth4\\n\");\n            msg.fill(0, 3);\n            this.fwd_websocket.send(msg);\n            this.fwd_connectionState = 0 /* WSConnState.DEAD */;\n            return;\n        }\n        // Return auth packet with new nonce and new signature to confirm connection\n        msg[3] |= this._USB_META_WS_RW;\n        this.fwd_nonce = msg[5] + (msg[6] << 8) + (msg[7] << 16) + (msg[8] << 24);\n        let sha1 = this.imm_computeAuth(credentials[credIdx].user, credentials[credIdx].pass, this._remoteSerial, this.fwd_nonce);\n        for (let i = 0; i < sha1.length; i++) {\n            msg[9 + i] = sha1[i];\n        }\n        this.fwd_websocket.send(msg);\n        this.fwd_connectionState = 5 /* WSConnState.CONNECTED */;\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let tcpchan_busy;\n            let timeout = this._yapi.GetTickCount() + 3000;\n            do {\n                tcpchan_busy = false;\n                for (let tcpchan = 0; tcpchan < 4; tcpchan++) {\n                    if (this.tcpChan[tcpchan] != null) {\n                        tcpchan_busy = true;\n                        break;\n                    }\n                }\n                if (tcpchan_busy) {\n                    yield this._yapi._microSleep_internal();\n                }\n            } while (tcpchan_busy && timeout > this._yapi.GetTickCount());\n            this.imm_commonDisconnect();\n            this.imm_disconnectNow();\n        });\n    }\n    // abort communication channel immediately\n    imm_disconnectNow() {\n        this._connectionState = 1 /* WSConnState.DISCONNECTED */;\n        if (this.websocket) {\n            let websocket = this.websocket;\n            this.websocket = null;\n            try {\n                // soft close\n                websocket.close();\n            }\n            catch (e) { }\n            if (websocket.terminate) {\n                // schedule a socket hard close after 1s\n                setTimeout(() => {\n                    try {\n                        if (websocket.terminate) {\n                            websocket.terminate();\n                        }\n                    }\n                    catch (e) { }\n                }, 1000);\n            }\n        }\n        this.imm_dropAllPendingConnection();\n    }\n    imm_isOnline() {\n        if (this._connectionState != 5 /* WSConnState.CONNECTED */) {\n            return false;\n        }\n        return super.imm_isOnline();\n    }\n}\n/*\n * SSDP-based hub discovery, available on Node.JS only (requires UDP sockets)\n */\nexport class YGenericSSDPManager {\n    constructor(obj_yapi) {\n        this._started = false;\n        this._callback = null;\n        this._SSDPCache = {};\n        this._thread = null; /* actually a NodeJS.Timeout */\n        this.YSSDP_PORT = 1900;\n        this.YSSDP_MCAST_ADDR_STR = '239.255.255.250';\n        this.YSSDP_URN_YOCTOPUCE = \"urn:yoctopuce-com:device:hub:1\";\n        this.YSSDP_DISCOVERY_MSG = \"M-SEARCH * HTTP/1.1\\r\\n\" +\n            \"HOST:\" + this.YSSDP_MCAST_ADDR_STR + \":\" + this.YSSDP_PORT + \"\\r\\n\" +\n            \"MAN:\\\"ssdp:discover\\\"\\r\\n\" +\n            \"MX:5\\r\\n\" +\n            \"ST:\" + this.YSSDP_URN_YOCTOPUCE + \"\\r\\n\" +\n            \"\\r\\n\";\n        this._yapi = obj_yapi;\n    }\n    _invokeCallback(str_serial, str_addUrl, str_removeUrl) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._callback) {\n                try {\n                    yield this._callback(str_serial, str_addUrl, str_removeUrl);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in hub discovery callback:', e);\n                }\n            }\n        });\n    }\n    imm_uuidToSerial(str_uuid) {\n        let s = '', pad = '';\n        let i = 0, u = 0;\n        for (; i < 4; i++, u += 2) {\n            s += String.fromCharCode(parseInt(str_uuid.substr(u, 2), 16));\n        }\n        u++;\n        for (; i < 6; i++, u += 2) {\n            s += String.fromCharCode(parseInt(str_uuid.substr(u, 2), 16));\n        }\n        u++;\n        for (; i < 8; i++, u += 2) {\n            s += String.fromCharCode(parseInt(str_uuid.substr(u, 2), 16));\n        }\n        s += '-';\n        u = str_uuid.indexOf(\"-COFF-EE\");\n        if (u < 0) {\n            return null;\n        }\n        u += 8;\n        while (str_uuid.charAt(u) === '0')\n            u++;\n        if (s.substr(0, 8) === \"VIRTHUB0\") {\n            pad = '0000000000';\n        }\n        else {\n            pad = '00000';\n        }\n        s += pad.substr(str_uuid.length - u);\n        s += str_uuid.substr(u);\n        return s;\n    }\n    ySSDPUpdateCache(str_uuid, str_url, int_cacheValidity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (int_cacheValidity <= 0) {\n                int_cacheValidity = 1800;\n            }\n            int_cacheValidity *= 1000;\n            let now = this._yapi.GetTickCount();\n            let p = this._SSDPCache[str_uuid];\n            if (p) {\n                p.detectedTime = now;\n                p.maxAge = int_cacheValidity;\n                if (str_url !== p.url) {\n                    yield this._invokeCallback(p.serial, str_url, p.url);\n                    p.url = str_url;\n                }\n                else {\n                    yield this._invokeCallback(p.serial, str_url, null);\n                }\n            }\n            else {\n                let serial = this.imm_uuidToSerial(str_uuid);\n                if (serial) {\n                    this._SSDPCache[str_uuid] = {\n                        \"serial\": serial,\n                        \"url\": str_url,\n                        \"detectedTime\": now,\n                        \"maxAge\": int_cacheValidity\n                    };\n                    yield this._invokeCallback(serial, str_url, null);\n                }\n            }\n        });\n    }\n    ySSDPParseMessage(str_msg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let SSDP_HTTP = \"HTTP/1.1 200 OK\";\n            let SSDP_NOTIFY = \"NOTIFY * HTTP/1.1\";\n            let lines = str_msg.split('\\r\\n');\n            let values = {};\n            if (lines[0] === SSDP_HTTP || lines[0] === SSDP_NOTIFY) {\n                for (let i = 1; i < lines.length; i++) {\n                    let parts = lines[i].split(': ');\n                    if (parts.length === 2) {\n                        values[parts[0].trim()] = parts[1].trim();\n                    }\n                }\n                if (values['LOCATION'] && values['USN'] && values['CACHE-CONTROL'] &&\n                    values['USN'].indexOf(this.YSSDP_URN_YOCTOPUCE) > 0) {\n                    let uuid = values['USN'].split(':')[1];\n                    let location = values['LOCATION'].split('/')[2];\n                    let cacheVal = parseInt(values['CACHE-CONTROL']);\n                    yield this.ySSDPUpdateCache(uuid, location, cacheVal);\n                }\n            }\n        });\n    }\n    ySSDPCheckExpiration() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let now = this._yapi.GetTickCount();\n            if (this._thread) {\n                clearTimeout(this._thread);\n                this._thread = null;\n            }\n            for (let uuid in this._SSDPCache) {\n                let p = this._SSDPCache[uuid];\n                if (!p)\n                    continue;\n                if (now - p.detectedTime > p.maxAge) {\n                    p.maxAge = 0;\n                    yield this._invokeCallback(p.serial, null, p.url);\n                }\n            }\n            this._thread = setTimeout(() => { this.ySSDPCheckExpiration(); }, 3000);\n        });\n    }\n    ySSDPStart(func_callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._started) {\n                return YAPI.SUCCESS;\n            }\n            this._callback = func_callback;\n            yield this.ySSDPOpenSockets();\n            // send initial discovery pakets when interface is bound\n            this.ySSDPDiscover();\n            this._started = true;\n            yield this.ySSDPCheckExpiration();\n        });\n    }\n    ySSDPStop() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._thread) {\n                clearTimeout(this._thread);\n                this._thread = null;\n            }\n            yield this.ySSDPCloseSockets();\n            for (let uuid in this._SSDPCache) {\n                let p = this._SSDPCache[uuid];\n                if (!p)\n                    continue;\n                if (p.maxAge) {\n                    yield this._yapi.UnregisterHub(p.url);\n                    p.maxAge = 0;\n                    yield this._invokeCallback(p.serial, null, p.url);\n                }\n            }\n            this._SSDPCache = {};\n            this._started = false;\n        });\n    }\n    ySSDPDiscover() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let rep = 0; rep < 3; rep++) {\n                yield YAPI.Sleep(10 << rep);\n                yield this.ySSDPSendPacket(this.YSSDP_DISCOVERY_MSG, this.YSSDP_PORT, this.YSSDP_MCAST_ADDR_STR);\n            }\n        });\n    }\n}\n//--- (generated code: YAPIContext class start)\n/**\n * YAPIContext Class: Yoctopuce I/O context configuration.\n *\n *\n */\n//--- (end of generated code: YAPIContext class start)\nexport class YAPIContext {\n    constructor(system_env) {\n        this._detectType = Y_DETECT_NONE;\n        this._hubs = [];\n        this._ssdpManager = null;\n        this._pendingHubs = {}; // hash table by preregistered URL\n        this._devs = {}; // hash table of known devices, by serial number\n        this._snByUrl = {}; // serial number for each known device, by URL\n        this._snByName = {}; // serial number for each known device, by name\n        this._fnByType = {}; // functions by type\n        this._lastErrorType = YAPI_SUCCESS;\n        this._lastErrorMsg = 'no error';\n        this._updateDevListStarted = 0;\n        this._pendingCallbacks = [];\n        this._logLevel = 2; // default to logging warnings and errors only\n        this._logCallback = null;\n        this._arrivalCallback = null;\n        this._namechgCallback = null;\n        this._removalCallback = null;\n        this._hubDiscoveryCallback = null;\n        this._forwardValues = 0;\n        this._calibHandlers = [];\n        this._ValueCallbackList = [];\n        this._TimedReportCallbackList = [];\n        this._beacons = {};\n        this._isNodeJS = false;\n        this._networkTimeoutMs = DEFAULT_NETWORK_TIMEOUT_MS;\n        this._deviceListValidityMs = DEFAULT_DEVICE_LIST_VALIDITY_MS;\n        this.defaultEncoding = 'binary'; // Default string encoding used in the library\n        this.exceptionsDisabled = false;\n        /* make sure to add code to reset any new property in imm_ResetToDefaults() */\n        //--- (generated code: YAPIContext attributes declaration)\n        this.SUCCESS = 0;\n        this.NOT_INITIALIZED = -1;\n        this.INVALID_ARGUMENT = -2;\n        this.NOT_SUPPORTED = -3;\n        this.DEVICE_NOT_FOUND = -4;\n        this.VERSION_MISMATCH = -5;\n        this.DEVICE_BUSY = -6;\n        this.TIMEOUT = -7;\n        this.IO_ERROR = -8;\n        this.NO_MORE_DATA = -9;\n        this.EXHAUSTED = -10;\n        this.DOUBLE_ACCES = -11;\n        this.UNAUTHORIZED = -12;\n        this.RTC_NOT_READY = -13;\n        this.FILE_NOT_FOUND = -14;\n        this.SSL_ERROR = -15;\n        this.defaultCacheValidity = 5;\n        //--- (end of generated code: YAPIContext attributes declaration)\n        // API symbols\n        this.INVALID_INT = YAPI_INVALID_INT;\n        this.INVALID_UINT = YAPI_INVALID_UINT;\n        this.INVALID_LONG = YAPI_INVALID_LONG;\n        this.INVALID_DOUBLE = YAPI_INVALID_DOUBLE;\n        this.MIN_DOUBLE = YAPI_MIN_DOUBLE;\n        this.MAX_DOUBLE = YAPI_MAX_DOUBLE;\n        this.INVALID_STRING = YAPI_INVALID_STRING;\n        this.HASH_BUF_SIZE = YOCTO_HASH_BUF_SIZE;\n        // yInitAPI constants\n        this.DETECT_NONE = Y_DETECT_NONE;\n        this.DETECT_USB = Y_DETECT_USB;\n        this.DETECT_NET = Y_DETECT_NET;\n        this.DETECT_ALL = Y_DETECT_ALL;\n        //--- (generated code: YAPIContext constructor)\n        //--- (end of generated code: YAPIContext constructor)\n        this.system_env = system_env || (YAPI && YAPI.system_env) || _UnspecifiedSystemEnv;\n        this._isNodeJS = this.system_env.isNodeJS;\n        this._uniqueID = String.fromCharCode(Math.random() * 79 + 48, Math.random() * 79 + 48, Math.random() * 79 + 48);\n        this.imm_ResetToDefaults();\n    }\n    imm_ResetToDefaults() {\n        this._detectType = this.DETECT_NONE;\n        this._hubs = [];\n        this._pendingHubs = {};\n        this._devs = {}; // hash table of known devices, by serial number\n        this._snByUrl = {}; // serial number for each known device, by URL\n        this._snByName = {}; // serial number for each known device, by name\n        this._fnByType = {}; // functions by type\n        this._fnByType.Module = new YFunctionType(this, 'Module');\n        this._lastErrorType = YAPI_SUCCESS;\n        this._lastErrorMsg = 'no error';\n        this._updateDevListStarted = 0;\n        this._pendingCallbacks = [];\n        this._logLevel = 2; // default to logging warnings and errors only\n        this._logCallback = null;\n        this._arrivalCallback = null;\n        this._namechgCallback = null;\n        this._removalCallback = null;\n        this._hubDiscoveryCallback = null;\n        this._forwardValues = 0;\n        this._ValueCallbackList = [];\n        this._TimedReportCallbackList = [];\n        this._beacons = {};\n        this._calibHandlers = [];\n        for (let i = 1; i <= 20; i++) {\n            this.RegisterCalibrationHandler(i, this.LinearCalibrationHandler);\n        }\n        this.RegisterCalibrationHandler(YOCTO_CALIB_TYPE_OFS, this.LinearCalibrationHandler);\n        this.exceptionsDisabled = false;\n    }\n    _throw(int_errType, str_errMsg, obj_retVal) {\n        this._lastErrorType = int_errType;\n        this._lastErrorMsg = str_errMsg;\n        if (!this.exceptionsDisabled) {\n            let exc = new YoctoError(str_errMsg);\n            exc.errorType = int_errType;\n            throw exc;\n        }\n        return obj_retVal;\n    }\n    imm_setSystemEnv(env) {\n        this.system_env = env;\n        this._isNodeJS = env.isNodeJS;\n    }\n    // Log a message, either to the user defined function or to the console if none is defined\n    imm_log(msg, ...moreArgs) {\n        let now = new Date();\n        let day = now.getFullYear().toString() + '-' + ('0' + (now.getMonth() + 1)).slice(-2) + '-' + ('0' + now.getDate()).slice(-2);\n        let time = ('0' + now.getHours().toString()).slice(-2) + ':' + ('0' + now.getMinutes()).slice(-2) + ':' + ('0' + now.getSeconds()).slice(-2);\n        let prefix = day + ' ' + time + ' [' + this._uniqueID + '] ';\n        let isError = false;\n        if (moreArgs.length > 0) {\n            if (moreArgs[0].constructor && /Error/i.test(moreArgs[0].constructor.name)) {\n                isError = true;\n            }\n        }\n        if (this._logCallback) {\n            try {\n                if (moreArgs.length > 0) {\n                    if (moreArgs[0].message) {\n                        msg += moreArgs[0].message;\n                    }\n                    else {\n                        msg += moreArgs[0].toString();\n                    }\n                }\n                this._logCallback(prefix + msg);\n            }\n            catch (e) {\n                console.error(prefix + 'Exception in custom log callback: ', e);\n                console.log('... while trying to log:');\n                if (isError) {\n                    console.error(prefix + msg, ...moreArgs);\n                }\n                else {\n                    console.log(prefix + msg, ...moreArgs);\n                }\n            }\n        }\n        else {\n            if (isError) {\n                console.error(prefix + msg, ...moreArgs);\n            }\n            else {\n                console.log(prefix + msg, ...moreArgs);\n            }\n        }\n    }\n    /**\n     * Registers a log callback function. This callback will be called each time\n     * the API have something to say. Quite useful to debug the API.\n     *\n     * @param logfun : a procedure taking a string parameter, or null\n     *         to unregister a previously registered  callback.\n     */\n    RegisterLogFunction(logfun) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._logCallback = logfun;\n            return YAPI_SUCCESS;\n        });\n    }\n    // Add a hub object to the list of known hub\n    _addHub(newhub) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // If hub is not yet known, create a device object\n            let serial = this._snByUrl[newhub.urlInfo.url];\n            if (!serial) {\n                let newdev = new YDevice(this, newhub.urlInfo.url, null, null);\n                // make sure to index device before adding it officially in the _hubs list,\n                // to avoid crazy course conditions within updateDeviceList\n                yield newdev.refresh();\n            }\n            // Add hub to active list if needed, and remove from pending list if present\n            let hubFound = false;\n            for (let i = 0; i < this._hubs.length; i++) {\n                let url = this._hubs[i].urlInfo.url;\n                if (newhub.urlInfo.url == url) {\n                    hubFound = true;\n                    break;\n                }\n            }\n            if (!hubFound) {\n                this._hubs.push(newhub);\n            }\n            if (this._pendingHubs[newhub.urlInfo.url]) {\n                delete this._pendingHubs[newhub.urlInfo.url];\n            }\n        });\n    }\n    // Search for an existing a hub object for a given URL\n    imm_getHub(obj_urlInfo) {\n        let i;\n        for (i = 0; i < this._hubs.length; i++) {\n            let info = this._hubs[i].urlInfo;\n            if (info.host == obj_urlInfo.host && info.port == obj_urlInfo.port && info.domain == obj_urlInfo.domain) {\n                return this._hubs[i];\n            }\n        }\n        return null;\n    }\n    // Wait until updateDeviceList is completed to avoid course conditions\n    ensureUpdateDeviceListNotRunning() {\n        return __awaiter(this, void 0, void 0, function* () {\n            while (this._updateDevListStarted && this.GetTickCount() - this._updateDevListStarted < 30 * 1000) {\n                yield this.Sleep(25);\n            }\n        });\n    }\n    // Trigger an update of connected devices by querying all hubs\n    _updateDeviceList_internal(bool_forceupdate, bool_invokecallbacks) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._updateDevListStarted && this.GetTickCount() - this._updateDevListStarted < 30 * 1000) {\n                return {\n                    errorType: YAPI_SUCCESS,\n                    errorMsg: 'no error'\n                };\n            }\n            for (let i = 0; i < this._hubs.length; i++) {\n                if (this._hubs[i]._firstArrivalCallback && bool_invokecallbacks && this._arrivalCallback) {\n                    bool_forceupdate = true;\n                    break;\n                }\n            }\n            if (bool_forceupdate) {\n                for (let i = 0; i < this._hubs.length; i++) {\n                    this._hubs[i].imm_forceUpdate();\n                }\n            }\n            try {\n                // mark updateDeviceList in progress to avoid concurrent asynchronous runs\n                this._updateDevListStarted = this.GetTickCount();\n                // collect list of hubs which should be checked\n                let hubs = [];\n                for (let i = 0; i < this._hubs.length; i++) {\n                    let hub = this._hubs[i];\n                    let rootUrl = hub.urlInfo.url;\n                    let hubDev = this.imm_getDevice(rootUrl);\n                    if (!hubDev) {\n                        // this is a newly added hub, for which we did not yet load all attributes\n                        // skip it for now\n                        continue;\n                    }\n                    if (hub.devListExpires <= this.GetTickCount()) {\n                        hub._missing = {};\n                        hubs.push(hub);\n                    }\n                }\n                // assume all device are unplugged, unless proved wrong\n                for (let serial in this._devs) {\n                    let rooturl = this._devs[serial].imm_getRootUrl();\n                    for (let i = 0; i < hubs.length; i++) {\n                        let huburl = hubs[i].urlInfo.url;\n                        if (rooturl.substr(0, huburl.length) == huburl) {\n                            hubs[i]._missing[serial] = true;\n                        }\n                    }\n                }\n                // Rescan all hubs and update list of online devices\n                let update_promises = [];\n                for (let i = 0; i < hubs.length; i++) {\n                    let prom = hubs[i].hubUpdateDeviceList();\n                    update_promises.push(prom);\n                }\n                yield Promise.all(update_promises);\n                // after processing all hubs, invoke pending callbacks if required\n                if (bool_invokecallbacks) {\n                    let nbEvents = this._pendingCallbacks.length;\n                    for (let i = 0; i < nbEvents; i++) {\n                        let evt = this._pendingCallbacks[i];\n                        switch (evt.event) {\n                            case '+':\n                                if (this._logLevel >= 3) {\n                                    this.imm_log('Device ' + evt.serial + ' plugged');\n                                }\n                                if (this._arrivalCallback) {\n                                    try {\n                                        // force (re)loading the module object with up-to-date information\n                                        // this will also ensure we have a valid serialNumber in cache on unplug\n                                        yield evt.module.load(this.defaultCacheValidity);\n                                        yield this._arrivalCallback(evt.module);\n                                    }\n                                    catch (e) {\n                                        this.imm_log('Exception in device arrival callback:', e);\n                                    }\n                                }\n                                break;\n                            case '/':\n                                if (this._namechgCallback) {\n                                    try {\n                                        yield this._namechgCallback(evt.module);\n                                    }\n                                    catch (e) {\n                                        this.imm_log('Exception in device change callback:', e);\n                                    }\n                                }\n                                break;\n                            case '-':\n                                if (this._logLevel >= 3) {\n                                    this.imm_log('Device ' + evt.serial + ' unplugged');\n                                }\n                                if (this._removalCallback) {\n                                    try {\n                                        yield this._removalCallback(evt.module);\n                                    }\n                                    catch (e) {\n                                        this.imm_log('Exception in device removal callback:', e);\n                                    }\n                                }\n                                break;\n                        }\n                    }\n                    this._pendingCallbacks = this._pendingCallbacks.slice(nbEvents);\n                }\n            }\n            finally {\n                this._updateDevListStarted = 0;\n            }\n            return {\n                errorType: YAPI_SUCCESS,\n                errorMsg: 'no error'\n            };\n        });\n    }\n    // process a hub white-pages/yellow-pages records to update the device data\n    updateDeviceList_process(hub, hubDev, whitePages, yellowPages) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Reindex all functions from yellow pages\n            let refresh = {};\n            let serial = null;\n            for (let classname in yellowPages) {\n                let obj_yprecs = yellowPages[classname];\n                let ftype = this._fnByType[classname];\n                if (ftype == undefined) {\n                    ftype = new YFunctionType(this, classname);\n                    this._fnByType[classname] = ftype;\n                }\n                for (let i = 0; i < obj_yprecs.length; i++) {\n                    let yprec = obj_yprecs[i];\n                    let hwid = yprec.hardwareId;\n                    let basetype = yprec.baseType;\n                    if (ftype.imm_reindexFunction(hwid, yprec['logicalName'], yprec['advertisedValue'], basetype)) {\n                        // logical name discrepency detected, force a refresh from device\n                        serial = hwid.substr(0, hwid.indexOf('.'));\n                        refresh[serial] = true;\n                    }\n                }\n            }\n            // Reindex all devices from white pages\n            for (let i = 0; i < whitePages.length; i++) {\n                let devinfo = whitePages[i];\n                serial = devinfo.serialNumber;\n                let devydx = devinfo.index;\n                let rooturl = devinfo.networkUrl.slice(0, -3);\n                if (rooturl.charAt(0) == '/')\n                    rooturl = hubDev.imm_getRootUrl() + rooturl.substr(1);\n                let currdev = this._devs[serial];\n                if (currdev && this._arrivalCallback && hub._firstArrivalCallback) {\n                    let module = YModule.FindModuleInContext(this, serial + '.module');\n                    this._pendingCallbacks.push({ event: '+', serial: serial, module: module });\n                }\n                hub.serialByYdx[devydx] = serial;\n                if (!currdev) {\n                    // Add new device\n                    //noinspection ObjectAllocationIgnored\n                    new YDevice(this, rooturl, devinfo, yellowPages);\n                    if (this._arrivalCallback) {\n                        let module = YModule.FindModuleInContext(this, serial + '.module');\n                        this._pendingCallbacks.push({ event: '+', serial: serial, module: module });\n                    }\n                }\n                else if (currdev.imm_getLogicalName() != devinfo['logicalName']) {\n                    // Reindex device from its own data\n                    yield currdev.refresh();\n                    if (this._namechgCallback) {\n                        let module = YModule.FindModuleInContext(this, serial + '.module');\n                        this._pendingCallbacks.push({ event: '/', serial: serial, module: module });\n                    }\n                }\n                else if (refresh[serial] || currdev.imm_getRootUrl() != rooturl ||\n                    currdev.imm_getBeacon() != devinfo['beacon']) {\n                    // Reindex device from its own data in case of discrepency\n                    yield currdev.refresh();\n                }\n                hub._missing[serial] = false;\n            }\n            if (this._arrivalCallback && hub._firstArrivalCallback) {\n                hub._firstArrivalCallback = false;\n            }\n            // Keep track of all unplugged devices on this hub\n            for (serial in hub._missing) {\n                if (hub._missing[serial] && this._devs[serial]) {\n                    if (this._removalCallback) {\n                        let module = YModule.FindModuleInContext(this, serial + '.module');\n                        this._pendingCallbacks.push({ event: '-', serial: serial, module: module });\n                    }\n                    this.imm_forgetDevice(this._devs[serial]);\n                }\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /** process event data produced by a hub\n     *\n     * @param hub {YGenericHub}\n     * @param str_lines {string}\n     */\n    parseEvents(hub, str_lines) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Use events to detect stalled connections\n            hub.isNotifWorking = true;\n            hub.lastPingStamp = Date.now();\n            if (hub.timeoutId) {\n                clearTimeout(hub.timeoutId);\n            }\n            hub.timeoutId = setTimeout(() => {\n                if (!hub.imm_isForwarded()) {\n                    this.imm_log('WS: closing stalled connection');\n                    // abort communication channel immediately, this will trigger a reconnect\n                    hub.imm_disconnectNow();\n                }\n            }, 60000); // 60s timeout before closing a stalled connection\n            let rows = (hub.notifCarryOver + str_lines).split('\\n');\n            let nrows = rows.length;\n            let value;\n            if (str_lines.substr(-1) != '\\n') {\n                hub.notifCarryOver = rows[--nrows];\n            }\n            else {\n                hub.notifCarryOver = '';\n            }\n            // in continuous mode, last line is either empty or a partial event\n            nrows--;\n            for (let idx = 0; idx < nrows; idx++) {\n                let ev = rows[idx];\n                if (ev.length == 0)\n                    continue;\n                let firstCode = ev.charAt(0);\n                if (ev.length >= 3 && firstCode >= NOTIFY_NETPKT_CONFCHGYDX && firstCode <= NOTIFY_NETPKT_TIMEAVGYDX) {\n                    hub.retryDelay = 15;\n                    if (hub.notifPos >= 0)\n                        hub.notifPos += ev.length + 1;\n                    let devydx = ev.charCodeAt(1) - 65; // from 'A'\n                    let funydx = ev.charCodeAt(2) - 48; // from '0'\n                    if (funydx >= 64) { // high bit of devydx is on second character\n                        funydx -= 64;\n                        devydx += 128;\n                    }\n                    let serial = hub.serialByYdx[devydx];\n                    if (serial && this._devs[serial]) {\n                        let funcid = (funydx == 0xf ? 'time' : this._devs[serial].imm_functionIdByFunYdx(funydx));\n                        if (funcid != '') {\n                            let dev;\n                            value = ev.slice(3);\n                            switch (firstCode) {\n                                case NOTIFY_NETPKT_FUNCVALYDX:\n                                    if (value != '')\n                                        value = value.split('\\0')[0];\n                                    // function value ydx (tiny notification)\n                                    yield this.setFunctionValue(serial + '.' + funcid, value);\n                                    break;\n                                case NOTIFY_NETPKT_DEVLOGYDX:\n                                    // log notification\n                                    dev = this._devs[serial];\n                                    if (dev != null) {\n                                        dev.imm_triggerLogPull();\n                                    }\n                                    break;\n                                case NOTIFY_NETPKT_CONFCHGYDX:\n                                    // configuration change notification\n                                    yield this.setConfChange(serial);\n                                    break;\n                                case NOTIFY_NETPKT_TIMEVALYDX:\n                                case NOTIFY_NETPKT_TIMEAVGYDX:\n                                case NOTIFY_NETPKT_TIMEV2YDX:\n                                    // timed value report\n                                    let pos, arr = [(firstCode == 'x' ? 0 : (firstCode == 'z' ? 1 : 2))];\n                                    for (pos = 0; pos < value.length; pos += 2) {\n                                        arr.push(parseInt(value.substr(pos, 2), 16));\n                                    }\n                                    dev = this._devs[serial];\n                                    if (funcid == 'time') {\n                                        let time = arr[1] + 0x100 * arr[2] + 0x10000 * arr[3] + 0x1000000 * arr[4];\n                                        let ms = arr[5] * 4;\n                                        let duration;\n                                        if (arr.length >= 7) {\n                                            ms += arr[6] >> 6;\n                                            let duration_ms = arr[7];\n                                            duration_ms += (arr[6] & 0xf) * 0x100;\n                                            if (arr[6] & 0x10) {\n                                                duration = duration_ms;\n                                            }\n                                            else {\n                                                duration = duration_ms / 1000.0;\n                                            }\n                                        }\n                                        else {\n                                            duration = 0.0;\n                                        }\n                                        dev.imm_setTimeRef(time + ms / 1000.0, duration);\n                                    }\n                                    else {\n                                        yield this.setTimedReport(serial + '.' + funcid, dev.imm_getLastTimeRef(), dev.imm_getLastDuration(), arr);\n                                    }\n                                    break;\n                                case NOTIFY_NETPKT_FUNCV2YDX:\n                                    let rawval = this.imm_decodeNetFuncValV2(value);\n                                    if (rawval != null) {\n                                        let decodedval = this.imm_decodePubVal(rawval[0], rawval, 1, 6);\n                                        yield this.setFunctionValue(serial + '.' + funcid, decodedval);\n                                    }\n                                    break;\n                                case NOTIFY_NETPKT_FLUSHV2YDX:\n                                // To be implemented later\n                                default:\n                                    break;\n                            }\n                        }\n                    }\n                }\n                else if (ev.length > 5 && ev.substr(0, 4) == 'YN01') {\n                    hub.retryDelay = 15;\n                    if (hub.notifPos >= 0)\n                        hub.notifPos += ev.length + 1;\n                    let notype = ev.substr(4, 1);\n                    let parts;\n                    if (notype == '@') {\n                        hub.notifPos = parseInt(ev.slice(5));\n                    }\n                    else {\n                        // noinspection FallThroughInSwitchStatementJS\n                        switch (parseInt(notype)) {\n                            case 0: // device name change, or arrival\n                                parts = ev.slice(5).split(',');\n                                if (parts.length > 2) {\n                                    let int_beacon = parseInt(parts[2]);\n                                    yield this.setBeaconChange(parts[0], int_beacon);\n                                }\n                            // no break on purpose\n                            case 2: // device plug/unplug\n                            case 4: // function name change\n                            case 8: // function name change (ydx)\n                                hub.devListExpires = 0;\n                                break;\n                            case 5: // function value (long notification)\n                                parts = ev.slice(5).split(',');\n                                if (parts.length > 2) {\n                                    value = parts[2].split('\\0');\n                                    yield this.setFunctionValue(parts[0] + '.' + parts[1], value[0]);\n                                }\n                                break;\n                        }\n                    }\n                }\n                else {\n                    // oops, bad notification ? be safe until a good one comes\n                    hub.devListExpires = 0;\n                    //alert('bad event on line '+idx+'/'+nrows+' : '+ev);\n                    hub.notifPos = -1;\n                }\n                hub.currPos += ev.length + 1;\n            }\n            if (this._forwardValues > 0) {\n                yield this.HandleEvents(new YErrorMsg());\n            }\n        });\n    }\n    /** Network notification format: 7x7bit (mapped to 7 chars in range 32..159)\n     *                               used to represent 1 flag (RAW6BYTES) + 6 bytes\n     * INPUT:  [R765432][1076543][2107654][3210765][4321076][5432107][6543210]\n     * OUTPUT: 7 bytes array (1 byte for the funcint_TypeV2 and 6 bytes of USB like data\n     *                     funcTypeV2 + [R][-byte 0][-byte 1-][-byte 2-][-byte 3-][-byte 4-][-byte 5-]\n     *\n     * @return {number[]}\n     */\n    imm_decodeNetFuncValV2(p) {\n        let p_ofs = 0;\n        let ch = p.charCodeAt(p_ofs) & 0xff;\n        let len = 0;\n        let funcVal = [0, 0, 0, 0, 0, 0, 0];\n        if (ch < 32 || ch > 32 + 127) {\n            return null;\n        }\n        // get the 7 first bits\n        ch -= 32;\n        funcVal[0] = ((ch & 0x40) != 0 ? NOTIFY_V2_6RAWBYTES : NOTIFY_V2_TYPEDDATA);\n        // clear flag\n        ch &= 0x3f;\n        while (len < YOCTO_PUBVAL_SIZE) {\n            p_ofs++;\n            if (p_ofs >= p.length)\n                break;\n            let newCh = p.charCodeAt(p_ofs) & 0xff;\n            if (newCh == NOTIFY_NETPKT_STOP) {\n                break;\n            }\n            if (newCh < 32 || newCh > 32 + 127) {\n                return null;\n            }\n            newCh -= 32;\n            ch = (ch << 7) + newCh;\n            funcVal[len + 1] = (ch >>> (5 - len)) & 0xff;\n            len++;\n        }\n        return funcVal;\n    }\n    /** Decode an enhanced notification (V2) buffer\n     *\n     * @param int_typeV2 {number}\n     * @param arr_funcval {number[]}\n     * @param int_ofs {number}\n     * @param int_funcvalen {number}\n     * @returns {string}\n     */\n    imm_decodePubVal(int_typeV2, arr_funcval, int_ofs, int_funcvalen) {\n        let buffer = '';\n        let endp;\n        if (int_typeV2 == NOTIFY_V2_6RAWBYTES || int_typeV2 == NOTIFY_V2_TYPEDDATA) {\n            let funcValType;\n            if (int_typeV2 == NOTIFY_V2_6RAWBYTES) {\n                funcValType = PUBVAL_6RAWBYTES;\n            }\n            else {\n                funcValType = arr_funcval[int_ofs++];\n            }\n            switch (funcValType) {\n                case PUBVAL_LEGACY:\n                    // fallback to legacy handling, just in case\n                    break;\n                case PUBVAL_1RAWBYTE:\n                case PUBVAL_2RAWBYTES:\n                case PUBVAL_3RAWBYTES:\n                case PUBVAL_4RAWBYTES:\n                case PUBVAL_5RAWBYTES:\n                case PUBVAL_6RAWBYTES:\n                    // 1..5 hex bytes\n                    for (let i = 0; i < funcValType; i++) {\n                        let c = arr_funcval[int_ofs++];\n                        let b = c >>> 4;\n                        buffer += b.toString(16);\n                        b = c & 0xf;\n                        buffer += b.toString(16);\n                    }\n                    return buffer;\n                case PUBVAL_C_LONG:\n                case PUBVAL_YOCTO_FLOAT_E3:\n                    // 32bit integer in little endian format or Yoctopuce 10-3 format\n                    let numVal = arr_funcval[int_ofs++];\n                    numVal += arr_funcval[int_ofs++] << 8;\n                    numVal += arr_funcval[int_ofs++] << 16;\n                    numVal += arr_funcval[int_ofs++] << 24;\n                    if (funcValType == PUBVAL_C_LONG) {\n                        return String(Math.round(numVal));\n                    }\n                    else {\n                        buffer = String(Math.round(numVal * 1000) / 1000000.0);\n                        endp = buffer.length;\n                        while (endp > 0 && buffer[endp - 1] == '0') {\n                            --endp;\n                        }\n                        if (endp > 0 && buffer[endp - 1] == '.') {\n                            --endp;\n                            buffer = buffer.substr(0, endp);\n                        }\n                        return buffer;\n                    }\n                case PUBVAL_C_FLOAT:\n                    // 32bit (short) float\n                    let v = arr_funcval[int_ofs++];\n                    v += arr_funcval[int_ofs++] << 8;\n                    v += arr_funcval[int_ofs++] << 16;\n                    v += arr_funcval[int_ofs++] << 24;\n                    let fraction = (v & ((1 << 23) - 1)) + (1 << 23) * (v >>> 31 | 1);\n                    let exp = (v >>> 23 & 0xFF) - 127;\n                    let floatVal = fraction * Math.pow(2, exp - 23);\n                    buffer = String(Math.round(floatVal * 1000000) / 1000000);\n                    endp = buffer.length;\n                    while (endp > 0 && buffer[endp - 1] == '0') {\n                        --endp;\n                    }\n                    if (endp > 0 && buffer[endp - 1] == '.') {\n                        --endp;\n                        buffer = buffer.substr(0, endp);\n                    }\n                    return buffer;\n                default:\n                    return '?';\n            }\n            // Legacy handling: just pad with NUL up to 7 chars\n            let len = 0;\n            buffer = '';\n            while (len < YOCTO_PUBVAL_SIZE && len < int_funcvalen) {\n                if (arr_funcval[len] == 0)\n                    break;\n                buffer += String.fromCharCode(arr_funcval[len]);\n                len++;\n            }\n        }\n        return buffer;\n    }\n    imm_decExp(int_pow) {\n        const arr = [1.0e-6, 1.0e-5, 1.0e-4, 1.0e-3, 1.0e-2, 1.0e-1, 1.0,\n            1.0e1, 1.0e2, 1.0e3, 1.0e4, 1.0e5, 1.0e6, 1.0e7, 1.0e8, 1.0e9\n        ];\n        return arr[int_pow];\n    }\n    // Convert Yoctopuce 16-bit decimal floats to standard double-precision floats\n    //\n    imm_decimalToDouble(val) {\n        let negate = false;\n        let res;\n        let mantis = val & 2047;\n        if (mantis == 0)\n            return 0.0;\n        if (val > 32767) {\n            negate = true;\n            val = 65536 - val;\n        }\n        else if (val < 0) {\n            negate = true;\n            val = -val;\n        }\n        let decexp = this.imm_decExp(val >>> 11);\n        if (decexp >= 1.0) {\n            res = (mantis) * decexp;\n        }\n        else { // fix rounding issue\n            res = (mantis) / Math.round(1 / decexp);\n        }\n        return (negate ? -res : res);\n    }\n    // Convert standard double-precision floats to Yoctopuce 16-bit decimal floats\n    //\n    imm_doubleToDecimal(val) {\n        let negate = false;\n        let comp, mant;\n        let decpow;\n        let res;\n        if (val == 0.0) {\n            return 0;\n        }\n        if (val < 0) {\n            negate = true;\n            val = -val;\n        }\n        comp = val / 1999.0;\n        decpow = 0;\n        while (comp > this.imm_decExp(decpow) && decpow < 15) {\n            decpow++;\n        }\n        mant = val / this.imm_decExp(decpow);\n        if (decpow == 15 && mant > 2047.0) {\n            res = (15 << 11) + 2047; // overflow\n        }\n        else {\n            res = (decpow << 11) + Math.round(mant);\n        }\n        return (negate ? -res : res);\n    }\n    imm_getCalibrationHandler(calibType) {\n        return this._calibHandlers[calibType];\n    }\n    // Parse an array of u16 encoded in a base64-like string with memory-based compression\n    imm_decodeWords(data) {\n        let udata = [];\n        for (let i = 0; i < data.length;) {\n            let c = data[i];\n            let val = 0;\n            if (c == '*') {\n                i++;\n            }\n            else if (c == 'X') {\n                val = 0xffff;\n                i++;\n            }\n            else if (c == 'Y') {\n                val = 0x7fff;\n                i++;\n            }\n            else if (c >= 'a') {\n                let srcpos = udata.length - 1 - (data.charCodeAt(i++) - 97);\n                if (srcpos >= 0) {\n                    val = udata[srcpos];\n                }\n            }\n            else {\n                if (i + 3 > data.length) {\n                    return udata;\n                }\n                val = (data.charCodeAt(i++) - 48);\n                val += (data.charCodeAt(i++) - 48) << 5;\n                let lastcode = data.charCodeAt(i++);\n                if (lastcode == 122)\n                    lastcode = 92;\n                val += (lastcode - 48) << 10;\n            }\n            udata.push(val);\n        }\n        return udata;\n    }\n    // Parse an array of u16 encoded in a base64-like string with memory-based compresssion\n    imm_decodeFloats(data) {\n        let idata = [];\n        let p = 0;\n        let datalen = data.length;\n        while (p < datalen) {\n            let val = 0;\n            let sign = 1;\n            let dec = 0;\n            let decInc = 0;\n            let c = data[p++];\n            while (c != '-' && (c < '0' || c > '9')) {\n                if (p >= datalen) {\n                    return idata;\n                }\n                c = data[p++];\n            }\n            if (c == '-') {\n                if (p >= datalen) {\n                    return idata;\n                }\n                sign = -sign;\n                c = data[p++];\n            }\n            while ((c >= '0' && c <= '9') || c == '.') {\n                if (c == '.') {\n                    decInc = 1;\n                }\n                else if (dec < 3) {\n                    val = val * 10 + (c.charCodeAt(0) - 48);\n                    dec += decInc;\n                }\n                if (p < datalen) {\n                    c = data[p++];\n                }\n                else {\n                    c = '\\0';\n                }\n            }\n            if (dec < 3) {\n                if (dec == 0)\n                    val *= 1000;\n                else if (dec == 1)\n                    val *= 100;\n                else\n                    val *= 10;\n            }\n            idata.push(sign * val);\n        }\n        return idata;\n    }\n    /** Convert a numeric string to an integer\n     *\n     * @param str_data {string}\n     * @return {number}\n     */\n    imm_atoi(str_data) {\n        let num = parseInt(str_data);\n        if (isNaN(num)) {\n            return 0;\n        }\n        return Math.floor(num);\n    }\n    /** Convert a binary object to string\n     *\n     * @param bin_data {Uint8Array}\n     * @return {string}\n     */\n    imm_bin2str(bin_data) {\n        /** @type {number} **/\n        let len = bin_data.length;\n        /** @type {string} **/\n        let res = '';\n        for (let i = 0; i < len; i += 20) {\n            let subdata = bin_data.subarray(i, Math.min(i + 20, len));\n            res += String.fromCharCode.apply(null, Array.from(subdata));\n        }\n        return res;\n    }\n    /** Convert a string to binary object\n     *\n     * @param str_data {string}\n     * @return {Uint8Array}\n     */\n    imm_str2bin(str_data) {\n        /** @type {number} **/\n        let len = str_data.length;\n        /** @type {Uint8Array} **/\n        let res = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n            res[i] = str_data.charCodeAt(i);\n        }\n        return res;\n    }\n    /** Convert a binary object to hex string\n     *\n     * @param bin_data {Uint8Array}\n     * @return {string}\n     */\n    imm_bin2hexstr(bin_data) {\n        /** @type {number} **/\n        let len = bin_data.length;\n        /** @type {string} **/\n        let res = '';\n        for (let i = 0; i < len; i++) {\n            let n = bin_data[i].toString(16);\n            res += n.length < 2 ? '0' + n : n;\n        }\n        return res.toUpperCase();\n    }\n    /** Convert a hex string to binary object\n     *\n     * @param str_data {string}\n     * @return {Uint8Array}\n     */\n    imm_hexstr2bin(str_data) {\n        /** @type {number} **/\n        let len = (str_data.length >>> 1);\n        /** @type {Uint8Array} **/\n        let res = new Uint8Array(len);\n        for (let i = 0; i < len; i++) {\n            res[i] = parseInt(str_data.substr(2 * i, 2), 16);\n        }\n        return res;\n    }\n    /** Return a Device object for a specified URL, serial number or logical device name\n     *\n     * @param str_device {string}\n     * @return {YDevice}\n     *\n     * This function will not cause any network access (not async !)\n     */\n    imm_getDevice(str_device) {\n        let dev = null;\n        let serial;\n        if (str_device.substr(0, 7) == 'http://' ||\n            str_device.substr(0, 5) == 'ws://' ||\n            str_device.substr(0, 8) == 'https://' ||\n            str_device.substr(0, 6) == 'wss://') {\n            // lookup by url\n            serial = this._snByUrl[str_device];\n            if (serial != undefined)\n                dev = this._devs[serial];\n        }\n        else {\n            // lookup by serial\n            if (this._devs[str_device]) {\n                dev = this._devs[str_device];\n            }\n            else {\n                // fallback to lookup by logical name\n                serial = this._snByName[str_device];\n                if (serial) {\n                    dev = this._devs[serial];\n                }\n            }\n        }\n        return dev;\n    }\n    /** Add or remove a value change callback\n     *\n     * @param obj_func {YFunction}\n     * @param bool_add {Boolean}\n     */\n    _UpdateValueCallbackList(obj_func, bool_add) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let index = this._ValueCallbackList.indexOf(obj_func);\n            if (bool_add) {\n                yield obj_func.isOnline();\n                if (index < 0) {\n                    this._ValueCallbackList.push(obj_func);\n                }\n            }\n            else if (index >= 0) {\n                this._ValueCallbackList.splice(index, 1);\n            }\n        });\n    }\n    /** Add or remove a timed report callback\n     *\n     * @param obj_func {YFunction}\n     * @param bool_add {Boolean}\n     */\n    _UpdateTimedReportCallbackList(obj_func, bool_add) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let index = this._TimedReportCallbackList.indexOf(obj_func);\n            if (bool_add) {\n                yield obj_func.isOnline();\n                if (index < 0) {\n                    this._TimedReportCallbackList.push(obj_func);\n                }\n            }\n            else if (index >= 0) {\n                this._TimedReportCallbackList.splice(index, 1);\n            }\n        });\n    }\n    // Return the class name for a given function ID or full Hardware Id\n    // Also make sure that the function type is registered in the API\n    imm_functionClass(str_funcid) {\n        let dotpos = str_funcid.indexOf('.');\n        if (dotpos >= 0)\n            str_funcid = str_funcid.substr(dotpos + 1);\n        let classlen = str_funcid.length;\n        while (str_funcid.substr(classlen - 1, 1) <= '9')\n            classlen--;\n        let classname = str_funcid.substr(0, 1).toUpperCase() + str_funcid.substr(1, classlen - 1);\n        if (this._fnByType[classname] == undefined)\n            this._fnByType[classname] = new YFunctionType(this, classname);\n        return classname;\n    }\n    // Reindex a device in YAPI after a name change detected by device refresh\n    imm_reindexDevice(obj_dev) {\n        let rootUrl = obj_dev.imm_getRootUrl();\n        let serial = obj_dev.imm_getSerialNumber();\n        let lname = obj_dev.imm_getLogicalName();\n        this._devs[serial] = obj_dev;\n        this._snByUrl[rootUrl] = serial;\n        if (lname != '')\n            this._snByName[lname] = serial;\n        this._fnByType['Module'].imm_reindexFunction(serial + '.module', lname, null, null);\n        let i, count = obj_dev.imm_functionCount();\n        for (i = 0; i < count; i++) {\n            let funcid = obj_dev.imm_functionId(i);\n            if (funcid != '') {\n                let funcname = obj_dev.imm_functionName(i);\n                let classname = this.imm_functionClass(funcid);\n                this._fnByType[classname].imm_reindexFunction(serial + '.' + funcid, funcname, null, null);\n            }\n        }\n    }\n    // Remove a device from YAPI after an unplug detected by device refresh\n    imm_forgetDevice(obj_dev) {\n        let rootUrl = obj_dev.imm_getRootUrl();\n        let serial = obj_dev.imm_getSerialNumber();\n        let lname = obj_dev.imm_getLogicalName();\n        delete this._devs[serial];\n        delete this._snByUrl[rootUrl];\n        if (this._snByName[lname] == serial) {\n            delete this._snByName[lname];\n        }\n        this._fnByType['Module'].imm_forgetFunction(serial + '.module');\n        let i, count = obj_dev.imm_functionCount();\n        for (i = 0; i < count; i++) {\n            let funcid = obj_dev.imm_functionId(i);\n            if (funcid != '') {\n                let classname = this.imm_functionClass(funcid);\n                this._fnByType[classname].imm_forgetFunction(serial + '.' + funcid);\n            }\n        }\n    }\n    // Find the best known identifier (hardware Id) for a given function\n    imm_resolveFunction(str_className, str_func) {\n        if (Y_BASETYPES[str_className] == undefined) {\n            // using a regular function type\n            if (this._fnByType[str_className] == undefined)\n                this._fnByType[str_className] = new YFunctionType(this, str_className);\n            return this._fnByType[str_className].imm_resolve(str_func);\n        }\n        // using an abstract baseType\n        let baseType = Y_BASETYPES[str_className];\n        let res;\n        for (str_className in this._fnByType) {\n            if (this._fnByType[str_className].imm_matchBaseType(baseType)) {\n                res = this._fnByType[str_className].imm_resolve(str_func);\n                if (res.errorType == YAPI_SUCCESS)\n                    return res;\n            }\n        }\n        return {\n            errorType: YAPI_DEVICE_NOT_FOUND,\n            errorMsg: 'No ' + str_className + ' [' + str_func + '] found (old firmware?)'\n        };\n    }\n    // Find the best known identifier (hardware Id) for a given function\n    imm_getFriendlyNameFunction(str_className, str_func) {\n        if (Y_BASETYPES[str_className] == undefined) {\n            // using a regular function type\n            if (this._fnByType[str_className] == undefined)\n                this._fnByType[str_className] = new YFunctionType(this, str_className);\n            return this._fnByType[str_className].imm_getFriendlyName(str_func);\n        }\n        // using an abstract baseType\n        let baseType = Y_BASETYPES[str_className];\n        let res;\n        for (str_className in this._fnByType) {\n            if (this._fnByType[str_className].imm_matchBaseType(baseType)) {\n                res = this._fnByType[str_className].imm_getFriendlyName(str_func);\n                if (res.errorType == YAPI_SUCCESS)\n                    return res;\n            }\n        }\n        return {\n            errorType: YAPI_DEVICE_NOT_FOUND,\n            errorMsg: 'No ' + str_className + ' [' + str_func + '] found (old firmware?)'\n        };\n    }\n    // Retrieve a function object by hardware id, updating the indexes on the fly if needed\n    imm_setFunction(str_className, str_func, obj_func) {\n        if (this._fnByType[str_className] == undefined)\n            this._fnByType[str_className] = new YFunctionType(this, str_className);\n        this._fnByType[str_className].imm_setFunction(str_func, obj_func);\n    }\n    // Retrieve a function object by hardware id, updating the indexes on the fly if needed\n    imm_getFunction(str_className, str_func) {\n        if (this._fnByType[str_className] == undefined)\n            this._fnByType[str_className] = new YFunctionType(this, str_className);\n        return this._fnByType[str_className].imm_getFunction(str_func);\n    }\n    // Set a function advertised value by hardware id\n    setFunctionValue(str_hwid, str_pubval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let classname = this.imm_functionClass(str_hwid);\n            if (this._fnByType[classname].imm_setFunctionValue(str_hwid, str_pubval)) {\n                let receivers = this._ValueCallbackList;\n                for (let i = 0; i < receivers.length; i++) {\n                    let fun = receivers[i];\n                    if (!fun._hwId)\n                        continue;\n                    if (fun._hwId == str_hwid) {\n                        yield fun._invokeValueCallback(str_pubval);\n                    }\n                }\n            }\n        });\n    }\n    // Set a timed value report for a function\n    setTimedReport(str_hwid, float_timestamp, float_duration, arr_report) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let classname = this.imm_functionClass(str_hwid);\n            let receivers = this._TimedReportCallbackList;\n            for (let i = 0; i < receivers.length; i++) {\n                let fun = receivers[i];\n                if (!fun._hwId)\n                    continue;\n                if (fun._hwId == str_hwid) {\n                    let dev = this.imm_getDevice(fun._serial);\n                    if (dev) {\n                        let sensor = fun;\n                        let report = yield sensor._decodeTimedReport(float_timestamp, float_duration, arr_report);\n                        yield sensor._invokeTimedReportCallback(report);\n                    }\n                }\n            }\n        });\n    }\n    // Publish a configuration change event\n    setConfChange(str_serial) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let module = YModule.FindModuleInContext(this, str_serial + \".module\");\n            yield module._invokeConfigChangeCallback();\n        });\n    }\n    // Publish a beacon change event\n    setBeaconChange(str_serial, int_beacon) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._beacons[str_serial] === undefined || this._beacons[str_serial] != int_beacon) {\n                this._beacons[str_serial] = int_beacon;\n                let dev = this.imm_getDevice(str_serial);\n                if (dev) {\n                    dev._beacon = int_beacon;\n                }\n                let module = YModule.FindModuleInContext(this, str_serial + \".module\");\n                yield module._invokeBeaconCallback(int_beacon);\n            }\n        });\n    }\n    // Retrieve a function advertised value by hardware id\n    imm_getFunctionValue(str_hwid) {\n        let classname = this.imm_functionClass(str_hwid);\n        return this._fnByType[classname].imm_getFunctionValue(str_hwid);\n    }\n    // Retrieve a function advertised value by hardware id\n    imm_getFunctionBaseType(str_hwid) {\n        let classname = this.imm_functionClass(str_hwid);\n        return this._fnByType[classname].imm_getBaseType();\n    }\n    // Find the hardwareId for the first instance of a given function class\n    imm_getFirstHardwareId(str_className) {\n        if (Y_BASETYPES[str_className] == undefined) {\n            // enumeration of a regular function type\n            if (this._fnByType[str_className] == undefined)\n                this._fnByType[str_className] = new YFunctionType(this, str_className);\n            return this._fnByType[str_className].imm_getFirstHardwareId();\n        }\n        // enumeration of an abstract class\n        let baseType = Y_BASETYPES[str_className];\n        let res;\n        for (str_className in this._fnByType) {\n            if (this._fnByType[str_className].imm_matchBaseType(baseType)) {\n                res = this._fnByType[str_className].imm_getFirstHardwareId();\n                if (res)\n                    return res;\n            }\n        }\n        return null;\n    }\n    // Find the hardwareId for the next instance of a given function class\n    imm_getNextHardwareId(str_className, str_hwid) {\n        if (Y_BASETYPES[str_className] == undefined) {\n            // enumeration of a regular function type\n            return this._fnByType[str_className].imm_getNextHardwareId(str_hwid);\n        }\n        // enumeration of an abstract class\n        let baseType = Y_BASETYPES[str_className];\n        let prevclass = this.imm_functionClass(str_hwid);\n        let res = this._fnByType[prevclass].imm_getNextHardwareId(str_hwid);\n        if (res)\n            return res;\n        for (str_className in this._fnByType) {\n            if (prevclass != '') {\n                if (str_className != prevclass)\n                    continue;\n                prevclass = '';\n                continue;\n            }\n            if (this._fnByType[str_className].imm_matchBaseType(baseType)) {\n                res = this._fnByType[str_className].imm_getFirstHardwareId();\n                if (res)\n                    return res;\n            }\n        }\n        return null;\n    }\n    /** Perform an HTTP request on a device, by URL or identifier.\n     * When loading the REST API from a device by identifier, the device cache will be used.\n     *\n     * @param str_device {string}\n     * @param str_request {string}\n     * @param obj_body {YHTTPBody|null}\n     * @param int_tcpchan {number}\n     * @returns {YHTTPRequest}\n     */\n    devRequest(str_device, str_request, obj_body = null, int_tcpchan = 0) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lines = str_request.split('\\n');\n            let res = new YHTTPRequest(null);\n            let lockdev = null;\n            let baseUrl;\n            if (str_device.substr(0, 7) == 'http://' ||\n                str_device.substr(0, 5) == 'ws://' ||\n                str_device.substr(0, 8) == 'https://' ||\n                str_device.substr(0, 6) == 'wss://') {\n                baseUrl = str_device;\n                if (baseUrl.slice(-1) != '/')\n                    baseUrl = baseUrl + '/';\n                if (lines[0].substr(0, 12) != 'GET /not.byn') {\n                    /** @type {string} **/\n                    let serial = this._snByUrl[baseUrl];\n                    if (serial) {\n                        lockdev = this._devs[serial];\n                    }\n                }\n            }\n            else {\n                lockdev = this.imm_getDevice(str_device);\n                if (!lockdev) {\n                    res.errorType = YAPI_DEVICE_NOT_FOUND;\n                    res.errorMsg = 'Device [' + str_device + '] not online';\n                    return res;\n                }\n                // use the device cache when loading the whole API\n                if (lines[0] == 'GET /api.json') {\n                    return lockdev.requestAPI(this.defaultCacheValidity);\n                }\n                baseUrl = lockdev.imm_getRootUrl();\n            }\n            // map str_device to a URL\n            let words = lines[0].split(' ');\n            if (words.length < 2) {\n                res.errorType = YAPI_INVALID_ARGUMENT;\n                res.errorMsg = 'Invalid request, not enough words; expected a method name and a URL';\n                return res;\n            }\n            else if (words.length > 2) {\n                res.errorType = YAPI_INVALID_ARGUMENT;\n                res.errorMsg = 'Invalid request, too many words; make sure the URL is URI-encoded';\n                return res;\n            }\n            let hub = null;\n            for (let i = 0; i < this._hubs.length; i++) {\n                let hubUrl = this._hubs[i].urlInfo.url;\n                if (baseUrl.slice(0, hubUrl.length) == hubUrl) {\n                    hub = this._hubs[i];\n                    break;\n                }\n            }\n            if (!hub && this._pendingHubs[str_device]) {\n                // special case to handle initial load of hub API before\n                // hub is added to the \"online hub\" list\n                hub = this._pendingHubs[str_device];\n            }\n            if (!hub) {\n                res.errorType = YAPI_DEVICE_NOT_FOUND;\n                res.errorMsg = 'No hub found for URL ' + baseUrl;\n                return res;\n            }\n            let method = words[0];\n            let devUrl = words[1];\n            if (devUrl.substr(0, 1) == '/')\n                devUrl = devUrl.substr(1);\n            // create an absolute hub-relative URL in devUrl\n            if (baseUrl.substr(0, hub.urlInfo.url.length) == hub.urlInfo.url) {\n                devUrl = baseUrl.substr(hub.urlInfo.url.length - 1) + devUrl;\n            }\n            else {\n                let pos = baseUrl.indexOf('//');\n                pos = baseUrl.indexOf('/', pos + 3);\n                devUrl = baseUrl.slice(pos) + devUrl;\n            }\n            // make sure we are allowed to execute this query\n            if (devUrl.slice(-2) == '&.' && !(yield hub.hasRwAccess())) {\n                res.errorType = YAPI_UNAUTHORIZED;\n                res.errorMsg = 'Access denied: admin credentials required';\n                return res;\n            }\n            // queue the call to user callback function in the pending queries promise chain\n            let delayedCode = function delayedRequest() {\n                return hub.request(method, devUrl, obj_body, int_tcpchan).catch((e) => {\n                    //this.imm_log('request '+method+' '+devUrl+' failed', callStack);\n                    let res = new YHTTPRequest(null);\n                    res.errorType = YAPI_IO_ERROR;\n                    res.errorMsg = e.message;\n                    return res;\n                });\n            };\n            if (lockdev && int_tcpchan == 0) {\n                let newPromise = lockdev._pendingQueries.then(delayedCode, delayedCode);\n                lockdev._pendingQueries = newPromise;\n                res = yield newPromise;\n            }\n            else {\n                res = yield delayedCode();\n            }\n            return res;\n        });\n    }\n    isReadOnly(str_device) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let lockdev = this.imm_getDevice(str_device);\n            if (!lockdev) {\n                return true;\n            }\n            let baseUrl = lockdev.imm_getRootUrl();\n            let hub = null;\n            for (let i = 0; i < this._hubs.length; i++) {\n                let hubUrl = this._hubs[i].urlInfo.url;\n                if (baseUrl.slice(0, hubUrl.length) == hubUrl) {\n                    hub = this._hubs[i];\n                    break;\n                }\n            }\n            if (!hub || !(yield hub.hasRwAccess())) {\n                return true;\n            }\n            return false;\n        });\n    }\n    /** Locate the device to access a specified function, without causing any I/O\n     *\n     * @param str_className {string}\n     * @param str_func {string}\n     * @returns {YFuncRequest}\n     */\n    imm_funcDev_internal(str_className, str_func) {\n        let res = new YFuncRequest(null);\n        let resolve = this.imm_resolveFunction(str_className, str_func);\n        if (resolve.errorType != YAPI_SUCCESS) {\n            res.errorType = resolve.errorType;\n            res.errorMsg = resolve.errorMsg;\n        }\n        else {\n            str_func = resolve.result;\n            let dotpos = str_func.indexOf('.');\n            let devid = str_func.substr(0, dotpos);\n            let funcid = str_func.substr(dotpos + 1);\n            let dev = this.imm_getDevice(devid);\n            if (dev == null) {\n                res.errorType = YAPI_DEVICE_NOT_FOUND;\n                res.errorMsg = 'Device [' + devid + '] not found';\n            }\n            else {\n                res.obj_result = { _expiration: -1, device: dev, deviceid: devid, functionid: funcid, hwid: str_func };\n            }\n        }\n        return res;\n    }\n    /** Locate the device to access a specified function. May cause device list update if needed\n     *\n     * @param str_className {string}\n     * @param str_func {string}\n     * @returns {YFuncRequest}\n     */\n    _funcDev(str_className, str_func) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res = this.imm_funcDev_internal(str_className, str_func);\n            if (res.errorType == YAPI_SUCCESS) {\n                return res;\n            }\n            else if (res.errorType == YAPI_DEVICE_NOT_FOUND && this._hubs.length == 0) {\n                // when USB is supported, check if no USB device is connected before outputing this message\n                res.errorMsg = 'Impossible to contact any device because no hub has been registered';\n                return res;\n            }\n            let updRes = yield this._updateDeviceList_internal(true, false);\n            if (updRes.errorType != YAPI_SUCCESS) {\n                res.errorType = updRes.errorType;\n                res.errorMsg = updRes.errorMsg;\n                return res;\n            }\n            return this.imm_funcDev_internal(str_className, str_func);\n        });\n    }\n    /** Load and parse the REST API for a function given by class name and identifier, possibly applying changes\n     * Device cache will be preloaded when loading function 'module' and leveraged for other modules\n     *\n     * @param str_className {string}\n     * @param str_func {string}\n     * @param str_extra {string}\n     * @param int_msValidity {number}\n     * @returns {YFuncRequest}\n     */\n    funcRequest(str_className, str_func, str_extra, int_msValidity = 0) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YFuncRequest} **/\n            let funcreq = this.imm_funcDev_internal(str_className, str_func);\n            if (funcreq.errorType != YAPI_SUCCESS) {\n                funcreq = yield this._funcDev(str_className, str_func);\n                if (funcreq.errorType != YAPI_SUCCESS) {\n                    return funcreq;\n                }\n            }\n            let devreq = funcreq.obj_result;\n            let loadval = null;\n            if (str_extra == '') {\n                // use a cached API string (reload if needed)\n                let yreq = yield devreq.device.requestAPI(int_msValidity);\n                if (yreq != null) {\n                    if (yreq.errorType != YAPI_SUCCESS || !yreq.obj_result) {\n                        let res = new YFuncRequest(null);\n                        res.errorType = yreq.errorType;\n                        res.errorMsg = yreq.errorMsg;\n                        return res;\n                    }\n                    loadval = yreq.obj_result[devreq.functionid];\n                }\n            }\n            else {\n                devreq.device.imm_dropCache();\n            }\n            if (!loadval) {\n                // request specified function only to minimize traffic\n                if (str_extra == '')\n                    str_extra = '.json';\n                let httpreq = 'GET /api/' + devreq.functionid + str_extra;\n                let yreq = yield this.devRequest(devreq.deviceid, httpreq, null, 0);\n                if (yreq.errorType != YAPI_SUCCESS)\n                    return yreq;\n                let replyBuff = yreq.bin_result;\n                if (replyBuff.length == 0 && httpreq.indexOf('?') >= 0) {\n                    funcreq.obj_result = null;\n                    return funcreq;\n                }\n                try {\n                    loadval = JSON.parse(this.imm_bin2str(replyBuff));\n                }\n                catch (err) {\n                    //this.imm_log('RequestAPI parse error: ', err);\n                }\n            }\n            if (!loadval) {\n                funcreq.errorType = YAPI_IO_ERROR;\n                funcreq.errorMsg = 'Request failed, could not parse API value for function ' + devreq.hwid;\n            }\n            else {\n                for (let key in devreq) {\n                    loadval[key] = devreq[key];\n                }\n                funcreq.obj_result = loadval;\n            }\n            return funcreq;\n        });\n    }\n    /** Perform an HTTP request on a device and return the result string\n     *\n     * @param str_device {string}\n     * @param str_request {string}\n     * @returns {Promise<Uint8Array|null>}\n     */\n    HTTPRequest(str_device, str_request) {\n        return __awaiter(this, void 0, void 0, function* () {\n            /** @type {YHTTPRequest} **/\n            let yreq = yield this.devRequest(str_device, str_request, null, 0);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                return this._throw(yreq.errorType, yreq.errorMsg, null);\n            }\n            return yreq.bin_result;\n        });\n    }\n    ForceDeviceRefresh(str_device) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let dev = this.imm_getDevice(str_device);\n            if (!dev)\n                return YAPI_DEVICE_NOT_FOUND;\n            let rootUrl = dev.imm_getRootUrl();\n            for (let i = 0; i < this._hubs.length; i++) {\n                let hub = this._hubs[i];\n                let hubUrl = hub.urlInfo.url;\n                if (rootUrl.substr(0, hubUrl.length) === hubUrl) {\n                    /** @type {YDevice} **/\n                    let hubDev = this.imm_getDevice(hubUrl);\n                    hubDev.imm_dropCache();\n                    /** @type {number} **/\n                    let retcode = yield hubDev.refresh();\n                    if (retcode != YAPI_SUCCESS) {\n                        return this._throw(retcode, hubDev._lastErrorMsg, retcode);\n                    }\n                    /** @type {YHTTPRequest} **/\n                    let yreq = yield hubDev.requestAPI(this.defaultCacheValidity);\n                    if (yreq.errorType != YAPI_SUCCESS) {\n                        return yreq.errorType;\n                    }\n                    let yellowPages = yreq.obj_result['services']['yellowPages'];\n                    dev.imm_updateFromYP(yellowPages);\n                }\n            }\n            dev.imm_dropCache();\n            return YAPI_SUCCESS;\n        });\n    }\n    SetDeviceListValidity_internal(deviceListValidity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._deviceListValidityMs = deviceListValidity * 1000;\n        });\n    }\n    GetDeviceListValidity_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return (this._deviceListValidityMs / 1000) >> 0;\n        });\n    }\n    SetNetworkTimeout_internal(networkMsTimeout) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._networkTimeoutMs = networkMsTimeout;\n        });\n    }\n    GetNetworkTimeout_internal() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this._networkTimeoutMs;\n        });\n    }\n    AddUdevRule_internal(force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return \"error: Not supported in TypeScript\";\n        });\n    }\n    //--- (generated code: YAPIContext implementation)\n    /**\n     * Modifies the delay between each forced enumeration of the used YoctoHubs.\n     * By default, the library performs a full enumeration every 10 seconds.\n     * To reduce network traffic, you can increase this delay.\n     * It's particularly useful when a YoctoHub is connected to the GSM network\n     * where traffic is billed. This parameter doesn't impact modules connected by USB,\n     * nor the working of module arrival/removal callbacks.\n     * Note: you must call this function after yInitAPI.\n     *\n     * @param deviceListValidity : nubmer of seconds between each enumeration.\n     * @noreturn\n     */\n    SetDeviceListValidity(deviceListValidity) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.SetDeviceListValidity_internal(deviceListValidity);\n        });\n    }\n    /**\n     * Returns the delay between each forced enumeration of the used YoctoHubs.\n     * Note: you must call this function after yInitAPI.\n     *\n     * @return the number of seconds between each enumeration.\n     */\n    GetDeviceListValidity() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.GetDeviceListValidity_internal();\n        });\n    }\n    /**\n     * Adds a UDEV rule which authorizes all users to access Yoctopuce modules\n     * connected to the USB ports. This function works only under Linux. The process that\n     * calls this method must have root privileges because this method changes the Linux configuration.\n     *\n     * @param force : if true, overwrites any existing rule.\n     *\n     * @return an empty string if the rule has been added.\n     *\n     * On failure, returns a string that starts with \"error:\".\n     */\n    AddUdevRule(force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.AddUdevRule_internal(force);\n        });\n    }\n    /**\n     * Modifies the network connection delay for yRegisterHub() and yUpdateDeviceList().\n     * This delay impacts only the YoctoHubs and VirtualHub\n     * which are accessible through the network. By default, this delay is of 20000 milliseconds,\n     * but depending or you network you may want to change this delay,\n     * gor example if your network infrastructure is based on a GSM connection.\n     *\n     * @param networkMsTimeout : the network connection delay in milliseconds.\n     * @noreturn\n     */\n    SetNetworkTimeout(networkMsTimeout) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.SetNetworkTimeout_internal(networkMsTimeout);\n        });\n    }\n    /**\n     * Returns the network connection delay for yRegisterHub() and yUpdateDeviceList().\n     * This delay impacts only the YoctoHubs and VirtualHub\n     * which are accessible through the network. By default, this delay is of 20000 milliseconds,\n     * but depending or you network you may want to change this delay,\n     * for example if your network infrastructure is based on a GSM connection.\n     *\n     * @return the network connection delay in milliseconds.\n     */\n    GetNetworkTimeout() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.GetNetworkTimeout_internal();\n        });\n    }\n    /**\n     * Change the validity period of the data loaded by the library.\n     * By default, when accessing a module, all the attributes of the\n     * module functions are automatically kept in cache for the standard\n     * duration (5 ms). This method can be used to change this standard duration,\n     * for example in order to reduce network or USB traffic. This parameter\n     * does not affect value change callbacks\n     * Note: This function must be called after yInitAPI.\n     *\n     * @param cacheValidityMs : an integer corresponding to the validity attributed to the\n     *         loaded function parameters, in milliseconds.\n     * @noreturn\n     */\n    SetCacheValidity(cacheValidityMs) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.defaultCacheValidity = cacheValidityMs;\n        });\n    }\n    /**\n     * Returns the validity period of the data loaded by the library.\n     * This method returns the cache validity of all attributes\n     * module functions.\n     * Note: This function must be called after yInitAPI .\n     *\n     * @return an integer corresponding to the validity attributed to the\n     *         loaded function parameters, in milliseconds\n     */\n    GetCacheValidity() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.defaultCacheValidity;\n        });\n    }\n    //--- (end of generated code: YAPIContext implementation)\n    /**\n     * Returns the version identifier for the Yoctopuce library in use.\n     * The version is a string in the form \"Major.Minor.Build\",\n     * for instance \"1.01.5535\". For languages using an external\n     * DLL (for instance C#, VisualBasic or Delphi), the character string\n     * includes as well the DLL version, for instance\n     * \"1.01.5535 (1.01.5439)\".\n     *\n     * If you want to verify in your code that the library version is\n     * compatible with the version that you have used during development,\n     * verify that the major number is strictly equal and that the minor\n     * number is greater or equal. The build number is not relevant\n     * with respect to the library compatibility.\n     *\n     * @return a character string describing the library version.\n     */\n    GetAPIVersion() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.imm_GetAPIVersion();\n        });\n    }\n    imm_GetAPIVersion() {\n        return /* version number patched automatically */ '1.10.51774';\n    }\n    /**\n     * Initializes the Yoctopuce programming library explicitly.\n     * It is not strictly needed to call yInitAPI(), as the library is\n     * automatically  initialized when calling yRegisterHub() for the\n     * first time.\n     *\n     * When YAPI.DETECT_NONE is used as detection mode,\n     * you must explicitly use yRegisterHub() to point the API to the\n     * VirtualHub on which your devices are connected before trying to access them.\n     *\n     * @param mode : an integer corresponding to the type of automatic\n     *         device detection to use. Possible values are\n     *         YAPI.DETECT_NONE, YAPI.DETECT_USB, YAPI.DETECT_NET,\n     *         and YAPI.DETECT_ALL.\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    InitAPI(mode, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._detectType = mode;\n            if (this.system_env.hasSSDP) {\n                if ((mode & this.DETECT_NET) !== 0) {\n                    yield this.TriggerHubDiscovery();\n                }\n            }\n            else {\n                // for backward-compatibility, don't throw an exception\n                // whatever argument is provided\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Waits for all pending communications with Yoctopuce devices to be\n     * completed then frees dynamically allocated resources used by\n     * the Yoctopuce library.\n     *\n     * From an operating system standpoint, it is generally not required to call\n     * this function since the OS will automatically free allocated resources\n     * once your program is completed. However there are two situations when\n     * you may really want to use that function:\n     *\n     * - Free all dynamically allocated memory blocks in order to\n     * track a memory leak.\n     *\n     * - Send commands to devices right before the end\n     * of the program. Since commands are sent in an asynchronous way\n     * the program could exit before all commands are effectively sent.\n     *\n     * You should not call any other library function after calling\n     * yFreeAPI(), or your program will crash.\n     */\n    FreeAPI() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Wait for all requests to complete\n            for (let serial in this._devs) {\n                let lockdev = this._devs[serial];\n                let newPromise = lockdev._pendingQueries;\n                if (newPromise != null) {\n                    try {\n                        yield newPromise;\n                    }\n                    catch (e) { }\n                }\n            }\n            // Close all hubs, restart the API\n            yield this.KillAPI();\n        });\n    }\n    /**\n     * Abort any ongoing API activity immediately by closing all open hubs. Then\n     * frees dynamically allocated memory blocks used by the Yoctopuce library.\n     * You should not call any other library function after calling\n     * yDropAPI(), or your program will crash.\n     */\n    KillAPI() {\n        return __awaiter(this, void 0, void 0, function* () {\n            // stop SSDP manager, if started\n            if (this._ssdpManager) {\n                yield this._ssdpManager.ySSDPStop();\n                this._ssdpManager = null;\n            }\n            // disconnect all hubs (including callback)\n            for (let i = 0; i < this._hubs.length; i++) {\n                yield this._hubs[i].disconnect();\n            }\n            // clear all caches\n            this.imm_ResetToDefaults();\n        });\n    }\n    /**\n     * Disables the use of exceptions to report runtime errors.\n     * When exceptions are disabled, every function returns a specific\n     * error value which depends on its type and which is documented in\n     * this reference manual.\n     */\n    DisableExceptions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.exceptionsDisabled = true;\n        });\n    }\n    /**\n     * Re-enables the use of exceptions for runtime error handling.\n     * Be aware than when exceptions are enabled, every function that fails\n     * triggers an exception. If the exception is not caught by the user code,\n     * it  either fires the debugger or aborts (i.e. crash) the program.\n     * On failure, throws an exception or returns a negative error code.\n     */\n    EnableExceptions() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.exceptionsDisabled = false;\n        });\n    }\n    /**\n     * Enable logging to the console for unhandled promise rejections,\n     * such as exceptions in async functions without a try/catch.\n     * This is not really a Yoctopuce thing, but since it is not obvious\n     * to find out and since the code differs depending on the environment,\n     * we provide it here for convenience.\n     */\n    LogUnhandledPromiseRejections() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.system_env.hookUnhandledRejection((reason, promise) => {\n                this.imm_log(\"Unhandled Rejection at: Promise \", promise, \" reason: \", reason);\n            });\n        });\n    }\n    // Parse a hub URL\n    imm_parseRegisteredUrl(str_url) {\n        let proto = 'ws://';\n        let user = '';\n        let pass = '';\n        let port = '4444';\n        let host;\n        let dom = '';\n        let url = '';\n        if (!this._isNodeJS && window && window.navigator && window.navigator.userAgent && /(iPad|iPhone|iPod)/g.test(window.navigator.userAgent)) {\n            // iOS now blocks ws:// unless embedded from a https:// page, so we have to default to http://\n            proto = 'http://';\n        }\n        if (str_url.slice(0, 7) == 'http://') {\n            proto = 'http://';\n            str_url = str_url.slice(7);\n        }\n        else if (str_url.slice(0, 5) == 'ws://') {\n            str_url = str_url.slice(5);\n        }\n        else if (str_url.slice(0, 8) == 'https://') {\n            proto = 'https://';\n            str_url = str_url.slice(8);\n        }\n        else if (str_url.slice(0, 6) == 'wss://') {\n            proto = 'wss://';\n            str_url = str_url.slice(6);\n        }\n        str_url = str_url.replace('/not.byn', '');\n        let pos = str_url.indexOf('/');\n        if (pos > 0) {\n            dom = str_url.slice(pos + 1);\n            if (dom.length > 0 && dom.slice(-1) != '/')\n                dom += '/';\n            str_url = str_url.slice(0, pos);\n        }\n        url = proto;\n        let authpos = str_url.indexOf('@');\n        if (authpos >= 0) {\n            let auth = str_url.slice(0, authpos);\n            let passpos = auth.indexOf(':');\n            if (passpos >= 0) {\n                user = auth.slice(0, passpos);\n                pass = auth.slice(passpos + 1);\n                url += user + ':' + pass + '@';\n            }\n            else {\n                user = auth;\n                url += user + '@';\n            }\n            str_url = str_url.slice(authpos + 1);\n        }\n        pos = str_url.indexOf(':');\n        if (pos < 0) {\n            host = str_url;\n        }\n        else {\n            host = str_url.slice(0, pos);\n            port = str_url.slice(pos + 1);\n        }\n        if (host == 'callback') {\n            if (proto == 'ws:') {\n                url = 'ws://callback:4444/';\n            }\n            else {\n                url = 'http://callback:4444/';\n            }\n        }\n        else {\n            url += host + ':' + port + '/' + dom;\n        }\n        return { 'proto': proto, 'user': user, 'pass': pass, 'host': host, 'port': port, 'domain': dom, 'url': url };\n    }\n    imm_registerHub_internal(urlInfo) {\n        let newhub;\n        if (urlInfo.proto.slice(0, 3) == 'ws:' || urlInfo.proto.slice(0, 4) == 'wss:') {\n            newhub = this.system_env.getWebSocketHub(this, urlInfo);\n        }\n        else {\n            newhub = this.system_env.getHttpHub(this, urlInfo);\n        }\n        return newhub;\n    }\n    imm_forgetHub(hub) {\n        for (let j = 0; j < hub.serialByYdx.length; j++) {\n            let serial = hub.serialByYdx[j];\n            if (serial && this._devs[serial]) {\n                if (this._removalCallback) {\n                    let module = YModule.FindModuleInContext(this, serial + '.module');\n                    this._pendingCallbacks.push({ event: '-', serial: serial, module: module });\n                }\n                try {\n                    this.imm_forgetDevice(this._devs[serial]);\n                }\n                catch (e) { }\n            }\n        }\n        let i = this._hubs.indexOf(hub);\n        if (i >= 0) {\n            this._hubs.splice(i, 1);\n        }\n    }\n    /**\n     * Setup the Yoctopuce library to use modules connected on a given machine. Idealy this\n     * call will be made once at the begining of your application.  The\n     * parameter will determine how the API will work. Use the following values:\n     *\n     * <b>usb</b>: When the usb keyword is used, the API will work with\n     * devices connected directly to the USB bus. Some programming languages such a JavaScript,\n     * PHP, and Java don't provide direct access to USB hardware, so usb will\n     * not work with these. In this case, use a VirtualHub or a networked YoctoHub (see below).\n     *\n     * <b><i>x.x.x.x</i></b> or <b><i>hostname</i></b>: The API will use the devices connected to the\n     * host with the given IP address or hostname. That host can be a regular computer\n     * running a VirtualHub, or a networked YoctoHub such as YoctoHub-Ethernet or\n     * YoctoHub-Wireless. If you want to use the VirtualHub running on you local\n     * computer, use the IP address 127.0.0.1.\n     *\n     * <b>callback</b>: that keyword make the API run in \"<i>HTTP Callback</i>\" mode.\n     * This a special mode allowing to take control of Yoctopuce devices\n     * through a NAT filter when using a VirtualHub or a networked YoctoHub. You only\n     * need to configure your hub to call your server script on a regular basis.\n     * This mode is currently available for PHP and Node.JS only.\n     *\n     * Be aware that only one application can use direct USB access at a\n     * given time on a machine. Multiple access would cause conflicts\n     * while trying to access the USB modules. In particular, this means\n     * that you must stop the VirtualHub software before starting\n     * an application that uses direct USB access. The workaround\n     * for this limitation is to setup the library to use the VirtualHub\n     * rather than direct USB access.\n     *\n     * If access control has been activated on the hub, virtual or not, you want to\n     * reach, the URL parameter should look like:\n     *\n     * http://username:password@address:port\n     *\n     * You can call <i>RegisterHub</i> several times to connect to several machines. On\n     * the other hand, it is useless and even counterproductive to call <i>RegisterHub</i>\n     * with to same address multiple times during the life of the application.\n     *\n     * @param url : a string containing either \"usb\",\"callback\" or the\n     *         root URL of the hub to monitor\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    RegisterHub(url, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (url === \"net\") {\n                if (this.system_env.hasSSDP) {\n                    this._detectType |= this.DETECT_NET;\n                    return this.TriggerHubDiscovery();\n                }\n                else {\n                    return this._throw(YAPI_NOT_SUPPORTED, 'Network discovery is not possible in a browser', YAPI_NOT_SUPPORTED);\n                }\n            }\n            if (url === \"usb\") {\n                return this._throw(YAPI_NOT_SUPPORTED, 'Use the VirtualHub on 127.0.0.1 to access USB devices', YAPI_NOT_SUPPORTED);\n            }\n            let urlInfo = this.imm_parseRegisteredUrl(url);\n            let newhub = this.imm_getHub(urlInfo);\n            if (newhub || this._pendingHubs[urlInfo.url]) {\n                return YAPI_SUCCESS;\n            }\n            newhub = this.imm_registerHub_internal(urlInfo);\n            if (!newhub) {\n                return this._throw(YAPI_NOT_SUPPORTED, 'Unsupported hub protocol: ' + urlInfo.proto, YAPI_NOT_SUPPORTED);\n            }\n            this._pendingHubs[urlInfo.url] = newhub;\n            let sub_errmsg = new YErrorMsg();\n            let retcode = yield newhub.testHub(this._networkTimeoutMs, sub_errmsg);\n            if (retcode != YAPI_SUCCESS) {\n                if (errmsg) {\n                    errmsg.msg = sub_errmsg.msg;\n                }\n                return this._throw(retcode, sub_errmsg.msg, retcode);\n            }\n            // Update known device list\n            let yreq = yield this._updateDeviceList_internal(true, false);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                if (errmsg) {\n                    errmsg.msg = yreq.errorMsg;\n                }\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Fault-tolerant alternative to yRegisterHub(). This function has the same\n     * purpose and same arguments as yRegisterHub(), but does not trigger\n     * an error when the selected hub is not available at the time of the function call.\n     * This makes it possible to register a network hub independently of the current\n     * connectivity, and to try to contact it only when a device is actively needed.\n     *\n     * @param url : a string containing either \"usb\",\"callback\" or the\n     *         root URL of the hub to monitor\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    PreregisterHub(url, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let urlInfo = this.imm_parseRegisteredUrl(url);\n            let newhub = this.imm_getHub(urlInfo);\n            if (newhub || this._pendingHubs[urlInfo.url]) {\n                // hub already active\n                return YAPI_SUCCESS;\n            }\n            if (this._pendingHubs[urlInfo.url]) {\n                // hub already pre-registered but not connected\n                return YAPI_SUCCESS;\n            }\n            newhub = this.imm_registerHub_internal(urlInfo);\n            if (!newhub) {\n                return this._throw(YAPI_NOT_SUPPORTED, 'Unsupported hub protocol: ' + urlInfo.proto, YAPI_NOT_SUPPORTED);\n            }\n            newhub.imm_setConnectionType(1 /* Y_YHubType.HUB_PREREGISTERED */);\n            this._pendingHubs[urlInfo.url] = newhub;\n            // trigger testHub, but don't wait for the result\n            // the hub will be removed from _pendingHubs when connected\n            newhub.testHub(0, errmsg).then((errcode) => {\n                if (errcode != YAPI_SUCCESS) {\n                    if (this._pendingHubs[urlInfo.url]) {\n                        delete this._pendingHubs[urlInfo.url];\n                    }\n                }\n            });\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Setup the Yoctopuce library to use modules connected on a remote hub\n     * performing an incoming connection to an HTTP server.\n     *\n     * @param incomingMessage {IncomingMessage} : node http incomingMessage object.\n     * @param serverResponse  {ServerResponse} : node http serverResponse object.\n     * @param errmsg {YErrorMsg} : a string passed by reference to receive any error message.\n     *\n     * @return {number} YAPI_SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    RegisterHubHttpCallback(incomingMessage, serverResponse, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let urlInfo = this.imm_parseRegisteredUrl('http://callback:4444');\n            let newhub = this.imm_getHub(urlInfo);\n            if (newhub || this._pendingHubs[urlInfo.url]) {\n                return YAPI_SUCCESS;\n            }\n            newhub = this.system_env.getHttpCallbackHub(this, urlInfo, incomingMessage, serverResponse);\n            if (!newhub) {\n                return this._throw(YAPI_NOT_SUPPORTED, 'HTTP Callback mode is not available in this environment', YAPI_NOT_SUPPORTED);\n            }\n            let retcode = yield newhub.testHub(this._networkTimeoutMs, errmsg);\n            if (retcode != YAPI_SUCCESS) {\n                newhub.reportFailure(errmsg.msg);\n                return this._throw(retcode, errmsg.msg, retcode);\n            }\n            // Update known device list\n            let yreq = yield this._updateDeviceList_internal(true, false);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                if (errmsg) {\n                    errmsg.msg = yreq.errorMsg;\n                    newhub.reportFailure(errmsg.msg);\n                }\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Setup the Yoctopuce library to use modules connected on a remote hub\n     * performing an incoming connection to a websocket server.\n     *\n     * @param ws {WebSocket} : node WebSocket object for the incoming websocket callback connection.\n     * @param errmsg {YErrorMsg} : a string passed by reference to receive any error message.\n     * @param authpwd {string} : an optional authentication password\n     *\n     * @return {number} YAPI_SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    RegisterHubWebSocketCallback(ws, errmsg, authpwd) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let authstr = (authpwd ? 'ws:' + authpwd + '@' : '');\n            let urlInfo = this.imm_parseRegisteredUrl('http://' + authstr + 'callback:4444');\n            let newhub = this.imm_getHub(urlInfo);\n            if (newhub || this._pendingHubs[urlInfo.url]) {\n                return YAPI_SUCCESS;\n            }\n            newhub = this.system_env.getWebSocketCallbackHub(this, urlInfo, ws);\n            if (!newhub) {\n                return this._throw(YAPI_NOT_SUPPORTED, 'HTTP Callback mode is not available in this environment', YAPI_NOT_SUPPORTED);\n            }\n            let retcode = yield newhub.testHub(this._networkTimeoutMs, errmsg);\n            if (retcode != YAPI_SUCCESS) {\n                return this._throw(retcode, errmsg.msg, retcode);\n            }\n            // Update known device list\n            let yreq = yield this._updateDeviceList_internal(true, false);\n            if (yreq.errorType != YAPI_SUCCESS) {\n                if (errmsg) {\n                    errmsg.msg = yreq.errorMsg;\n                }\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    WebSocketJoin(ws, arr_credentials, closeCallback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._hubs.length == 0) {\n                return false;\n            }\n            return this._hubs[0].websocketJoin(ws, arr_credentials, closeCallback);\n        });\n    }\n    /**\n     * Setup the Yoctopuce library to no more use modules connected on a previously\n     * registered machine with RegisterHub.\n     *\n     * @param url : a string containing either \"usb\" or the\n     *         root URL of the hub to monitor\n     */\n    UnregisterHub(url) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let urlInfo = this.imm_parseRegisteredUrl(url);\n            let hub = this.imm_getHub(urlInfo);\n            if (hub) {\n                this.imm_forgetHub(hub);\n                yield hub.disconnect();\n            }\n            else {\n                let pdghub = this._pendingHubs[urlInfo.url];\n                if (pdghub) {\n                    delete this._pendingHubs[urlInfo.url];\n                    yield pdghub.disconnect();\n                }\n            }\n        });\n    }\n    /**\n     * Test if the hub is reachable. This method do not register the hub, it only test if the\n     * hub is usable. The url parameter follow the same convention as the yRegisterHub\n     * method. This method is useful to verify the authentication parameters for a hub. It\n     * is possible to force this method to return after mstimeout milliseconds.\n     *\n     * @param url : a string containing either \"usb\",\"callback\" or the\n     *         root URL of the hub to monitor\n     * @param mstimeout : the number of millisecond available to test the connection.\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure returns a negative error code.\n     */\n    TestHub(url, mstimeout, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let urlInfo = this.imm_parseRegisteredUrl(url);\n            let newhub = this.imm_getHub(urlInfo);\n            if (newhub) {\n                return (newhub.imm_isOnline() ? YAPI_SUCCESS : YAPI_IO_ERROR);\n            }\n            if (this._pendingHubs[urlInfo.url]) {\n                return YAPI_IO_ERROR;\n            }\n            newhub = this.imm_registerHub_internal(urlInfo);\n            if (!newhub) {\n                return YAPI_NOT_SUPPORTED;\n            }\n            newhub.imm_setConnectionType(2 /* Y_YHubType.HUB_TESTONLY */);\n            if (!errmsg)\n                errmsg = new YErrorMsg();\n            let res = yield newhub.testHub(mstimeout, errmsg);\n            yield newhub.disconnect();\n            return res;\n        });\n    }\n    /**\n     * Triggers a (re)detection of connected Yoctopuce modules.\n     * The library searches the machines or USB ports previously registered using\n     * yRegisterHub(), and invokes any user-defined callback function\n     * in case a change in the list of connected devices is detected.\n     *\n     * This function can be called as frequently as desired to refresh the device list\n     * and to make the application aware of hot-plug events. However, since device\n     * detection is quite a heavy process, UpdateDeviceList shouldn't be called more\n     * than once every two seconds.\n     *\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    UpdateDeviceList(errmsg = null) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let yreq = yield this._updateDeviceList_internal(false, true);\n            if (yreq.errorType !== YAPI_SUCCESS) {\n                if (errmsg)\n                    errmsg.msg = yreq.errorMsg;\n                return this._throw(yreq.errorType, yreq.errorMsg, yreq.errorType);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    _hubDiscoveryCallback_internal(serial, urlToRegister, urlToUnregister) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._hubDiscoveryCallback && urlToRegister) {\n                try {\n                    yield this._hubDiscoveryCallback(serial, urlToRegister, urlToUnregister);\n                }\n                catch (e) {\n                    this.imm_log('Exception in hub discovery callback:', e);\n                }\n            }\n            if ((this._detectType & Y_DETECT_NET) !== 0) {\n                if (urlToRegister) {\n                    if (urlToUnregister) {\n                        yield this.UnregisterHub(urlToUnregister);\n                    }\n                    yield this.PreregisterHub(urlToRegister, new YErrorMsg());\n                }\n            }\n        });\n    }\n    /**\n     * Force a hub discovery, if a callback as been registered with yRegisterHubDiscoveryCallback it\n     * will be called for each net work hub that will respond to the discovery.\n     *\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *         On failure, throws an exception or returns a negative error code.\n     */\n    TriggerHubDiscovery(errmsg = null) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._ssdpManager) {\n                this._ssdpManager = this.system_env.getSSDPManager(this);\n                if (!this._ssdpManager)\n                    return this._lastErrorType;\n                yield this._ssdpManager.ySSDPStart((serial, newUrl, oldUrl) => {\n                    this._hubDiscoveryCallback_internal(serial, newUrl, oldUrl);\n                });\n            }\n            else {\n                yield this._ssdpManager.ySSDPDiscover();\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Maintains the device-to-library communication channel.\n     * If your program includes significant loops, you may want to include\n     * a call to this function to make sure that the library takes care of\n     * the information pushed by the modules on the communication channels.\n     * This is not strictly necessary, but it may improve the reactivity\n     * of the library for the following commands.\n     *\n     * This function may signal an error in case there is a communication problem\n     * while contacting a module.\n     *\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    HandleEvents(errmsg = null) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return YAPI_SUCCESS;\n        });\n    }\n    /**\n     * Pauses the execution flow for a specified duration.\n     * This function implements a passive waiting loop, meaning that it does not\n     * consume CPU cycles significantly. The processor is left available for\n     * other threads and processes. During the pause, the library nevertheless\n     * reads from time to time information from the Yoctopuce modules by\n     * calling yHandleEvents(), in order to stay up-to-date.\n     *\n     * This function may signal an error in case there is a communication problem\n     * while contacting a module.\n     *\n     * @param ms_duration : an integer corresponding to the duration of the pause,\n     *         in milliseconds.\n     * @param errmsg : a string passed by reference to receive any error message.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    Sleep(ms_duration, errmsg = null) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let end = this.GetTickCount() + ms_duration;\n            yield this.HandleEvents(errmsg);\n            while (this.GetTickCount() < end) {\n                yield this._microSleep_internal();\n                yield this.HandleEvents(errmsg);\n            }\n            return YAPI_SUCCESS;\n        });\n    }\n    // internal async function to wait for a very short period\n    _microSleep_internal() {\n        return new Promise(function (resolve, reject) {\n            //noinspection DynamicallyGeneratedCodeJS\n            setTimeout(resolve, 3);\n        });\n    }\n    /**\n     * Invoke the specified callback function after a given timeout.\n     * This function behaves more or less like Javascript setTimeout,\n     * but during the waiting time, it will call yHandleEvents\n     * and yUpdateDeviceList periodically, in order to\n     * keep the API up-to-date with current devices.\n     *\n     * @param callback : the function to call after the timeout occurs.\n     *         On Microsoft Internet Explorer, the callback must\n     *         be provided as a string to be evaluated.\n     * @param ms_timeout : an integer corresponding to the duration of the\n     *         timeout, in milliseconds.\n     * @param args : additional arguments to be passed to the\n     *         callback function can be provided, if needed\n     *         (not supported on Microsoft Internet Explorer).\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    SetTimeout(callback, ms_timeout, args) {\n        this._setTimeout_internal(callback, this.GetTickCount() + ms_timeout, args);\n        return YAPI_SUCCESS;\n    }\n    _setTimeout_internal(callback, endtime, args) {\n        let delay = endtime - YAPI.GetTickCount();\n        if (delay < 0) {\n            callback.apply(null, args);\n        }\n        else if (delay < 100) {\n            this.Sleep(delay).then(() => {\n                this._setTimeout_internal(callback, endtime, args);\n            });\n        }\n        else {\n            this.UpdateDeviceList().then(() => {\n                this.Sleep(90).then(() => {\n                    this._setTimeout_internal(callback, endtime, args);\n                });\n            });\n        }\n    }\n    /**\n     * Returns the current value of a monotone millisecond-based time counter.\n     * This counter can be used to compute delays in relation with\n     * Yoctopuce devices, which also uses the millisecond as timebase.\n     *\n     * @return a long integer corresponding to the millisecond counter.\n     */\n    GetTickCount() {\n        return Date.now();\n    }\n    imm_CheckLogicalName(name) {\n        if (name == '')\n            return true;\n        if (!name)\n            return false;\n        if (name.length > 19)\n            return false;\n        return /^[A-Za-z0-9_\\-]*$/.test(name);\n    }\n    /**\n     * Checks if a given string is valid as logical name for a module or a function.\n     * A valid logical name has a maximum of 19 characters, all among\n     * A..Z, a..z, 0..9, _, and -.\n     * If you try to configure a logical name with an incorrect string,\n     * the invalid characters are ignored.\n     *\n     * @param name : a string containing the name to check.\n     *\n     * @return true if the name is valid, false otherwise.\n     */\n    CheckLogicalName(name) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return this.imm_CheckLogicalName(name);\n        });\n    }\n    /**\n     * Register a callback function, to be called each time\n     * a device is plugged. This callback will be invoked while yUpdateDeviceList\n     * is running. You will have to call this function on a regular basis.\n     *\n     * @param arrivalCallback : a procedure taking a YModule parameter, or null\n     *         to unregister a previously registered  callback.\n     */\n    RegisterDeviceArrivalCallback(arrivalCallback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._arrivalCallback = arrivalCallback;\n        });\n    }\n    RegisterDeviceChangeCallback(changeCallback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._namechgCallback = changeCallback;\n        });\n    }\n    /**\n     * Register a callback function, to be called each time\n     * a device is unplugged. This callback will be invoked while yUpdateDeviceList\n     * is running. You will have to call this function on a regular basis.\n     *\n     * @param removalCallback : a procedure taking a YModule parameter, or null\n     *         to unregister a previously registered  callback.\n     */\n    RegisterDeviceRemovalCallback(removalCallback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._removalCallback = removalCallback;\n        });\n    }\n    /**\n     * Register a callback function, to be called each time an Network Hub send\n     * an SSDP message. The callback has two string parameter, the first one\n     * contain the serial number of the hub and the second contain the URL of the\n     * network hub (this URL can be passed to RegisterHub). This callback will be invoked\n     * while yUpdateDeviceList is running. You will have to call this function on a regular basis.\n     *\n     * @param hubDiscoveryCallback : a procedure taking two string parameter, the serial\n     *         number and the hub URL. Use null to unregister a previously registered  callback.\n     */\n    RegisterHubDiscoveryCallback(hubDiscoveryCallback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.system_env.hasSSDP) {\n                return this._throw(YAPI_NOT_SUPPORTED, 'Hub discovery is not supported in this environment', YAPI_NOT_SUPPORTED);\n            }\n            this._hubDiscoveryCallback = hubDiscoveryCallback;\n            return this.TriggerHubDiscovery();\n        });\n    }\n    // Register a new value calibration handler for a given calibration type\n    //\n    RegisterCalibrationHandler(calibrationType, calibrationHandler) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._calibHandlers[calibrationType] = calibrationHandler;\n        });\n    }\n    // Standard value calibration handler (n-point linear error correction)\n    //\n    LinearCalibrationHandler(float_rawValue, int_calibType, arr_calibParams, arr_calibRawValues, arr_calibRefValues) {\n        // calibration types n=1..10 and 11..20 are meant for linear calibration using n points\n        let npt;\n        let x = arr_calibRawValues[0];\n        let adj = arr_calibRefValues[0] - x;\n        let i = 0;\n        if (int_calibType < YOCTO_CALIB_TYPE_OFS) {\n            npt = Math.min(int_calibType % 10, arr_calibRawValues.length, arr_calibRefValues.length);\n        }\n        else {\n            npt = arr_calibRefValues.length;\n        }\n        while (float_rawValue > arr_calibRawValues[i] && ++i < npt) {\n            let x2 = x;\n            let adj2 = adj;\n            x = arr_calibRawValues[i];\n            adj = arr_calibRefValues[i] - x;\n            if (float_rawValue < x && x > x2) {\n                adj = adj2 + (adj - adj2) * (float_rawValue - x2) / (x - x2);\n            }\n        }\n        return float_rawValue + adj;\n    }\n    /**\n     * Compute the MD5 digest for a given ASCII string\n     *\n     * @param text {string} : the ASCII string to hash\n     *\n     * @return {Uint8Array} the 16-bytes MD5 hash key\n     */\n    imm_yMD5(text) {\n        let ctx = new Y_MD5Ctx();\n        ctx.addData(this.imm_str2bin(text));\n        return ctx.calculate();\n    }\n    // SHA1 and WPA preshared-key computation\n    //\n    imm_initshaw(str_s, int_ofs, int_pad, int_xinit, _shaw) {\n        let ii;\n        let j = -1;\n        let k = 0;\n        let n = str_s.length;\n        for (ii = 0; ii < 64; ii++) {\n            let i = int_ofs + ii;\n            let c = 0;\n            if (i < n) {\n                c = str_s.charCodeAt(i);\n            }\n            else if (int_pad != 0) {\n                if ((int_pad & 0x80) != 0) {\n                    if (i == n)\n                        c = int_pad;\n                }\n                else {\n                    if (i == n + 3)\n                        c = int_pad;\n                    else if (i == n + 4)\n                        c = 0x80;\n                }\n            }\n            if (k == 0) {\n                j++;\n                _shaw[j] = 0;\n                k = 32;\n            }\n            k -= 8;\n            _shaw[j] |= (c << k);\n        }\n        if (int_pad != 0) {\n            if (int_pad == 0x80) {\n                if (n <= int_ofs + 55) {\n                    _shaw[15] = 8 * n;\n                }\n            }\n            else {\n                _shaw[15] = 8 * (64 + n + 4);\n            }\n        }\n        if (int_xinit != 0) {\n            let xdw = (int_xinit << 16) | int_xinit;\n            for (j = 0; j < 16; j++) {\n                _shaw[j] ^= xdw;\n            }\n        }\n    }\n    imm_itershaw(s, _shaw) {\n        let a, b, c, d, e, t, k;\n        a = s[0];\n        b = s[1];\n        c = s[2];\n        d = s[3];\n        e = s[4];\n        for (k = 16; k < 80; k++) {\n            t = _shaw[k - 3] ^ _shaw[k - 8] ^ _shaw[k - 14] ^ _shaw[k - 16];\n            _shaw[k] = (t << 1) | (t >>> 31);\n        }\n        for (k = 0; k < 20; k++) {\n            t = ((a << 5) | (a >>> 27)) + e + _shaw[k] + 0x5A827999 + ((b & c) | ((~b) & d));\n            e = d;\n            d = c;\n            c = (b << 30) | (b >>> 2);\n            b = a;\n            a = t & 0xffffffff;\n        }\n        for (k = 20; k < 40; k++) {\n            t = ((a << 5) | (a >>> 27)) + e + _shaw[k] + 0x6ED9EBA1 + (b ^ c ^ d);\n            e = d;\n            d = c;\n            c = (b << 30) | (b >>> 2);\n            b = a;\n            a = t & 0xffffffff;\n        }\n        for (k = 40; k < 60; k++) {\n            t = ((a << 5) | (a >>> 27)) + e + _shaw[k] + 0x8F1BBCDC + ((b & c) | (b & d) | (c & d));\n            e = d;\n            d = c;\n            c = (b << 30) | (b >>> 2);\n            b = a;\n            a = t & 0xffffffff;\n        }\n        for (k = 60; k < 80; k++) {\n            t = ((a << 5) | (a >>> 27)) + e + _shaw[k] + 0xCA62C1D6 + (b ^ c ^ d);\n            e = d;\n            d = c;\n            c = (b << 30) | (b >>> 2);\n            b = a;\n            a = t & 0xffffffff;\n        }\n        _shaw[0] = (s[0] + a) & 0xffffffff;\n        _shaw[1] = (s[1] + b) & 0xffffffff;\n        _shaw[2] = (s[2] + c) & 0xffffffff;\n        _shaw[3] = (s[3] + d) & 0xffffffff;\n        _shaw[4] = (s[4] + e) & 0xffffffff;\n    }\n    /**\n     * Compute the SHA1 digest for a given ASCII string\n     *\n     * @param text {string} : the ASCII string to hash\n     *\n     * @return {Uint8Array} the 20-bytes SHA1 hash key\n     */\n    imm_ySHA1(text) {\n        let shau = [0x67452301, 0xEFCDAB89, 0x98BADCFE, 0x10325476, 0xC3D2E1F0];\n        let i, ofs = 0;\n        let n = text.length;\n        let _shaw = new Uint32Array(80);\n        do {\n            this.imm_initshaw(text, ofs, 0x80, 0, _shaw);\n            this.imm_itershaw(shau, _shaw);\n            for (i = 0; i < 5; i++) {\n                shau[i] = _shaw[i];\n            }\n            ofs += 64;\n        } while (n > ofs - 9);\n        let res = new Uint8Array(20);\n        for (i = 0; i < 20; i++) {\n            res[i] = (shau[i >>> 2] >>> (24 - 8 * (i & 3))) & 0xff;\n        }\n        return res;\n    }\n    /**\n     * Compute the WPA Preshared key for a given SSID and passphrase\n     *\n     * @param ssid {string} : the access point SSID\n     * @param pass {string} : the access point WPA/WPA2 passphrase\n     *\n     * @return {string} an hexadecimal string for the preshared key\n     */\n    ComputePSK(ssid, pass) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let sha1_init = [0x67452301, 0xEFCDAB89, 0x98BADCFE, 0x10325476, 0xC3D2E1F0];\n            let inner = [], outer = [], shau = [], res = [];\n            let iter, pos, k, _shaw;\n            // precompute part of sha used in the loops\n            _shaw = new Uint32Array(80);\n            this.imm_initshaw(pass, 0, 0, 0x3636, _shaw);\n            this.imm_itershaw(sha1_init, _shaw);\n            for (k = 0; k < 5; k++)\n                inner[k] = _shaw[k];\n            _shaw = new Uint32Array(80);\n            this.imm_initshaw(pass, 0, 0, 0x5c5c, _shaw);\n            this.imm_itershaw(sha1_init, _shaw);\n            for (k = 0; k < 5; k++)\n                outer[k] = _shaw[k];\n            // prepare to compute first 20 bytes\n            pos = 0;\n            for (k = 0; k < 5; k++)\n                shau[k] = 0;\n            _shaw = new Uint32Array(80);\n            this.imm_initshaw(ssid, 0, 1, 0, _shaw);\n            for (iter = 0; iter < 8192;) {\n                this.imm_itershaw(inner, _shaw);\n                _shaw[5] = 0x80000000;\n                for (k = 6; k < 15; k++) {\n                    _shaw[k] = 0;\n                }\n                _shaw[15] = 8 * (64 + 20);\n                this.imm_itershaw(outer, _shaw);\n                shau[0] ^= _shaw[0];\n                shau[1] ^= _shaw[1];\n                shau[2] ^= _shaw[2];\n                shau[3] ^= _shaw[3];\n                shau[4] ^= _shaw[4];\n                iter++;\n                // after 4096 loops, move to 2nd half of sha1\n                if ((iter & 4095) == 0) {\n                    for (k = 0; k < 5 && pos < 32; k++) {\n                        res[pos++] = (shau[k] >>> 24) & 0xff;\n                        res[pos++] = (shau[k] >>> 16) & 0xff;\n                        res[pos++] = (shau[k] >>> 8) & 0xff;\n                        res[pos++] = shau[k] & 0xff;\n                    }\n                    if (iter == 4096) {\n                        for (k = 0; k < 5; k++)\n                            shau[k] = 0;\n                        _shaw = new Uint32Array(80);\n                        this.imm_initshaw(ssid, 0, 2, 0, _shaw);\n                    }\n                }\n            }\n            let hex = '';\n            for (k = 0; k < 32; k++) {\n                hex += ('0' + Number(res[k]).toString(16)).slice(-2);\n            }\n            return hex;\n        });\n    }\n}\n// API symbols as static members\nYAPIContext.SUCCESS = 0;\nYAPIContext.NOT_INITIALIZED = -1;\nYAPIContext.INVALID_ARGUMENT = -2;\nYAPIContext.NOT_SUPPORTED = -3;\nYAPIContext.DEVICE_NOT_FOUND = -4;\nYAPIContext.VERSION_MISMATCH = -5;\nYAPIContext.DEVICE_BUSY = -6;\nYAPIContext.TIMEOUT = -7;\nYAPIContext.IO_ERROR = -8;\nYAPIContext.NO_MORE_DATA = -9;\nYAPIContext.EXHAUSTED = -10;\nYAPIContext.DOUBLE_ACCES = -11;\nYAPIContext.UNAUTHORIZED = -12;\nYAPIContext.RTC_NOT_READY = -13;\nYAPIContext.FILE_NOT_FOUND = -14;\nYAPIContext.SSL_ERROR = -15;\nexport var YAPI = new YAPIContext();\n", "/*********************************************************************\n *\n * $Id: yocto_api_html.ts 51289 2022-10-10 15:31:22Z mvuilleu $\n *\n * High-level programming interface, common to all modules\n *\n * - - - - - - - - - License information: - - - - - - - - -\n *\n *  Copyright (C) 2011 and beyond by Yoctopuce Sarl, Switzerland.\n *\n *  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n *  non-exclusive license to use, modify, copy and integrate http\n *  file into your software for the sole purpose of interfacing\n *  with Yoctopuce products.\n *\n *  You may reproduce and distribute copies of this file in\n *  source or object form, as long as the sole purpose of this\n *  code is to interface with Yoctopuce products. You must retain\n *  this notice in the distributed source file.\n *\n *  You should refer to Yoctopuce General Terms and Conditions\n *  for additional information regarding your rights and\n *  obligations.\n *\n *  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n *  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n *  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n *  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n *  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n *  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n *  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n *  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n *  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n *  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n *  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n *  WARRANTY, OR OTHERWISE.\n *\n *********************************************************************/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport * from \"./yocto_api.js\";\nimport { YHTTPRequest, YSystemEnv, YGenericHub, YWebSocketHub, YAPI, YAPI_SUCCESS } from \"./yocto_api.js\";\n/**\n * System environment definition, for use in a browser\n */\nexport class YSystemEnvHtml extends YSystemEnv {\n    constructor() {\n        super(...arguments);\n        this.isNodeJS = false;\n        this.hasSSDP = false;\n    }\n    hookUnhandledRejection(handler) {\n        window.addEventListener('onunhandledrejection', (event) => {\n            let promiseRejectionEvent = event;\n            handler(promiseRejectionEvent.reason, promiseRejectionEvent.promise);\n        });\n    }\n    getWebSocketHub(obj_yapi, urlInfo) {\n        return new YWebSocketHtmlHub(obj_yapi, urlInfo);\n    }\n    getHttpHub(obj_yapi, urlInfo) {\n        return new YHttpHtmlHub(obj_yapi, urlInfo);\n    }\n    getWebSocketCallbackHub(obj_yapi, urlInfo, ws) {\n        return obj_yapi._throw(YAPI.NOT_SUPPORTED, 'WebSocket Callback mode is not available in this environment', null);\n    }\n    getHttpCallbackHub(obj_yapi, urlInfo, incomingMessage, serverResponse) {\n        return obj_yapi._throw(YAPI.NOT_SUPPORTED, 'HTTP Callback mode is not available in this environment', null);\n    }\n    getSSDPManager(obj_yapi) {\n        return obj_yapi._throw(YAPI.NOT_SUPPORTED, 'Hub discovery is not available in this environment', null);\n    }\n    loadfile(file) {\n        return new Promise((resolve, reject) => {\n            let reader = new FileReader();\n            reader.onerror = function (evt) {\n                // @ts-ignore\n                reject(evt.target.error);\n            };\n            reader.onload = function (evt) {\n                // @ts-ignore\n                resolve(new Uint8Array(evt.target.result));\n            };\n            reader.readAsArrayBuffer(file);\n        });\n    }\n    downloadfile(url) {\n        return new Promise((resolve, reject) => {\n            let httpRequest = new XMLHttpRequest();\n            httpRequest.open('GET', url, true);\n            httpRequest.overrideMimeType('text/plain; charset=x-user-defined');\n            httpRequest.onreadystatechange = (() => {\n                if (httpRequest.readyState == 4) {\n                    if (httpRequest.status != 200 && httpRequest.status != 304) {\n                        if (httpRequest.status) {\n                            reject(new Error('HTTP error ' + httpRequest.status));\n                        }\n                        else {\n                            reject(new Error('Unable to complete HTTP request, network down?'));\n                        }\n                    }\n                    else {\n                        resolve(YAPI.imm_str2bin(httpRequest.responseText));\n                    }\n                }\n            });\n            httpRequest.send('');\n        });\n    }\n}\nconst _HtmlSystemEnv = new YSystemEnvHtml();\nYAPI.imm_setSystemEnv(_HtmlSystemEnv);\nclass YHttpHtmlHub extends YGenericHub {\n    constructor(yapi, urlInfo) {\n        super(yapi, urlInfo);\n        this.notbynRequest = null;\n        this.notbynOpenPromise = null;\n        this.notbynOpenTimeoutObj = null; /* actually a number | NodeJS.Timeout */\n        this.infoJson = null;\n        this.realm = '';\n        this.nonce = '';\n        this.nonceCount = 0;\n    }\n    // Initiate an XmlHttpRequest with proper authentication settings and mime type\n    // Handle header-based client authentication (to prevent browser pop-ups)\n    //\n    imm_sendXHR(xmlHttpRequest, method, uri, obj_body, readyStateChangeHandler, errorHandler) {\n        let body = '';\n        if (this.infoJson && this.infoJson.realm && this.infoJson.nonce) {\n            // Use X-YAuth JSON encoding\n            if (this.realm != this.infoJson.realm || this.nonce != this.infoJson.nonce) {\n                this.realm = this.infoJson.realm;\n                this.nonce = this.infoJson.nonce;\n                this.nonceCount = 0;\n            }\n            let shorturi = uri;\n            let parseURI = uri.match(/([A-Za-z]+:\\/\\/)([^\\/@]+@)?([^\\/]+)(\\/.*)/);\n            if (parseURI) {\n                uri = parseURI[1] + parseURI[3] + parseURI[4];\n                shorturi = parseURI[4];\n            }\n            let jsonBody = {\n                'x-yauth': {\n                    method: method,\n                    uri: shorturi\n                }\n            };\n            if (this.urlInfo.user || this.urlInfo.pass) {\n                let cnonce = Math.floor(Math.random() * 2147483647).toString(16).toLowerCase();\n                let nc = (++this.nonceCount).toString(16).toLowerCase();\n                let ha1_str = this.urlInfo.user + ':' + this.realm + ':' + this.urlInfo.pass;\n                let ha2_str = method + ':' + shorturi;\n                let A1 = this._yapi.imm_bin2hexstr(this._yapi.imm_yMD5(ha1_str)).toLowerCase();\n                let A2 = this._yapi.imm_bin2hexstr(this._yapi.imm_ySHA1(ha2_str)).toLowerCase();\n                let signature = A1 + ':' + this.nonce + ':' + nc + ':' + cnonce + ':auth:' + A2;\n                let response = this._yapi.imm_bin2hexstr(this._yapi.imm_ySHA1(signature)).toLowerCase();\n                jsonBody['x-yauth']['username'] = this.urlInfo.user;\n                jsonBody['x-yauth']['cnonce'] = cnonce;\n                jsonBody['x-yauth']['nonce'] = this.nonce;\n                jsonBody['x-yauth']['nc'] = nc;\n                jsonBody['x-yauth']['qop'] = 'auth';\n                jsonBody['x-yauth']['response'] = response;\n            }\n            if (obj_body) {\n                let binstr = this._yapi.imm_bin2str(obj_body.data);\n                jsonBody['body'] = {\n                    filename: obj_body.fname,\n                    b64content: btoa(binstr)\n                };\n            }\n            body = JSON.stringify(jsonBody);\n            // Remove GET parameters from the URL, as the server will use the x-yauth value\n            let qpos = uri.indexOf('?');\n            if (qpos > 0) {\n                uri = uri.slice(0, qpos);\n            }\n            // Send the request using text/plain POST, to avoid CORS checks\n            xmlHttpRequest.open('POST', uri, true, '', '');\n            xmlHttpRequest.setRequestHeader('Content-Type', 'text/plain; charset=x-user-defined');\n        }\n        else {\n            if (obj_body) {\n                let blob = new Blob([obj_body.data], { type: 'application/octet-binary' });\n                body = new FormData();\n                body.append(obj_body.fname, blob);\n            }\n            xmlHttpRequest.open(method, uri, true, '', '');\n        }\n        xmlHttpRequest.overrideMimeType('text/plain; charset=x-user-defined');\n        xmlHttpRequest.onreadystatechange = readyStateChangeHandler;\n        xmlHttpRequest.onerror = errorHandler;\n        xmlHttpRequest.send(body);\n    }\n    /** Handle HTTP-based event-monitoring work on a registered hub\n     *\n     * @param mstimeout {number}\n     * @param errmsg {YErrorMsg}\n     * @returns {number}\n     */\n    testHub(mstimeout, errmsg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this.disconnecting) {\n                if (errmsg) {\n                    errmsg.msg = \"I/O error\";\n                }\n                return YAPI.IO_ERROR;\n            }\n            if (!this.infoJson) {\n                if (!(yield new Promise((resolve, reject) => {\n                    // Try to download info.json first to check if x-yauth is available\n                    let xhr = new XMLHttpRequest();\n                    this.imm_sendXHR(xhr, 'GET', this.urlInfo.url + 'info.json', null, () => {\n                        if (xhr.readyState == 4) {\n                            if (xhr.status == 200) {\n                                this.infoJson = JSON.parse(xhr.responseText);\n                                resolve(true);\n                            }\n                            resolve(false);\n                        }\n                    }, () => { resolve(false); });\n                }))) {\n                    // could not download info.json\n                    this.infoJson = {};\n                }\n                if (this.infoJson.serialNumber) {\n                    // make sure we don't already have a hub with the same serial number\n                    let knownHubs = this._yapi._hubs;\n                    for (let i = 0; i < knownHubs.length; i++) {\n                        let hubSerials = knownHubs[i].serialByYdx;\n                        if (hubSerials && hubSerials[0] == this.infoJson.serialNumber) {\n                            if (errmsg) {\n                                errmsg.msg = \"Hub \" + this.infoJson.serialNumber + \" is already registered\";\n                            }\n                            return YAPI.INVALID_ARGUMENT;\n                        }\n                    }\n                }\n            }\n            let args = '?len=' + this.notiflen.toString();\n            if (this.notifPos > 0) {\n                args += '&abs=' + this.notifPos.toString();\n            }\n            else {\n                this._firstArrivalCallback = true;\n            }\n            if (!this.notbynOpenPromise) {\n                this.notbynOpenTimeout = (mstimeout ? this._yapi.GetTickCount() + mstimeout : null);\n                this.notbynOpenPromise = new Promise((resolve, reject) => {\n                    if (mstimeout) {\n                        this.notbynOpenTimeoutObj = setTimeout(() => {\n                            resolve({ errorType: YAPI.TIMEOUT, errorMsg: \"Timeout on HTTP connection\" });\n                            this.disconnect();\n                        }, mstimeout);\n                    }\n                    this.notbynTryOpen = () => {\n                        let xmlHttpRequest = new XMLHttpRequest();\n                        this.notbynRequest = xmlHttpRequest;\n                        this.imm_sendXHR(xmlHttpRequest, 'GET', this.urlInfo.url + 'not.byn' + args, null, () => {\n                            if (this.disconnecting) {\n                                return;\n                            }\n                            if (xmlHttpRequest.readyState >= 3) {\n                                let httpStatus = xmlHttpRequest.status >> 0;\n                                if (xmlHttpRequest.readyState == 4 && httpStatus != 200 && httpStatus != 304) {\n                                    // connection error\n                                    if (httpStatus == 401 || httpStatus == 204) {\n                                        // Authentication failure\n                                        resolve({ errorType: YAPI.UNAUTHORIZED, errorMsg: \"Unauthorized access\" });\n                                        return;\n                                    }\n                                    if (!this.imm_testHubAgainLater()) {\n                                        resolve({ errorType: YAPI.IO_ERROR, errorMsg: \"I/O error\" });\n                                        return;\n                                    }\n                                }\n                                else {\n                                    // receiving data properly\n                                    if (!this._hubAdded) {\n                                        // registration is now complete\n                                        if (this.notbynOpenTimeoutObj) {\n                                            clearTimeout(this.notbynOpenTimeoutObj);\n                                            this.notbynOpenTimeoutObj = null;\n                                        }\n                                        this.signalHubConnected().then(() => {\n                                            resolve({ errorType: YAPI_SUCCESS, errorMsg: \"\" });\n                                        });\n                                    }\n                                    if (xmlHttpRequest.readyState == 3) {\n                                        // when using reconnection mode, ignore state 3\n                                        if (this.notiflen == 1)\n                                            return;\n                                    }\n                                    let newlen = xmlHttpRequest.responseText.length;\n                                    if (newlen > this.currPos) {\n                                        this._yapi.parseEvents(this, xmlHttpRequest.responseText.slice(this.currPos, newlen));\n                                    }\n                                    // trigger immediately a new connection if closed in success\n                                    if (xmlHttpRequest.readyState == 4 && (xmlHttpRequest.status >> 0) != 0) {\n                                        this.notbynOpenPromise = null;\n                                        this.currPos = 0;\n                                        this.testHub(0, errmsg);\n                                    }\n                                }\n                            }\n                        }, () => {\n                            // connection aborted, need to reconnect ASAP\n                            if (!this.imm_testHubAgainLater()) {\n                                resolve({ errorType: YAPI.IO_ERROR, errorMsg: \"I/O error\" });\n                            }\n                        });\n                    };\n                    this.notbynTryOpen();\n                });\n            }\n            let res_struct = yield this.notbynOpenPromise;\n            if (errmsg) {\n                errmsg.msg = res_struct.errorMsg;\n            }\n            this.notbynOpenPromise = null;\n            return res_struct.errorType;\n        });\n    }\n    /** Perform an HTTP query on the hub\n     *\n     * @param method {string}\n     * @param devUrl {string}\n     * @param obj_body {YHTTPBody|null}\n     * @param tcpchan {number}\n     * @returns {YHTTPRequest}\n     */\n    request(method, devUrl, obj_body, tcpchan) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => {\n                let prefix = this.urlInfo.url.slice(0, -1);\n                let httpRequest = new XMLHttpRequest();\n                this.imm_sendXHR(httpRequest, method, prefix + devUrl, obj_body, () => {\n                    if (httpRequest.readyState == 4) {\n                        let httpStatus = httpRequest.status;\n                        let yreq = new YHTTPRequest(null);\n                        if (httpStatus != 200 && httpStatus != 304) {\n                            yreq.errorType = ((httpStatus == 401 || httpStatus == 204) ? YAPI.UNAUTHORIZED : YAPI.NOT_SUPPORTED);\n                            yreq.errorMsg = 'HTTP Error ' + httpRequest.status + ' on ' + prefix + devUrl;\n                        }\n                        else {\n                            yreq.bin_result = this._yapi.imm_str2bin(httpRequest.responseText);\n                        }\n                        resolve(yreq);\n                    }\n                }, () => {\n                    let yreq = new YHTTPRequest(null);\n                    yreq.errorType = YAPI.IO_ERROR;\n                    yreq.errorMsg = 'I/O Error on ' + prefix + devUrl;\n                    resolve(yreq);\n                });\n            });\n        });\n    }\n    disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.imm_commonDisconnect();\n            if (this.notbynRequest) {\n                this.notbynRequest.abort();\n            }\n        });\n    }\n}\nclass YWebSocketHtmlHub extends YWebSocketHub {\n    /** Open an outgoing websocket\n     *\n     * @param str_url {string}\n     **/\n    imm_webSocketOpen(str_url) {\n        let websock = new WebSocket(str_url);\n        websock.binaryType = 'arraybuffer';\n        this.websocket = websock;\n    }\n    /** Fills a buffer with random numbers\n     *\n     * @param arr {Uint8Array}\n     **/\n    imm_getRandomValues(arr) {\n        return window.crypto.getRandomValues(arr);\n    }\n}\n", "/*********************************************************************\n *\n *  $Id: yocto_network.ts 49385 2022-04-06 00:49:27Z mvuilleu $\n *\n *  Implements the high-level API for Network functions\n *\n *  - - - - - - - - - License information: - - - - - - - - -\n *\n *  Copyright (C) 2011 and beyond by Yoctopuce Sarl, Switzerland.\n *\n *  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n *  non-exclusive license to use, modify, copy and integrate this\n *  file into your software for the sole purpose of interfacing\n *  with Yoctopuce products.\n *\n *  You may reproduce and distribute copies of this file in\n *  source or object form, as long as the sole purpose of this\n *  code is to interface with Yoctopuce products. You must retain\n *  this notice in the distributed source file.\n *\n *  You should refer to Yoctopuce General Terms and Conditions\n *  for additional information regarding your rights and\n *  obligations.\n *\n *  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED 'AS IS' WITHOUT\n *  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n *  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n *  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n *  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n *  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n *  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n *  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n *  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n *  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n *  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n *  WARRANTY, OR OTHERWISE.\n *\n *********************************************************************/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { YAPI, YFunction } from './yocto_api.js';\n//--- (YNetwork class start)\n/**\n * YNetwork Class: network interface control interface, available for instance in the\n * YoctoHub-Ethernet, the YoctoHub-GSM-4G, the YoctoHub-Wireless-SR or the YoctoHub-Wireless-n\n *\n * YNetwork objects provide access to TCP/IP parameters of Yoctopuce\n * devices that include a built-in network interface.\n */\n//--- (end of YNetwork class start)\nexport class YNetwork extends YFunction {\n    //--- (end of YNetwork attributes declaration)\n    constructor(yapi, func) {\n        //--- (YNetwork constructor)\n        super(yapi, func);\n        this._readiness = YNetwork.READINESS_INVALID;\n        this._macAddress = YNetwork.MACADDRESS_INVALID;\n        this._ipAddress = YNetwork.IPADDRESS_INVALID;\n        this._subnetMask = YNetwork.SUBNETMASK_INVALID;\n        this._router = YNetwork.ROUTER_INVALID;\n        this._currentDNS = YNetwork.CURRENTDNS_INVALID;\n        this._ipConfig = YNetwork.IPCONFIG_INVALID;\n        this._primaryDNS = YNetwork.PRIMARYDNS_INVALID;\n        this._secondaryDNS = YNetwork.SECONDARYDNS_INVALID;\n        this._ntpServer = YNetwork.NTPSERVER_INVALID;\n        this._userPassword = YNetwork.USERPASSWORD_INVALID;\n        this._adminPassword = YNetwork.ADMINPASSWORD_INVALID;\n        this._httpPort = YNetwork.HTTPPORT_INVALID;\n        this._defaultPage = YNetwork.DEFAULTPAGE_INVALID;\n        this._discoverable = YNetwork.DISCOVERABLE_INVALID;\n        this._wwwWatchdogDelay = YNetwork.WWWWATCHDOGDELAY_INVALID;\n        this._callbackUrl = YNetwork.CALLBACKURL_INVALID;\n        this._callbackMethod = YNetwork.CALLBACKMETHOD_INVALID;\n        this._callbackEncoding = YNetwork.CALLBACKENCODING_INVALID;\n        this._callbackCredentials = YNetwork.CALLBACKCREDENTIALS_INVALID;\n        this._callbackInitialDelay = YNetwork.CALLBACKINITIALDELAY_INVALID;\n        this._callbackSchedule = YNetwork.CALLBACKSCHEDULE_INVALID;\n        this._callbackMinDelay = YNetwork.CALLBACKMINDELAY_INVALID;\n        this._callbackMaxDelay = YNetwork.CALLBACKMAXDELAY_INVALID;\n        this._poeCurrent = YNetwork.POECURRENT_INVALID;\n        this._valueCallbackNetwork = null;\n        // API symbols as object properties\n        this.READINESS_DOWN = 0;\n        this.READINESS_EXISTS = 1;\n        this.READINESS_LINKED = 2;\n        this.READINESS_LAN_OK = 3;\n        this.READINESS_WWW_OK = 4;\n        this.READINESS_INVALID = -1;\n        this.MACADDRESS_INVALID = YAPI.INVALID_STRING;\n        this.IPADDRESS_INVALID = YAPI.INVALID_STRING;\n        this.SUBNETMASK_INVALID = YAPI.INVALID_STRING;\n        this.ROUTER_INVALID = YAPI.INVALID_STRING;\n        this.CURRENTDNS_INVALID = YAPI.INVALID_STRING;\n        this.IPCONFIG_INVALID = YAPI.INVALID_STRING;\n        this.PRIMARYDNS_INVALID = YAPI.INVALID_STRING;\n        this.SECONDARYDNS_INVALID = YAPI.INVALID_STRING;\n        this.NTPSERVER_INVALID = YAPI.INVALID_STRING;\n        this.USERPASSWORD_INVALID = YAPI.INVALID_STRING;\n        this.ADMINPASSWORD_INVALID = YAPI.INVALID_STRING;\n        this.HTTPPORT_INVALID = YAPI.INVALID_UINT;\n        this.DEFAULTPAGE_INVALID = YAPI.INVALID_STRING;\n        this.DISCOVERABLE_FALSE = 0;\n        this.DISCOVERABLE_TRUE = 1;\n        this.DISCOVERABLE_INVALID = -1;\n        this.WWWWATCHDOGDELAY_INVALID = YAPI.INVALID_UINT;\n        this.CALLBACKURL_INVALID = YAPI.INVALID_STRING;\n        this.CALLBACKMETHOD_POST = 0;\n        this.CALLBACKMETHOD_GET = 1;\n        this.CALLBACKMETHOD_PUT = 2;\n        this.CALLBACKMETHOD_INVALID = -1;\n        this.CALLBACKENCODING_FORM = 0;\n        this.CALLBACKENCODING_JSON = 1;\n        this.CALLBACKENCODING_JSON_ARRAY = 2;\n        this.CALLBACKENCODING_CSV = 3;\n        this.CALLBACKENCODING_YOCTO_API = 4;\n        this.CALLBACKENCODING_JSON_NUM = 5;\n        this.CALLBACKENCODING_EMONCMS = 6;\n        this.CALLBACKENCODING_AZURE = 7;\n        this.CALLBACKENCODING_INFLUXDB = 8;\n        this.CALLBACKENCODING_MQTT = 9;\n        this.CALLBACKENCODING_YOCTO_API_JZON = 10;\n        this.CALLBACKENCODING_PRTG = 11;\n        this.CALLBACKENCODING_INFLUXDB_V2 = 12;\n        this.CALLBACKENCODING_INVALID = -1;\n        this.CALLBACKCREDENTIALS_INVALID = YAPI.INVALID_STRING;\n        this.CALLBACKINITIALDELAY_INVALID = YAPI.INVALID_UINT;\n        this.CALLBACKSCHEDULE_INVALID = YAPI.INVALID_STRING;\n        this.CALLBACKMINDELAY_INVALID = YAPI.INVALID_UINT;\n        this.CALLBACKMAXDELAY_INVALID = YAPI.INVALID_UINT;\n        this.POECURRENT_INVALID = YAPI.INVALID_UINT;\n        this._className = 'Network';\n        //--- (end of YNetwork constructor)\n    }\n    //--- (YNetwork implementation)\n    imm_parseAttr(name, val) {\n        switch (name) {\n            case 'readiness':\n                this._readiness = val;\n                return 1;\n            case 'macAddress':\n                this._macAddress = val;\n                return 1;\n            case 'ipAddress':\n                this._ipAddress = val;\n                return 1;\n            case 'subnetMask':\n                this._subnetMask = val;\n                return 1;\n            case 'router':\n                this._router = val;\n                return 1;\n            case 'currentDNS':\n                this._currentDNS = val;\n                return 1;\n            case 'ipConfig':\n                this._ipConfig = val;\n                return 1;\n            case 'primaryDNS':\n                this._primaryDNS = val;\n                return 1;\n            case 'secondaryDNS':\n                this._secondaryDNS = val;\n                return 1;\n            case 'ntpServer':\n                this._ntpServer = val;\n                return 1;\n            case 'userPassword':\n                this._userPassword = val;\n                return 1;\n            case 'adminPassword':\n                this._adminPassword = val;\n                return 1;\n            case 'httpPort':\n                this._httpPort = val;\n                return 1;\n            case 'defaultPage':\n                this._defaultPage = val;\n                return 1;\n            case 'discoverable':\n                this._discoverable = val;\n                return 1;\n            case 'wwwWatchdogDelay':\n                this._wwwWatchdogDelay = val;\n                return 1;\n            case 'callbackUrl':\n                this._callbackUrl = val;\n                return 1;\n            case 'callbackMethod':\n                this._callbackMethod = val;\n                return 1;\n            case 'callbackEncoding':\n                this._callbackEncoding = val;\n                return 1;\n            case 'callbackCredentials':\n                this._callbackCredentials = val;\n                return 1;\n            case 'callbackInitialDelay':\n                this._callbackInitialDelay = val;\n                return 1;\n            case 'callbackSchedule':\n                this._callbackSchedule = val;\n                return 1;\n            case 'callbackMinDelay':\n                this._callbackMinDelay = val;\n                return 1;\n            case 'callbackMaxDelay':\n                this._callbackMaxDelay = val;\n                return 1;\n            case 'poeCurrent':\n                this._poeCurrent = val;\n                return 1;\n        }\n        return super.imm_parseAttr(name, val);\n    }\n    /**\n     * Returns the current established working mode of the network interface.\n     * Level zero (DOWN_0) means that no hardware link has been detected. Either there is no signal\n     * on the network cable, or the selected wireless access point cannot be detected.\n     * Level 1 (LIVE_1) is reached when the network is detected, but is not yet connected.\n     * For a wireless network, this shows that the requested SSID is present.\n     * Level 2 (LINK_2) is reached when the hardware connection is established.\n     * For a wired network connection, level 2 means that the cable is attached at both ends.\n     * For a connection to a wireless access point, it shows that the security parameters\n     * are properly configured. For an ad-hoc wireless connection, it means that there is\n     * at least one other device connected on the ad-hoc network.\n     * Level 3 (DHCP_3) is reached when an IP address has been obtained using DHCP.\n     * Level 4 (DNS_4) is reached when the DNS server is reachable on the network.\n     * Level 5 (WWW_5) is reached when global connectivity is demonstrated by properly loading the\n     * current time from an NTP server.\n     *\n     * @return a value among YNetwork.READINESS_DOWN, YNetwork.READINESS_EXISTS,\n     * YNetwork.READINESS_LINKED, YNetwork.READINESS_LAN_OK and YNetwork.READINESS_WWW_OK corresponding to\n     * the current established working mode of the network interface\n     *\n     * On failure, throws an exception or returns YNetwork.READINESS_INVALID.\n     */\n    get_readiness() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.READINESS_INVALID;\n                }\n            }\n            res = this._readiness;\n            return res;\n        });\n    }\n    /**\n     * Returns the MAC address of the network interface. The MAC address is also available on a sticker\n     * on the module, in both numeric and barcode forms.\n     *\n     * @return a string corresponding to the MAC address of the network interface\n     *\n     * On failure, throws an exception or returns YNetwork.MACADDRESS_INVALID.\n     */\n    get_macAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration == 0) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.MACADDRESS_INVALID;\n                }\n            }\n            res = this._macAddress;\n            return res;\n        });\n    }\n    /**\n     * Returns the IP address currently in use by the device. The address may have been configured\n     * statically, or provided by a DHCP server.\n     *\n     * @return a string corresponding to the IP address currently in use by the device\n     *\n     * On failure, throws an exception or returns YNetwork.IPADDRESS_INVALID.\n     */\n    get_ipAddress() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.IPADDRESS_INVALID;\n                }\n            }\n            res = this._ipAddress;\n            return res;\n        });\n    }\n    /**\n     * Returns the subnet mask currently used by the device.\n     *\n     * @return a string corresponding to the subnet mask currently used by the device\n     *\n     * On failure, throws an exception or returns YNetwork.SUBNETMASK_INVALID.\n     */\n    get_subnetMask() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.SUBNETMASK_INVALID;\n                }\n            }\n            res = this._subnetMask;\n            return res;\n        });\n    }\n    /**\n     * Returns the IP address of the router on the device subnet (default gateway).\n     *\n     * @return a string corresponding to the IP address of the router on the device subnet (default gateway)\n     *\n     * On failure, throws an exception or returns YNetwork.ROUTER_INVALID.\n     */\n    get_router() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.ROUTER_INVALID;\n                }\n            }\n            res = this._router;\n            return res;\n        });\n    }\n    /**\n     * Returns the IP address of the DNS server currently used by the device.\n     *\n     * @return a string corresponding to the IP address of the DNS server currently used by the device\n     *\n     * On failure, throws an exception or returns YNetwork.CURRENTDNS_INVALID.\n     */\n    get_currentDNS() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CURRENTDNS_INVALID;\n                }\n            }\n            res = this._currentDNS;\n            return res;\n        });\n    }\n    /**\n     * Returns the IP configuration of the network interface.\n     *\n     * If the network interface is setup to use a static IP address, the string starts with \"STATIC:\" and\n     * is followed by three\n     * parameters, separated by \"/\". The first is the device IP address, followed by the subnet mask\n     * length, and finally the\n     * router IP address (default gateway). For instance: \"STATIC:192.168.1.14/16/192.168.1.1\"\n     *\n     * If the network interface is configured to receive its IP from a DHCP server, the string start with\n     * \"DHCP:\" and is followed by\n     * three parameters separated by \"/\". The first is the fallback IP address, then the fallback subnet\n     * mask length and finally the\n     * fallback router IP address. These three parameters are used when no DHCP reply is received.\n     *\n     * @return a string corresponding to the IP configuration of the network interface\n     *\n     * On failure, throws an exception or returns YNetwork.IPCONFIG_INVALID.\n     */\n    get_ipConfig() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.IPCONFIG_INVALID;\n                }\n            }\n            res = this._ipConfig;\n            return res;\n        });\n    }\n    set_ipConfig(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('ipConfig', rest_val);\n        });\n    }\n    /**\n     * Returns the IP address of the primary name server to be used by the module.\n     *\n     * @return a string corresponding to the IP address of the primary name server to be used by the module\n     *\n     * On failure, throws an exception or returns YNetwork.PRIMARYDNS_INVALID.\n     */\n    get_primaryDNS() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.PRIMARYDNS_INVALID;\n                }\n            }\n            res = this._primaryDNS;\n            return res;\n        });\n    }\n    /**\n     * Changes the IP address of the primary name server to be used by the module.\n     * When using DHCP, if a value is specified, it overrides the value received from the DHCP server.\n     * Remember to call the saveToFlash() method and then to reboot the module to apply this setting.\n     *\n     * @param newval : a string corresponding to the IP address of the primary name server to be used by the module\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_primaryDNS(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('primaryDNS', rest_val);\n        });\n    }\n    /**\n     * Returns the IP address of the secondary name server to be used by the module.\n     *\n     * @return a string corresponding to the IP address of the secondary name server to be used by the module\n     *\n     * On failure, throws an exception or returns YNetwork.SECONDARYDNS_INVALID.\n     */\n    get_secondaryDNS() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.SECONDARYDNS_INVALID;\n                }\n            }\n            res = this._secondaryDNS;\n            return res;\n        });\n    }\n    /**\n     * Changes the IP address of the secondary name server to be used by the module.\n     * When using DHCP, if a value is specified, it overrides the value received from the DHCP server.\n     * Remember to call the saveToFlash() method and then to reboot the module to apply this setting.\n     *\n     * @param newval : a string corresponding to the IP address of the secondary name server to be used by the module\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_secondaryDNS(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('secondaryDNS', rest_val);\n        });\n    }\n    /**\n     * Returns the IP address of the NTP server to be used by the device.\n     *\n     * @return a string corresponding to the IP address of the NTP server to be used by the device\n     *\n     * On failure, throws an exception or returns YNetwork.NTPSERVER_INVALID.\n     */\n    get_ntpServer() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.NTPSERVER_INVALID;\n                }\n            }\n            res = this._ntpServer;\n            return res;\n        });\n    }\n    /**\n     * Changes the IP address of the NTP server to be used by the module. Use an empty\n     * string to restore the factory set  address.\n     * Remember to call the saveToFlash() method and then to reboot the module to apply this setting.\n     *\n     * @param newval : a string corresponding to the IP address of the NTP server to be used by the module\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_ntpServer(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('ntpServer', rest_val);\n        });\n    }\n    /**\n     * Returns a hash string if a password has been set for \"user\" user,\n     * or an empty string otherwise.\n     *\n     * @return a string corresponding to a hash string if a password has been set for \"user\" user,\n     *         or an empty string otherwise\n     *\n     * On failure, throws an exception or returns YNetwork.USERPASSWORD_INVALID.\n     */\n    get_userPassword() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.USERPASSWORD_INVALID;\n                }\n            }\n            res = this._userPassword;\n            return res;\n        });\n    }\n    /**\n     * Changes the password for the \"user\" user. This password becomes instantly required\n     * to perform any use of the module. If the specified value is an\n     * empty string, a password is not required anymore.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : a string corresponding to the password for the \"user\" user\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_userPassword(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            if (newval.length > YAPI.HASH_BUF_SIZE) {\n                return this._throw(YAPI.INVALID_ARGUMENT, 'Password too long :' + newval, YAPI.INVALID_ARGUMENT);\n            }\n            rest_val = String(newval);\n            return yield this._setAttr('userPassword', rest_val);\n        });\n    }\n    /**\n     * Returns a hash string if a password has been set for user \"admin\",\n     * or an empty string otherwise.\n     *\n     * @return a string corresponding to a hash string if a password has been set for user \"admin\",\n     *         or an empty string otherwise\n     *\n     * On failure, throws an exception or returns YNetwork.ADMINPASSWORD_INVALID.\n     */\n    get_adminPassword() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.ADMINPASSWORD_INVALID;\n                }\n            }\n            res = this._adminPassword;\n            return res;\n        });\n    }\n    /**\n     * Changes the password for the \"admin\" user. This password becomes instantly required\n     * to perform any change of the module state. If the specified value is an\n     * empty string, a password is not required anymore.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : a string corresponding to the password for the \"admin\" user\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_adminPassword(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            if (newval.length > YAPI.HASH_BUF_SIZE) {\n                return this._throw(YAPI.INVALID_ARGUMENT, 'Password too long :' + newval, YAPI.INVALID_ARGUMENT);\n            }\n            rest_val = String(newval);\n            return yield this._setAttr('adminPassword', rest_val);\n        });\n    }\n    /**\n     * Returns the TCP port used to serve the hub web UI.\n     *\n     * @return an integer corresponding to the TCP port used to serve the hub web UI\n     *\n     * On failure, throws an exception or returns YNetwork.HTTPPORT_INVALID.\n     */\n    get_httpPort() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.HTTPPORT_INVALID;\n                }\n            }\n            res = this._httpPort;\n            return res;\n        });\n    }\n    /**\n     * Changes the the TCP port used to serve the hub web UI. The default value is port 80,\n     * which is the default for all Web servers. Regardless of the value set here,\n     * the hub will always reply on port 4444, which is used by default by Yoctopuce\n     * API library. When you change this parameter, remember to call the saveToFlash()\n     * method of the module if the modification must be kept.\n     *\n     * @param newval : an integer corresponding to the the TCP port used to serve the hub web UI\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_httpPort(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('httpPort', rest_val);\n        });\n    }\n    /**\n     * Returns the HTML page to serve for the URL \"/\"\" of the hub.\n     *\n     * @return a string corresponding to the HTML page to serve for the URL \"/\"\" of the hub\n     *\n     * On failure, throws an exception or returns YNetwork.DEFAULTPAGE_INVALID.\n     */\n    get_defaultPage() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.DEFAULTPAGE_INVALID;\n                }\n            }\n            res = this._defaultPage;\n            return res;\n        });\n    }\n    /**\n     * Changes the default HTML page returned by the hub. If not value are set the hub return\n     * \"index.html\" which is the web interface of the hub. It is possible to change this page\n     * for file that has been uploaded on the hub. The maximum filename size is 15 characters.\n     * When you change this parameter, remember to call the saveToFlash()\n     * method of the module if the modification must be kept.\n     *\n     * @param newval : a string corresponding to the default HTML page returned by the hub\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_defaultPage(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('defaultPage', rest_val);\n        });\n    }\n    /**\n     * Returns the activation state of the multicast announce protocols to allow easy\n     * discovery of the module in the network neighborhood (uPnP/Bonjour protocol).\n     *\n     * @return either YNetwork.DISCOVERABLE_FALSE or YNetwork.DISCOVERABLE_TRUE, according to the\n     * activation state of the multicast announce protocols to allow easy\n     *         discovery of the module in the network neighborhood (uPnP/Bonjour protocol)\n     *\n     * On failure, throws an exception or returns YNetwork.DISCOVERABLE_INVALID.\n     */\n    get_discoverable() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.DISCOVERABLE_INVALID;\n                }\n            }\n            res = this._discoverable;\n            return res;\n        });\n    }\n    /**\n     * Changes the activation state of the multicast announce protocols to allow easy\n     * discovery of the module in the network neighborhood (uPnP/Bonjour protocol).\n     * Remember to call the saveToFlash()\n     * method of the module if the modification must be kept.\n     *\n     * @param newval : either YNetwork.DISCOVERABLE_FALSE or YNetwork.DISCOVERABLE_TRUE, according to the\n     * activation state of the multicast announce protocols to allow easy\n     *         discovery of the module in the network neighborhood (uPnP/Bonjour protocol)\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_discoverable(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('discoverable', rest_val);\n        });\n    }\n    /**\n     * Returns the allowed downtime of the WWW link (in seconds) before triggering an automated\n     * reboot to try to recover Internet connectivity. A zero value disables automated reboot\n     * in case of Internet connectivity loss.\n     *\n     * @return an integer corresponding to the allowed downtime of the WWW link (in seconds) before\n     * triggering an automated\n     *         reboot to try to recover Internet connectivity\n     *\n     * On failure, throws an exception or returns YNetwork.WWWWATCHDOGDELAY_INVALID.\n     */\n    get_wwwWatchdogDelay() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.WWWWATCHDOGDELAY_INVALID;\n                }\n            }\n            res = this._wwwWatchdogDelay;\n            return res;\n        });\n    }\n    /**\n     * Changes the allowed downtime of the WWW link (in seconds) before triggering an automated\n     * reboot to try to recover Internet connectivity. A zero value disables automated reboot\n     * in case of Internet connectivity loss. The smallest valid non-zero timeout is\n     * 90 seconds. Remember to call the saveToFlash()\n     * method of the module if the modification must be kept.\n     *\n     * @param newval : an integer corresponding to the allowed downtime of the WWW link (in seconds)\n     * before triggering an automated\n     *         reboot to try to recover Internet connectivity\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_wwwWatchdogDelay(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('wwwWatchdogDelay', rest_val);\n        });\n    }\n    /**\n     * Returns the callback URL to notify of significant state changes.\n     *\n     * @return a string corresponding to the callback URL to notify of significant state changes\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKURL_INVALID.\n     */\n    get_callbackUrl() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKURL_INVALID;\n                }\n            }\n            res = this._callbackUrl;\n            return res;\n        });\n    }\n    /**\n     * Changes the callback URL to notify significant state changes. Remember to call the\n     * saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : a string corresponding to the callback URL to notify significant state changes\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackUrl(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackUrl', rest_val);\n        });\n    }\n    /**\n     * Returns the HTTP method used to notify callbacks for significant state changes.\n     *\n     * @return a value among YNetwork.CALLBACKMETHOD_POST, YNetwork.CALLBACKMETHOD_GET and\n     * YNetwork.CALLBACKMETHOD_PUT corresponding to the HTTP method used to notify callbacks for\n     * significant state changes\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKMETHOD_INVALID.\n     */\n    get_callbackMethod() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKMETHOD_INVALID;\n                }\n            }\n            res = this._callbackMethod;\n            return res;\n        });\n    }\n    /**\n     * Changes the HTTP method used to notify callbacks for significant state changes.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : a value among YNetwork.CALLBACKMETHOD_POST, YNetwork.CALLBACKMETHOD_GET and\n     * YNetwork.CALLBACKMETHOD_PUT corresponding to the HTTP method used to notify callbacks for\n     * significant state changes\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackMethod(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackMethod', rest_val);\n        });\n    }\n    /**\n     * Returns the encoding standard to use for representing notification values.\n     *\n     * @return a value among YNetwork.CALLBACKENCODING_FORM, YNetwork.CALLBACKENCODING_JSON,\n     * YNetwork.CALLBACKENCODING_JSON_ARRAY, YNetwork.CALLBACKENCODING_CSV,\n     * YNetwork.CALLBACKENCODING_YOCTO_API, YNetwork.CALLBACKENCODING_JSON_NUM,\n     * YNetwork.CALLBACKENCODING_EMONCMS, YNetwork.CALLBACKENCODING_AZURE,\n     * YNetwork.CALLBACKENCODING_INFLUXDB, YNetwork.CALLBACKENCODING_MQTT,\n     * YNetwork.CALLBACKENCODING_YOCTO_API_JZON, YNetwork.CALLBACKENCODING_PRTG and\n     * YNetwork.CALLBACKENCODING_INFLUXDB_V2 corresponding to the encoding standard to use for\n     * representing notification values\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKENCODING_INVALID.\n     */\n    get_callbackEncoding() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKENCODING_INVALID;\n                }\n            }\n            res = this._callbackEncoding;\n            return res;\n        });\n    }\n    /**\n     * Changes the encoding standard to use for representing notification values.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : a value among YNetwork.CALLBACKENCODING_FORM, YNetwork.CALLBACKENCODING_JSON,\n     * YNetwork.CALLBACKENCODING_JSON_ARRAY, YNetwork.CALLBACKENCODING_CSV,\n     * YNetwork.CALLBACKENCODING_YOCTO_API, YNetwork.CALLBACKENCODING_JSON_NUM,\n     * YNetwork.CALLBACKENCODING_EMONCMS, YNetwork.CALLBACKENCODING_AZURE,\n     * YNetwork.CALLBACKENCODING_INFLUXDB, YNetwork.CALLBACKENCODING_MQTT,\n     * YNetwork.CALLBACKENCODING_YOCTO_API_JZON, YNetwork.CALLBACKENCODING_PRTG and\n     * YNetwork.CALLBACKENCODING_INFLUXDB_V2 corresponding to the encoding standard to use for\n     * representing notification values\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackEncoding(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackEncoding', rest_val);\n        });\n    }\n    /**\n     * Returns a hashed version of the notification callback credentials if set,\n     * or an empty string otherwise.\n     *\n     * @return a string corresponding to a hashed version of the notification callback credentials if set,\n     *         or an empty string otherwise\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKCREDENTIALS_INVALID.\n     */\n    get_callbackCredentials() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKCREDENTIALS_INVALID;\n                }\n            }\n            res = this._callbackCredentials;\n            return res;\n        });\n    }\n    /**\n     * Changes the credentials required to connect to the callback address. The credentials\n     * must be provided as returned by function get_callbackCredentials,\n     * in the form username:hash. The method used to compute the hash varies according\n     * to the the authentication scheme implemented by the callback, For Basic authentication,\n     * the hash is the MD5 of the string username:password. For Digest authentication,\n     * the hash is the MD5 of the string username:realm:password. For a simpler\n     * way to configure callback credentials, use function callbackLogin instead.\n     * Remember to call the saveToFlash() method of the module if the\n     * modification must be kept.\n     *\n     * @param newval : a string corresponding to the credentials required to connect to the callback address\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackCredentials(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackCredentials', rest_val);\n        });\n    }\n    /**\n     * Connects to the notification callback and saves the credentials required to\n     * log into it. The password is not stored into the module, only a hashed\n     * copy of the credentials are saved. Remember to call the\n     * saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param username : username required to log to the callback\n     * @param password : password required to log to the callback\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    callbackLogin(username, password) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = username + ':' + password;\n            return yield this._setAttr('callbackCredentials', rest_val);\n        });\n    }\n    /**\n     * Returns the initial waiting time before first callback notifications, in seconds.\n     *\n     * @return an integer corresponding to the initial waiting time before first callback notifications, in seconds\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKINITIALDELAY_INVALID.\n     */\n    get_callbackInitialDelay() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKINITIALDELAY_INVALID;\n                }\n            }\n            res = this._callbackInitialDelay;\n            return res;\n        });\n    }\n    /**\n     * Changes the initial waiting time before first callback notifications, in seconds.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : an integer corresponding to the initial waiting time before first callback\n     * notifications, in seconds\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackInitialDelay(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackInitialDelay', rest_val);\n        });\n    }\n    /**\n     * Returns the HTTP callback schedule strategy, as a text string.\n     *\n     * @return a string corresponding to the HTTP callback schedule strategy, as a text string\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKSCHEDULE_INVALID.\n     */\n    get_callbackSchedule() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKSCHEDULE_INVALID;\n                }\n            }\n            res = this._callbackSchedule;\n            return res;\n        });\n    }\n    /**\n     * Changes the HTTP callback schedule strategy, as a text string.\n     * Remember to call the saveToFlash()\n     * method of the module if the modification must be kept.\n     *\n     * @param newval : a string corresponding to the HTTP callback schedule strategy, as a text string\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackSchedule(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackSchedule', rest_val);\n        });\n    }\n    /**\n     * Returns the minimum waiting time between two HTTP callbacks, in seconds.\n     *\n     * @return an integer corresponding to the minimum waiting time between two HTTP callbacks, in seconds\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKMINDELAY_INVALID.\n     */\n    get_callbackMinDelay() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKMINDELAY_INVALID;\n                }\n            }\n            res = this._callbackMinDelay;\n            return res;\n        });\n    }\n    /**\n     * Changes the minimum waiting time between two HTTP callbacks, in seconds.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : an integer corresponding to the minimum waiting time between two HTTP callbacks, in seconds\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackMinDelay(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackMinDelay', rest_val);\n        });\n    }\n    /**\n     * Returns the waiting time between two HTTP callbacks when there is nothing new.\n     *\n     * @return an integer corresponding to the waiting time between two HTTP callbacks when there is nothing new\n     *\n     * On failure, throws an exception or returns YNetwork.CALLBACKMAXDELAY_INVALID.\n     */\n    get_callbackMaxDelay() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.CALLBACKMAXDELAY_INVALID;\n                }\n            }\n            res = this._callbackMaxDelay;\n            return res;\n        });\n    }\n    /**\n     * Changes the waiting time between two HTTP callbacks when there is nothing new.\n     * Remember to call the saveToFlash() method of the module if the modification must be kept.\n     *\n     * @param newval : an integer corresponding to the waiting time between two HTTP callbacks when there\n     * is nothing new\n     *\n     * @return YAPI.SUCCESS if the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_callbackMaxDelay(newval) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let rest_val;\n            rest_val = String(newval);\n            return yield this._setAttr('callbackMaxDelay', rest_val);\n        });\n    }\n    /**\n     * Returns the current consumed by the module from Power-over-Ethernet (PoE), in milliamps.\n     * The current consumption is measured after converting PoE source to 5 Volt, and should\n     * never exceed 1800 mA.\n     *\n     * @return an integer corresponding to the current consumed by the module from Power-over-Ethernet\n     * (PoE), in milliamps\n     *\n     * On failure, throws an exception or returns YNetwork.POECURRENT_INVALID.\n     */\n    get_poeCurrent() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let res;\n            if (this._cacheExpiration <= this._yapi.GetTickCount()) {\n                if ((yield this.load(this._yapi.defaultCacheValidity)) != this._yapi.SUCCESS) {\n                    return YNetwork.POECURRENT_INVALID;\n                }\n            }\n            res = this._poeCurrent;\n            return res;\n        });\n    }\n    /**\n     * Retrieves a network interface for a given identifier.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the network interface is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YNetwork.isOnline() to test if the network interface is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a network interface by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * If a call to this object's is_online() method returns FALSE although\n     * you are certain that the matching device is plugged, make sure that you did\n     * call registerHub() at application initialization time.\n     *\n     * @param func : a string that uniquely characterizes the network interface, for instance\n     *         YHUBETH1.network.\n     *\n     * @return a YNetwork object allowing you to drive the network interface.\n     */\n    static FindNetwork(func) {\n        let obj;\n        obj = YFunction._FindFromCache('Network', func);\n        if (obj == null) {\n            obj = new YNetwork(YAPI, func);\n            YFunction._AddToCache('Network', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Retrieves a network interface for a given identifier in a YAPI context.\n     * The identifier can be specified using several formats:\n     * <ul>\n     * <li>FunctionLogicalName</li>\n     * <li>ModuleSerialNumber.FunctionIdentifier</li>\n     * <li>ModuleSerialNumber.FunctionLogicalName</li>\n     * <li>ModuleLogicalName.FunctionIdentifier</li>\n     * <li>ModuleLogicalName.FunctionLogicalName</li>\n     * </ul>\n     *\n     * This function does not require that the network interface is online at the time\n     * it is invoked. The returned object is nevertheless valid.\n     * Use the method YNetwork.isOnline() to test if the network interface is\n     * indeed online at a given time. In case of ambiguity when looking for\n     * a network interface by logical name, no error is notified: the first instance\n     * found is returned. The search is performed first by hardware name,\n     * then by logical name.\n     *\n     * @param yctx : a YAPI context\n     * @param func : a string that uniquely characterizes the network interface, for instance\n     *         YHUBETH1.network.\n     *\n     * @return a YNetwork object allowing you to drive the network interface.\n     */\n    static FindNetworkInContext(yctx, func) {\n        let obj;\n        obj = YFunction._FindFromCacheInContext(yctx, 'Network', func);\n        if (obj == null) {\n            obj = new YNetwork(yctx, func);\n            YFunction._AddToCache('Network', func, obj);\n        }\n        return obj;\n    }\n    /**\n     * Registers the callback function that is invoked on every change of advertised value.\n     * The callback is invoked only during the execution of ySleep or yHandleEvents.\n     * This provides control over the time when the callback is triggered. For good responsiveness, remember to call\n     * one of these two functions periodically. To unregister a callback, pass a null pointer as argument.\n     *\n     * @param callback : the callback function to call, or a null pointer. The callback function should take two\n     *         arguments: the function object of which the value has changed, and the character string describing\n     *         the new advertised value.\n     * @noreturn\n     */\n    registerValueCallback(callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let val;\n            if (callback != null) {\n                yield YFunction._UpdateValueCallbackList(this, true);\n            }\n            else {\n                yield YFunction._UpdateValueCallbackList(this, false);\n            }\n            this._valueCallbackNetwork = callback;\n            // Immediately invoke value callback with current value\n            if (callback != null && (yield this.isOnline())) {\n                val = this._advertisedValue;\n                if (!(val == '')) {\n                    yield this._invokeValueCallback(val);\n                }\n            }\n            return 0;\n        });\n    }\n    _invokeValueCallback(value) {\n        const _super = Object.create(null, {\n            _invokeValueCallback: { get: () => super._invokeValueCallback }\n        });\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._valueCallbackNetwork != null) {\n                try {\n                    yield this._valueCallbackNetwork(this, value);\n                }\n                catch (e) {\n                    this._yapi.imm_log('Exception in valueCallback:', e);\n                }\n            }\n            else {\n                _super._invokeValueCallback.call(this, value);\n            }\n            return 0;\n        });\n    }\n    /**\n     * Changes the configuration of the network interface to enable the use of an\n     * IP address received from a DHCP server. Until an address is received from a DHCP\n     * server, the module uses the IP parameters specified to this function.\n     * Remember to call the saveToFlash() method and then to reboot the module to apply this setting.\n     *\n     * @param fallbackIpAddr : fallback IP address, to be used when no DHCP reply is received\n     * @param fallbackSubnetMaskLen : fallback subnet mask length when no DHCP reply is received, as an\n     *         integer (e.g. 24 means 255.255.255.0)\n     * @param fallbackRouter : fallback router IP address, to be used when no DHCP reply is received\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    useDHCP(fallbackIpAddr, fallbackSubnetMaskLen, fallbackRouter) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_ipConfig('DHCP:' + fallbackIpAddr + '/' + String(Math.round(fallbackSubnetMaskLen)) + '/' + fallbackRouter);\n        });\n    }\n    /**\n     * Changes the configuration of the network interface to enable the use of an\n     * IP address received from a DHCP server. Until an address is received from a DHCP\n     * server, the module uses an IP of the network 169.254.0.0/16 (APIPA).\n     * Remember to call the saveToFlash() method and then to reboot the module to apply this setting.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    useDHCPauto() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_ipConfig('DHCP:');\n        });\n    }\n    /**\n     * Changes the configuration of the network interface to use a static IP address.\n     * Remember to call the saveToFlash() method and then to reboot the module to apply this setting.\n     *\n     * @param ipAddress : device IP address\n     * @param subnetMaskLen : subnet mask length, as an integer (e.g. 24 means 255.255.255.0)\n     * @param router : router IP address (default gateway)\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    useStaticIP(ipAddress, subnetMaskLen, router) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_ipConfig('STATIC:' + ipAddress + '/' + String(Math.round(subnetMaskLen)) + '/' + router);\n        });\n    }\n    /**\n     * Pings host to test the network connectivity. Sends four ICMP ECHO_REQUEST requests from the\n     * module to the target host. This method returns a string with the result of the\n     * 4 ICMP ECHO_REQUEST requests.\n     *\n     * @param host : the hostname or the IP address of the target\n     *\n     * @return a string with the result of the ping.\n     */\n    ping(host) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let content;\n            content = yield this._download('ping.txt?host=' + host);\n            return this._yapi.imm_bin2str(content);\n        });\n    }\n    /**\n     * Trigger an HTTP callback quickly. This function can even be called within\n     * an HTTP callback, in which case the next callback will be triggered 5 seconds\n     * after the end of the current callback, regardless if the minimum time between\n     * callbacks configured in the device.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    triggerCallback() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_callbackMethod(yield this.get_callbackMethod());\n        });\n    }\n    /**\n     * Setup periodic HTTP callbacks (simplified function).\n     *\n     * @param interval : a string representing the callback periodicity, expressed in\n     *         seconds, minutes or hours, eg. \"60s\", \"5m\", \"1h\", \"48h\".\n     * @param offset : an integer representing the time offset relative to the period\n     *         when the callback should occur. For instance, if the periodicity is\n     *         24h, an offset of 7 will make the callback occur each day at 7AM.\n     *\n     * @return YAPI.SUCCESS when the call succeeds.\n     *\n     * On failure, throws an exception or returns a negative error code.\n     */\n    set_periodicCallbackSchedule(interval, offset) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield this.set_callbackSchedule('every ' + interval + '+' + String(Math.round(offset)));\n        });\n    }\n    /**\n     * Continues the enumeration of network interfaces started using yFirstNetwork().\n     * Caution: You can't make any assumption about the returned network interfaces order.\n     * If you want to find a specific a network interface, use Network.findNetwork()\n     * and a hardwareID or a logical name.\n     *\n     * @return a pointer to a YNetwork object, corresponding to\n     *         a network interface currently online, or a null pointer\n     *         if there are no more network interfaces to enumerate.\n     */\n    nextNetwork() {\n        let resolve = this._yapi.imm_resolveFunction(this._className, this._func);\n        if (resolve.errorType != YAPI.SUCCESS)\n            return null;\n        let next_hwid = this._yapi.imm_getNextHardwareId(this._className, resolve.result);\n        if (next_hwid == null)\n            return null;\n        return YNetwork.FindNetworkInContext(this._yapi, next_hwid);\n    }\n    /**\n     * Starts the enumeration of network interfaces currently accessible.\n     * Use the method YNetwork.nextNetwork() to iterate on\n     * next network interfaces.\n     *\n     * @return a pointer to a YNetwork object, corresponding to\n     *         the first network interface currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstNetwork() {\n        let next_hwid = YAPI.imm_getFirstHardwareId('Network');\n        if (next_hwid == null)\n            return null;\n        return YNetwork.FindNetwork(next_hwid);\n    }\n    /**\n     * Starts the enumeration of network interfaces currently accessible.\n     * Use the method YNetwork.nextNetwork() to iterate on\n     * next network interfaces.\n     *\n     * @param yctx : a YAPI context.\n     *\n     * @return a pointer to a YNetwork object, corresponding to\n     *         the first network interface currently online, or a null pointer\n     *         if there are none.\n     */\n    static FirstNetworkInContext(yctx) {\n        let next_hwid = yctx.imm_getFirstHardwareId('Network');\n        if (next_hwid == null)\n            return null;\n        return YNetwork.FindNetworkInContext(yctx, next_hwid);\n    }\n}\n// API symbols as static members\nYNetwork.READINESS_DOWN = 0;\nYNetwork.READINESS_EXISTS = 1;\nYNetwork.READINESS_LINKED = 2;\nYNetwork.READINESS_LAN_OK = 3;\nYNetwork.READINESS_WWW_OK = 4;\nYNetwork.READINESS_INVALID = -1;\nYNetwork.MACADDRESS_INVALID = YAPI.INVALID_STRING;\nYNetwork.IPADDRESS_INVALID = YAPI.INVALID_STRING;\nYNetwork.SUBNETMASK_INVALID = YAPI.INVALID_STRING;\nYNetwork.ROUTER_INVALID = YAPI.INVALID_STRING;\nYNetwork.CURRENTDNS_INVALID = YAPI.INVALID_STRING;\nYNetwork.IPCONFIG_INVALID = YAPI.INVALID_STRING;\nYNetwork.PRIMARYDNS_INVALID = YAPI.INVALID_STRING;\nYNetwork.SECONDARYDNS_INVALID = YAPI.INVALID_STRING;\nYNetwork.NTPSERVER_INVALID = YAPI.INVALID_STRING;\nYNetwork.USERPASSWORD_INVALID = YAPI.INVALID_STRING;\nYNetwork.ADMINPASSWORD_INVALID = YAPI.INVALID_STRING;\nYNetwork.HTTPPORT_INVALID = YAPI.INVALID_UINT;\nYNetwork.DEFAULTPAGE_INVALID = YAPI.INVALID_STRING;\nYNetwork.DISCOVERABLE_FALSE = 0;\nYNetwork.DISCOVERABLE_TRUE = 1;\nYNetwork.DISCOVERABLE_INVALID = -1;\nYNetwork.WWWWATCHDOGDELAY_INVALID = YAPI.INVALID_UINT;\nYNetwork.CALLBACKURL_INVALID = YAPI.INVALID_STRING;\nYNetwork.CALLBACKMETHOD_POST = 0;\nYNetwork.CALLBACKMETHOD_GET = 1;\nYNetwork.CALLBACKMETHOD_PUT = 2;\nYNetwork.CALLBACKMETHOD_INVALID = -1;\nYNetwork.CALLBACKENCODING_FORM = 0;\nYNetwork.CALLBACKENCODING_JSON = 1;\nYNetwork.CALLBACKENCODING_JSON_ARRAY = 2;\nYNetwork.CALLBACKENCODING_CSV = 3;\nYNetwork.CALLBACKENCODING_YOCTO_API = 4;\nYNetwork.CALLBACKENCODING_JSON_NUM = 5;\nYNetwork.CALLBACKENCODING_EMONCMS = 6;\nYNetwork.CALLBACKENCODING_AZURE = 7;\nYNetwork.CALLBACKENCODING_INFLUXDB = 8;\nYNetwork.CALLBACKENCODING_MQTT = 9;\nYNetwork.CALLBACKENCODING_YOCTO_API_JZON = 10;\nYNetwork.CALLBACKENCODING_PRTG = 11;\nYNetwork.CALLBACKENCODING_INFLUXDB_V2 = 12;\nYNetwork.CALLBACKENCODING_INVALID = -1;\nYNetwork.CALLBACKCREDENTIALS_INVALID = YAPI.INVALID_STRING;\nYNetwork.CALLBACKINITIALDELAY_INVALID = YAPI.INVALID_UINT;\nYNetwork.CALLBACKSCHEDULE_INVALID = YAPI.INVALID_STRING;\nYNetwork.CALLBACKMINDELAY_INVALID = YAPI.INVALID_UINT;\nYNetwork.CALLBACKMAXDELAY_INVALID = YAPI.INVALID_UINT;\nYNetwork.POECURRENT_INVALID = YAPI.INVALID_UINT;\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  programs constants and global settings\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./Renderer/YDataRendererFull.js\";\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nimport * as YoctoAPI from \"./YoctoApiFull.js\";\nexport class constants {\n    static get buildVersion() {\n        return /* version number patched automatically */ '1.10.51774';\n    }\n    static get deviceScreenWidth() { return screen.width * window.devicePixelRatio; }\n    static get deviceScreenHeight() { return screen.height * window.devicePixelRatio; }\n    // if screen DPI is greater than 96 and screen width is less the 12 \" (~A4) then it's probably a phone a tablet\n    static get isPhoneOrTablet() { return (constants.ScreenDPI > 96) && (Math.max(constants.deviceScreenWidth, constants.deviceScreenHeight) / (constants.ScreenDPI) < 12); }\n    static get captureSizePolicy() { return constants._defaultCaptureSizePolicy; }\n    static set captureSizePolicy(value) { constants._defaultCaptureSizePolicy = value; }\n    static get dbleClickBringsUpContextMenu() { return constants._defaulDbleClickBringsUpContextMenu; }\n    static set dbleClickBringsUpContextMenu(value) { constants._defaulDbleClickBringsUpContextMenu = value; }\n    static get maxPointsPerGraphSerie() { return constants._defaultMaxPointsPerGraphSerie; }\n    static set maxPointsPerGraphSerie(value) { if (value >= 0)\n        constants._defaultMaxPointsPerGraphSerie = value >> 0; }\n    static get maxPointsPerDataloggerSerie() { return constants._defaultMaxPointsPerDataloggerSerie; }\n    static set maxPointsPerDataloggerSerie(value) { if (value >= -1)\n        constants._defaultMaxPointsPerDataloggerSerie = value >> 0; }\n    static get maxDataRecordsPerSensor() { return constants._defaultMaxDataRecordsPerSensor; }\n    static set maxDataRecordsPerSensor(value) { if (value >= 0)\n        constants._defaultMaxDataRecordsPerSensor = value >> 0; }\n    static get captureWidth() { return constants._defaultCaptureWidth; }\n    static set captureWidth(value) { if (value > 0)\n        constants._defaultCaptureWidth = value; }\n    static get captureHeight() { return constants._defaultCaptureHeight; }\n    static set captureHeight(value) { if (value > 0)\n        constants._defaultCaptureHeight = value; }\n    static get captureDPI() { return constants._defaultCaptureDPI; }\n    static set captureDPI(value) { if (value > 0)\n        constants._defaultCaptureDPI = value; }\n    static get captureType() { return constants._defaultCaptureType; }\n    static set captureType(value) { constants._defaultCaptureType = value; }\n    // UI constants\n    static get generalFontFamily() { return constants.FontFamily; }\n    static get generalFontSize() { return constants.FontSize; }\n    static get generalSizeCoef() { return constants.FontSize / 12.0; }\n    static get screenDPI() { return constants.ScreenDPI; }\n    static get guiDPIFactor() { return constants.DPIfactor; }\n    static get guiDPIFactorWasOverriden() { return constants.DPIfactorOverriden; }\n    static get guiDPIFactorIsOverriden() {\n        let vs = constants.getCookie(constants.DPIFactorKey);\n        if (vs == null)\n            return false;\n        let v = parseFloat(vs);\n        if (v > 0)\n            return true;\n        return false;\n    }\n    static get guiDPIFactorOverrideValue() {\n        let vs = constants.getCookie(constants.DPIFactorKey);\n        if (vs == null)\n            return constants.DPIfactor;\n        let v = parseFloat(vs);\n        if (v > 0)\n            return v;\n        return constants.DPIfactor;\n    }\n    static overrideGuiDPIFactor(override, value) {\n        if ((override) && typeof (value) !== \"undefined\") {\n            constants.setCookie(constants.DPIFactorKey, value.toString(), 3650);\n        }\n        else {\n            constants.setCookie(constants.DPIFactorKey, \"none\", 3650);\n        }\n    }\n    static get RunningOnAndroid() { return constants.isAndroid; }\n    static get WindowBackgroundColor() { return \"#f0f0f0\"; }\n    static get WindowBorder() { return \"1px solid #808080\"; }\n    static get WindowPadding() { return 2; }\n    static get WindowInnerBorderColor() { return \" #A0A0A0\"; }\n    static get WindowInnerBackgroundColor() { return \"#fAfAfA\"; }\n    static get WindowInnerBorder() { return \"1px solid \" + constants.WindowInnerBorderColor; }\n    static get WindowHeaderBackgroundColor() { return \"#0072ca\"; }\n    static get WindowHeaderColor() { return \"white\"; }\n    static get WindowHeaderBorder() { return \"1px solid #0072ca\"; }\n    static get WindowHeaderHeight() { return 20; }\n    static get WindowHeaderFontSize() { return (8 * constants.FontSize / 6); }\n    static get WindowHeaderFontFamily() { return constants.FontFamily; }\n    static get mustCheckForUpdate() { return constants._checkForUpdate; }\n    static set mustCheckForUpdate(value) {\n        //        if (value!=constants._checkForUpdate)\n        //        {  constants._checkForUpdate =true;\n        //            constants.edited=true;\n        //        }\n        //        //#endif\n    }\n    //#ifndef READONLY\n    //    private static _edited: boolean = false;\n    //    public static get edited(): boolean {return constants._edited};\n    //    public static set edited(value: boolean)\n    //    {\n    //        if (constants._edited != value)\n    //        {\n    //            constants._edited = value;\n    //            YoctoVisualization.YWebPage.ShowSaveReminder(value)\n    //        }\n    //    }\n    //\n    //    public static InitColorHistory(node: YoctoVisualization.YXmlNode): void\n    //    {\n    //        let nodes: YoctoVisualization.YXmlNode[] = node.get_childsByIndex();\n    //        for (let i: number = 0; i < nodes.length; i++)\n    //        {\n    //            let node: YoctoVisualization.YXmlNode = nodes[i]\n    //            switch (nodes[i].Name)\n    //            {\n    //            case \"Color\":\n    //                try\n    //                {\n    //                    let colordef: string = (<any>node.Attributes)[\"value\"];\n    //                    let color: YDataRendering.YColor | null = YDataRendering.YColor.FromString(colordef)\n    //                    if (color != null) YoctoVisualization.colorEditor.AddColorToHistory(color)\n    //                }\n    //                catch\n    //                {}\n    //            }\n    //        }\n    //    }\n    ////#endif\n    static findDPI() {\n        let DPI = 1;\n        while (!matchMedia(\"(max-resolution: \" + DPI.toString() + \"dpi)\").matches) {\n            DPI = DPI << 1;\n        }\n        let a = DPI >> 1;\n        let b = DPI;\n        while (b - a > 1) {\n            let pivot = (b + a) >> 1;\n            if (matchMedia(\"(max-resolution: \" + pivot.toString() + \"dpi)\").matches) {\n                b = pivot;\n            }\n            else {\n                a = pivot;\n            }\n        }\n        return b * (constants.isAndroid ? window.devicePixelRatio : 1);\n    }\n    static InitCaptureParams(node) {\n        let nodes = node.get_childsByName();\n        for (let nodeName in nodes) {\n            let node = nodes[nodeName];\n            let value;\n            switch (nodeName) {\n                case \"Target\":\n                    if (\"value\" in node.Attributes) {\n                        constants._captureTarget = YDataRendering.YDataRenderer.CaptureTarget.fromString(YDataRendering.YDataRenderer.CaptureTarget, node.Attributes[\"value\"]);\n                    }\n                    break;\n                case \"Type\":\n                    if (\"value\" in node.Attributes) {\n                        constants._defaultCaptureType = YDataRendering.YDataRenderer.CaptureType.fromString(YDataRendering.YDataRenderer.CaptureType, node.Attributes[\"value\"]);\n                    }\n                    break;\n                case \"Size\":\n                    if (\"value\" in node.Attributes) {\n                        constants._defaultCaptureSizePolicy = YDataRendering.YDataRenderer.CaptureFormats.fromString(YDataRendering.YDataRenderer.CaptureFormats, node.Attributes[\"value\"]);\n                    }\n                    break;\n                case \"Resolution\":\n                    if (\"value\" in node.Attributes) {\n                        constants.captureDPI = parseInt(node.Attributes[\"value\"]);\n                    }\n                    break;\n                case \"Width\":\n                    if (\"value\" in node.Attributes) {\n                        constants.captureWidth = value = parseInt(node.Attributes[\"value\"]);\n                    }\n                    break;\n                case \"Height\":\n                    if (\"value\" in node.Attributes) {\n                        constants.captureHeight = parseInt(node.Attributes[\"value\"]);\n                    }\n                    break;\n                case \"Folder\":\n                    if (\"value\" in node.Attributes) {\n                        constants._captureFolder = node.Attributes[\"value\"];\n                    }\n                    break;\n            }\n        }\n    }\n    static InitUIParams(node) {\n        let nodes = node.get_childsByName();\n        for (let nodeName in nodes) {\n            let node = nodes[nodeName];\n            switch (nodeName) {\n                case \"VerticalDragZoom\":\n                    if (\"value\" in node.Attributes) {\n                        YDataRendering.YGraph.verticalDragZoomEnabled = node.Attributes[\"value\"].toUpperCase() == \"TRUE\";\n                    }\n                    break;\n                case \"DbleClickContextMenu\":\n                    if (\"value\" in node.Attributes) {\n                        constants.dbleClickBringsUpContextMenu = node.Attributes[\"value\"].toUpperCase() == \"TRUE\";\n                    }\n                    break;\n            }\n        }\n    }\n    static InitCheckForUpdateParams(node) {\n        let nodes = node.get_childsByName();\n        for (let nodeName in nodes) {\n            let node = nodes[nodeName];\n            switch (nodeName) {\n                case \"checkForUpdate\":\n                    if (\"value\" in node.Attributes) {\n                        constants._checkForUpdate = node.Attributes[\"value\"].toUpperCase() == \"TRUE\";\n                    }\n                    break;\n                case \"ignoreBuild\":\n                    if (\"value\" in node.Attributes) {\n                        constants._ignoreBuild = parseInt(node.Attributes[\"value\"].toUpperCase());\n                    }\n                    break;\n            }\n        }\n    }\n    static InitMemoryUsageParams(node) {\n        let nodes = node.get_childsByName();\n        for (let nodeName in nodes) {\n            let node = nodes[nodeName];\n            switch (nodeName) {\n                case \"maxPointsPerGraphSerie\":\n                    if (\"value\" in node.Attributes) {\n                        let value = parseInt(node.Attributes[\"value\"]);\n                        constants.maxPointsPerGraphSerie = value;\n                        YDataRendering.DataSerie.MaxPointsPerSeries = value;\n                    }\n                    break;\n                case \"maxDataRecordsPerSensor\":\n                    if (\"value\" in node.Attributes) {\n                        let value = parseInt(node.Attributes[\"value\"]);\n                        if (value >= 0) {\n                            constants.maxDataRecordsPerSensor = value;\n                            YoctoVisualization.CustomYSensor.MaxDataRecords = value;\n                        }\n                    }\n                    break;\n                case \"maxPointsPerDataloggerSerie\":\n                    if (\"value\" in node.Attributes) {\n                        let value = parseInt(node.Attributes[\"value\"]);\n                        constants.maxPointsPerDataloggerSerie = value;\n                        YoctoVisualization.CustomYSensor.MaxLoggerRecords = value;\n                    }\n                    break;\n                case \"deviceListValidity\":\n                    if (\"value\" in node.Attributes) {\n                        let value = parseInt(node.Attributes[\"value\"]);\n                        if (value > 0) {\n                            constants._deviceListValidity = value;\n                            YoctoAPI.YAPI.SetDeviceListValidity(value).then();\n                        }\n                    }\n                    break;\n            }\n        }\n    }\n    static Init(initData) {\n        let nodes = initData.get_childsByName();\n        for (let nodeName in nodes) {\n            let node = nodes[nodeName];\n            switch (nodeName) {\n                case \"UseUSB\":\n                    if (\"value\" in node.Attributes) {\n                        constants._useUSB = node.Attributes[\"value\"].toUpperCase() == \"TRUE\";\n                    }\n                    break;\n                //#ifndef READONLY\n                //            case \"Colors\":\n                //                constants.InitColorHistory(node);\n                //                break;\n                ////#endif\n                case \"Capture\":\n                    constants.InitCaptureParams(node);\n                    break;\n                case \"UI\":\n                    constants.InitUIParams(node);\n                    break;\n                case \"Updates\":\n                    constants.InitCheckForUpdateParams(node);\n                    break;\n                case \"MemoryUsage\":\n                    constants.InitMemoryUsageParams(node);\n                    break;\n                case \"UseVirtualHub\":\n                    if (\"value\" in node.Attributes) {\n                        constants._useVirtualHub = node.Attributes[\"value\"].toUpperCase() == \"TRUE\";\n                    }\n                    break;\n                case \"Hubs\":\n                    YoctoVisualization.sensorsManager.InitHubList(node);\n                    break;\n            }\n        }\n    }\n    static get CRCTable() {\n        if (constants._crcTable != null)\n            return constants._crcTable;\n        constants._crcTable = [];\n        let c;\n        var crcTable = [];\n        for (var n = 0; n < 256; n++) {\n            c = n;\n            for (var k = 0; k < 8; k++) {\n                c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));\n            }\n            constants._crcTable[n] = c;\n        }\n        return constants._crcTable;\n    }\n    static crc32(str) {\n        var crcTable = constants.CRCTable;\n        var crc = 0 ^ (-1);\n        for (var i = 0; i < str.length; i++) {\n            crc = (crc >>> 8) ^ crcTable[(crc ^ str.charCodeAt(i)) & 0xFF];\n        }\n        return (crc ^ (-1)) >>> 0;\n    }\n    ;\n    static setCookie(cname, cvalue, exdays) {\n        let d = new Date();\n        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));\n        let expires = \"expires=\" + d.toUTCString();\n        document.cookie = cname + \"=\" + cvalue + \";\" + expires + \";path=/\";\n    }\n    static getCookie(cname) {\n        let name = cname + \"=\";\n        let decodedCookie = decodeURIComponent(document.cookie);\n        let ca = decodedCookie.split(';');\n        for (let i = 0; i < ca.length; i++) {\n            let c = ca[i];\n            while (c.charAt(0) == ' ') {\n                c = c.substring(1);\n            }\n            if (c.indexOf(name) == 0) {\n                return c.substring(name.length, c.length);\n            }\n        }\n        return null;\n    }\n}\nconstants.DPIFactorKey = \"YoctoVisualization4WebDPIFactor\";\nconstants.isAndroid = navigator.userAgent.toLowerCase().indexOf(\"android\") >= 0;\nconstants.ScreenDPI = constants.findDPI();\nconstants.FontFamily = \"Arial, Helvetica, sans-serif\"; // Will affect the whole application. Would you dare using \"Comic Sans MS\" ?\n// allows to resize GUI element on devices too much pixels on a very small screen (looking at you smartphones)\nconstants.DPIfactorCookieValue = constants.getCookie(constants.DPIFactorKey);\nconstants.DPIfactorOverriden = constants.DPIfactorCookieValue != null;\nconstants.DPIfactor = (constants.DPIfactorOverriden && parseFloat(constants.DPIfactorCookieValue) > 0) ? parseFloat(constants.DPIfactorCookieValue) : constants.isPhoneOrTablet ? Math.round(10 * constants.ScreenDPI / (96 * 1.2)) / 10 : 1;\nconstants.FontSize = 12 * constants.DPIfactor; // UI base font size, all other fonts will be proportional to this value, windows and menus will also be resized accordingly\n// configurable properties\nconstants._defaultCaptureType = YDataRendering.YDataRenderer.CaptureType.PNG;\nconstants._defaultCaptureWidth = 1024;\nconstants._defaultCaptureHeight = 1024;\nconstants._defaultCaptureDPI = 70;\nconstants._defaultCaptureSizePolicy = YDataRendering.YDataRenderer.CaptureFormats.Keep;\nconstants._defaultMaxPointsPerGraphSerie = 0;\nconstants._defaultMaxPointsPerDataloggerSerie = 0;\nconstants._defaultMaxDataRecordsPerSensor = 0;\nconstants._defaulDbleClickBringsUpContextMenu = false;\n// dummy properties, useless in the JS version, but keep nonetheless to\n// keep config file compatible the C# version\nconstants._useUSB = true;\nconstants._useVirtualHub = false;\nconstants._captureTarget = YDataRendering.YDataRenderer.CaptureTarget.ToFile;\nconstants._captureFolder = \"\";\nconstants._checkForUpdate = true;\nconstants._ignoreBuild = 0;\nconstants._deviceListValidity = 3600;\n// thanks Alex @ stakckoverflow\nconstants._crcTable = null;\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Yoctopuce Sensors management\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nimport * as YoctoAPI from \"./YoctoApiFull.js\";\nexport class Hub {\n    // not really crypto functions, but since source code will end up in the client browser,\n    // there is no point in using techniques more complicated than obfuscation\n    static Decrypt(data, loginCypherPassword) {\n        if (data == \"\")\n            return \"\";\n        if (data.length % 4)\n            return \"\";\n        let buffer = new Uint16Array(data.length >> 2);\n        for (let i = 0; i < buffer.length; i++) {\n            buffer[i] = parseInt(data.slice(i * 4, i * 4 + 4), 16);\n        }\n        let checksum = buffer[0];\n        for (let i = 1; i < buffer.length - 1; i++) {\n            checksum ^= buffer[i];\n        }\n        if (checksum != buffer[buffer.length - 1])\n            return \"\";\n        let res = \"\";\n        for (let i = 0; i < buffer.length - 2; i++) {\n            res += String.fromCharCode((buffer[i + 1] & 0x00FF) ^ loginCypherPassword.charCodeAt(i % loginCypherPassword.length) ^ ((buffer[0] + i) & 0xff) ^ (((buffer[i + 1] & 0x0800) >> 11) << ((buffer[i + 1] & 0x0700) >> 8)) ^ (((buffer[i + 1] & 0x8000) >> 15) << ((buffer[i + 1] & 0x7000) >> 12)));\n        }\n        return res;\n    }\n    static Encrypt(data, loginCypherPassword) {\n        if (data == \"\")\n            return \"\";\n        let buffer = crypto.getRandomValues(new Uint16Array(data.length + 2));\n        for (let i = 0; i < data.length; i++) {\n            buffer[i + 1] = (buffer[i + 1] & 0xFF00) | (data.charCodeAt(i) ^ loginCypherPassword.charCodeAt(i % loginCypherPassword.length) ^ ((buffer[0] + i) & 0xff) ^ (((buffer[i + 1] & 0x0800) >> 11) << ((buffer[i + 1] & 0x0700) >> 8)) ^ (((buffer[i + 1] & 0x8000) >> 15) << ((buffer[i + 1] & 0x7000) >> 12)));\n        }\n        buffer[buffer.length - 1] = buffer[0];\n        for (let i = 1; i < buffer.length - 1; i++) {\n            buffer[buffer.length - 1] ^= buffer[i];\n        }\n        let res = \"\";\n        for (let i = 0; i < buffer.length; i++) {\n            res += (\"000\" + (buffer[i]).toString(16)).slice(-4).toUpperCase();\n        }\n        return res;\n    }\n    static encryptPassword(clearPassword) {\n        return clearPassword == \"\" ? \"\" : Hub.Encrypt(clearPassword, Hub.loginCypherPassword);\n    }\n    get hubType() { return this._hubType; }\n    set hubType(value) { this._hubType = value; }\n    get protocol() { return this._protocol; }\n    set protocol(value) { this._protocol = value; }\n    get user() { return this._user; }\n    set user(value) { this._user = value; }\n    get encryptedPassword() { return this._password; }\n    set encryptedPassword(value) { this._password = value; }\n    get clearPassword() { return (this._password == \"\") ? \"\" : Hub.Decrypt(this._password, Hub.loginCypherPassword); }\n    set clearPassword(value) { this._password = value == \"\" ? \"\" : Hub.encryptPassword(value); }\n    get addr() { return this._addr; }\n    set addr(value) { this._addr = value; }\n    get port() { return this._port; }\n    set port(value) { this._port = value; }\n    get removable() { return this._removable; }\n    set removable(value) { this._removable = value; }\n    get path() { return this._path; }\n    set path(value) { this._path = value; }\n    get ConnectionState() { return this._state; }\n    get ConnectionDescription() {\n        switch (this._state) {\n            case 1 /* HubState.CONNECTING */:\n                return \"Connecting..\";\n            case 2 /* HubState.CONNECTED */:\n                return (this._logicname != \"\" ? this._logicname : this._netname) + \" OK\";\n            case 3 /* HubState.FAILURE */:\n                return \"Connection failed \";\n            default:\n                return \"Not connected.\";\n        }\n    }\n    constructor(hubType, protocol, user, password, clearPassword, addr, port, path, removeable) {\n        this._netname = \"\";\n        this._module = null;\n        this._logicname = \"\";\n        this._previousURL = \"\";\n        this._previousobfuscatedURL = \"\";\n        this._hubType = 2 /* HubType.REMOTEHUB */;\n        this._protocol = \"\";\n        this._user = \"\";\n        this._password = \"\";\n        this._addr = \"\";\n        this._port = \"\";\n        this._removable = true;\n        this._path = \"\";\n        this._state = 0 /* HubState.NOTCONNECTED */;\n        while (/^\\//.test(path)) {\n            path = path.slice(1);\n        }\n        while (/\\/$/.test(path)) {\n            path = path.slice(0, -1);\n        }\n        this._hubType = hubType;\n        this._protocol = protocol;\n        this._user = user;\n        this._port = port;\n        this._password = clearPassword ? (password != \"\" ? Hub.Encrypt(password, Hub.loginCypherPassword) : \"\") : password;\n        this._addr = addr;\n        this._path = path;\n        this._removable = (typeof (removeable) === \"undefined\") ? true : removeable;\n    }\n    static HubFromXml(subnode) {\n        let hubType = 2 /* HubType.REMOTEHUB */;\n        let protocol = \"ws\";\n        let removable = true;\n        if (\"protocol\" in subnode.Attributes)\n            protocol = subnode.Attributes[\"protocol\"];\n        let user = \"\";\n        if (\"user\" in subnode.Attributes)\n            user = subnode.Attributes[\"user\"];\n        let password = \"\";\n        if (\"password\" in subnode.Attributes)\n            password = subnode.Attributes[\"password\"];\n        let port = \"\";\n        if (\"port\" in subnode.Attributes)\n            port = subnode.Attributes[\"port\"];\n        let path = \"\";\n        if (\"path\" in subnode.Attributes)\n            path = subnode.Attributes[\"path\"];\n        let addr = \"\";\n        if (\"addr\" in subnode.Attributes)\n            addr = subnode.Attributes[\"addr\"];\n        if (\"removable\" in subnode.Attributes)\n            removable = (subnode.Attributes[\"removable\"].toUpperCase() == \"TRUE\");\n        return new Hub(hubType, protocol, user, password, false, addr, port, path, removable);\n    }\n    Connect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let errmsg = new YoctoAPI.YErrorMsg();\n            this._state = 1 /* HubState.CONNECTING */;\n            YoctoVisualization.logForm.log(\"preregistering  \" + this.get_obfuscatedURL());\n            //#ifndef READONLY\n            //        if (!YoctoVisualization.YWebPage.readonly) YoctoVisualization.configForm.hubStateChanged(this)\n            ////#endif\n            let url = this.get_fullUrl();\n            if ((yield YoctoAPI.YAPI.PreregisterHub(url, errmsg)) != YoctoAPI.YAPI_SUCCESS) {\n                YoctoVisualization.logForm.log(\"[!] preregistering  \" + this.get_obfuscatedURL() + \" failed (\" + errmsg.msg + \")\");\n                this._state = 3 /* HubState.FAILURE */;\n                this._previousURL = \"\";\n                this._previousobfuscatedURL = \"\";\n            }\n            else {\n                this._previousURL = url;\n                this._previousobfuscatedURL = this.get_obfuscatedURL();\n            }\n            //#ifndef READONLY\n            //        if (!YoctoVisualization.YWebPage.readonly) YoctoVisualization.configForm.hubStateChanged(this)\n            ////#endif\n        });\n    }\n    Disconnect() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._previousURL == \"\")\n                return;\n            YoctoVisualization.logForm.log(\"Unregistering  \" + this._previousobfuscatedURL);\n            yield YoctoAPI.YAPI.UnregisterHub(this._previousURL);\n            this._previousURL = \"\";\n            this._previousobfuscatedURL = \"\";\n            this._state = 0 /* HubState.NOTCONNECTED */;\n            //#ifndef READONLY\n            //        if (!YoctoVisualization.YWebPage.readonly) YoctoVisualization.configForm.hubStateChanged(this)\n            ////#endif\n        });\n    }\n    arrival(ip, netname, module, logicname) {\n        this._state = 2 /* HubState.CONNECTED */;\n        this._netname = netname;\n        this._module = module;\n        this._logicname = logicname;\n        this._state = 2 /* HubState.CONNECTED */;\n        //#ifndef READONLY\n        //        if (!YoctoVisualization.YWebPage.readonly)\n        //        {\n        //            YoctoVisualization.configForm.hubStateChanged(this)\n        //        }\n        ////#endif\n    }\n    get address() {\n        return this._addr;\n    }\n    get_consoleUrl() {\n        let fullurl = this._protocol + \"://\" + this._addr;\n        if (this._port != \"\")\n            fullurl = fullurl + \":\" + this._port; //else fullurl = fullurl + \":4444\";\n        return fullurl;\n    }\n    toString() { return this.get_consoleUrl(); }\n    get_fullUrl() {\n        let fullurl = \"\";\n        if (this._protocol != \"\")\n            fullurl = this._protocol + \"://\";\n        if (this._user != \"\") {\n            fullurl = fullurl + this._user;\n            if (this._password != \"\")\n                fullurl = fullurl + \":\" + Hub.Decrypt(this._password, Hub.loginCypherPassword);\n            fullurl = fullurl + \"@\";\n        }\n        fullurl = fullurl + this._addr;\n        if (this._port != \"\")\n            fullurl = fullurl + \":\" + this._port;\n        else\n            fullurl = fullurl + \":4444\";\n        fullurl = fullurl + \"/\";\n        if (this._path) {\n            fullurl = fullurl + this._path + \"/\";\n        }\n        return fullurl;\n    }\n    get_connexionUrl() {\n        let fullurl;\n        if (this._protocol != \"\")\n            fullurl = this._protocol + \"://\";\n        else\n            fullurl = \"ws://\";\n        fullurl = fullurl + this._addr;\n        if (this._port != \"\")\n            fullurl = fullurl + \":\" + this._port;\n        else\n            fullurl = fullurl + \":4444\";\n        fullurl = fullurl + \"/\";\n        return fullurl.toLowerCase();\n    }\n    get_obfuscatedURL() {\n        let fullurl = \"\";\n        if (this._protocol != \"\")\n            fullurl = this._protocol + \"://\";\n        if (this._user != \"\") {\n            fullurl = fullurl + this._user;\n            if (this._password != \"\")\n                fullurl = fullurl + \":#####\";\n            fullurl = fullurl + \"@\";\n        }\n        fullurl = fullurl + this._addr;\n        if (this._port != \"\")\n            fullurl = fullurl + \":\" + this._port;\n        if (this._path != \"\")\n            fullurl = fullurl + \"/\" + this._path;\n        return fullurl;\n    }\n}\nHub.loginCypherPassword = \"+>*X[?_ih$N7wA!}\";\nexport class TimedSensorValue {\n    constructor(DateTime, value) {\n        this._DateTime = DateTime;\n        this._value = value;\n    }\n    get DateTime() { return this._DateTime; }\n    get value() { return this._value; }\n}\nexport class AlarmSettings {\n    static ExecuteCommand(source, command) {\n    }\n    constructor(index, owner, xmldata) {\n        this.index = 0;\n        this.Condition = 0;\n        this.Source = 0;\n        this.Value = 0;\n        this.Delay = 15;\n        this.Commandline = \"\";\n        this.lastAlarm = new Date(0);\n        this.index = index;\n        this.parent = owner;\n        if (typeof xmldata !== \"undefined\") {\n            if (\"Source\" in xmldata.Attributes)\n                this.Source = parseInt(xmldata.Attributes[\"Source\"]);\n            if (\"Condition\" in xmldata.Attributes)\n                this.Condition = parseInt(xmldata.Attributes[\"Condition\"]);\n            if (\"Value\" in xmldata.Attributes)\n                this.Value = parseFloat(xmldata.Attributes[\"Value\"]);\n            if (\"Cmd\" in xmldata.Attributes)\n                this.Commandline = xmldata.Attributes[\"Cmd\"];\n            if (\"Delay\" in xmldata.Attributes)\n                this.Delay = parseInt(xmldata.Attributes[\"Delay\"]);\n        }\n    }\n    //#ifndef READONLY\n    //    public getXmlData(): string\n    //    {\n    //        return \"<Alarm \"\n    //            + \"Source=\\\"\" + this.Source.toString() + \"\\\" \"\n    //            + \"Condition=\\\"\" + this.Condition.toString() + \"\\\" \"\n    //            + \"Value=\\\"\" + this.Value.toString() + \"\\\" \"\n    //            + \"Cmd=\\\"\" + YoctoVisualization.GenericProperties.escapeXml(this.Commandline) + \"\\\" \"\n    //            + \"Delay=\\\"\" + this.Delay.toString() + \"\\\"/>\\n\";\n    //    }\n    ////#endif\n    setCondition(condition) { this.Condition = condition; }\n    getCondition() { return this.Condition; }\n    setSource(source) { this.Source = source; }\n    getSource() { return this.Source; }\n    setValue(value) { this.Value = value; }\n    getValue() { return this.Value; }\n    setDelay(value) {\n        if (value < 0)\n            throw \"delay must be a positive value\";\n        this.Delay = value;\n    }\n    getDelay() { return this.Delay; }\n    setCommandline(value) { this.Commandline = value; }\n    getCommandline() { return this.Commandline; }\n    check(m) {\n        let alarm = false;\n        let reason = \"\";\n        let src;\n        let SensorValue;\n        switch (this.Source) {\n            case 1:\n                src = \"MIN\";\n                SensorValue = m.get_minValue();\n                break;\n            case 2:\n                src = \"MAX\";\n                SensorValue = m.get_maxValue();\n                break;\n            default:\n                src = \"AVG\";\n                SensorValue = m.get_averageValue();\n                break;\n        }\n        switch (this.Condition) {\n            default:\n                return; // alarm disabled\n            case 1:\n                reason = \">\";\n                if (SensorValue > this.Value)\n                    alarm = true;\n                break;\n            case 2:\n                reason = \">=\";\n                if (SensorValue >= this.Value)\n                    alarm = true;\n                break;\n            case 3:\n                reason = \"=\";\n                if (SensorValue == this.Value)\n                    alarm = true;\n                break;\n            case 4:\n                reason = \"<=\";\n                if (SensorValue <= this.Value)\n                    alarm = true;\n                break;\n            case 5:\n                reason = \"<\";\n                if (SensorValue < this.Value)\n                    alarm = true;\n                break;\n        }\n        let now = new Date();\n        if (!alarm)\n            return;\n        if ((now.getTime() - this.lastAlarm.getTime()) < 1000 * this.Delay)\n            return;\n        let source = \"ALARM \" + (this.index + 1).toString();\n        YoctoVisualization.logForm.log(source + \" on \" + this.parent.get_hardwareId() + \"/\" + this.parent.get_friendlyName() + \" (\" + SensorValue.toString() + reason + this.Value.toString() + \")\");\n        let Execute = this.Commandline;\n        Execute = Execute.replace(\"$SENSORVALUE$\", SensorValue.toString());\n        Execute = Execute.replace(\"$HWDID$\", this.parent.get_hardwareId());\n        Execute = Execute.replace(\"$NAME$\", this.parent.get_friendlyName());\n        Execute = Execute.replace(\"$UNIT$\", this.parent.get_unit());\n        Execute = Execute.replace(\"$CONDITION$\", reason);\n        Execute = Execute.replace(\"$DATATYPE$\", src);\n        Execute = Execute.replace(\"$TRIGGER$\", this.Value.toString());\n        Execute = Execute.replace(\"$NOW$\", YoctoVisualization.logForm.dateToString(now));\n        try {\n            Function(Execute)();\n        }\n        catch (e) {\n            YoctoVisualization.logForm.log(\"ALARM \" + (this.index + 1) + \" code (\" + Execute + \") caused an exception :\" + e.message);\n        }\n        /* Alarm code is supposed to be executed here\n         new Thread(() =>\n          {\n            Thread.CurrentThread.IsBackground = true;\n             ExecuteCommand(source,Execute);\n           }).Start();\n        */\n        this.lastAlarm = now;\n    }\n}\nclass DataLoggerBoundary {\n    constructor(start, stop) {\n        this._start = 0;\n        this._stop = 0;\n        this._start = start;\n        this._stop = stop;\n    }\n    get start() { return this._start; }\n    get stop() { return this._stop; }\n}\nclass MergeSourceRange {\n    constructor(start, stop) {\n        this.MergeSourceStart = 0;\n        this.MergeSourceStop = 0;\n        this.MergeSourceStart = start;\n        this.MergeSourceStop = stop;\n    }\n}\nexport class CustomYSensor {\n    get isReadOnly() { return this._readonly || !this._online; }\n    static get MaxDataRecords() { return CustomYSensor._MaxDataRecords; }\n    static set MaxDataRecords(value) { CustomYSensor._MaxDataRecords = value; }\n    static get MaxLoggerRecords() { return CustomYSensor._MaxLoggerRecords; }\n    static set MaxLoggerRecords(value) { CustomYSensor._MaxLoggerRecords = value; }\n    get_lastAvgValue() {\n        if (this._online)\n            return this._lastAvgValue;\n        return Number.NaN;\n    }\n    get_lastMaxValue() {\n        if (this._online)\n            return this._lastMaxValue;\n        return Number.NaN;\n    }\n    get_lastMinValue() {\n        if (this._online)\n            return this._lastMinValue;\n        return Number.NaN;\n    }\n    ConfigHasChanged() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.cfgChgNotificationsSupported = true;\n            this.mustReloadConfig = true;\n            this._online = true;\n            yield this.reloadConfig();\n            yield this.forceUpdate();\n        });\n    }\n    constructor(s, name, SensorLocalConfig) {\n        this.unit = \"\";\n        this._frequency = \"\";\n        this.resolution = 1;\n        this._recording = false;\n        this._online = false;\n        this.preloadDone = false;\n        this.loadDone = false;\n        this.dataLoggerFeature = false;\n        this.cfgChgNotificationsSupported = false;\n        this.mustReloadConfig = false;\n        this._readonly = false;\n        this._plzCancelDataloggerLoading = false;\n        this._predloadProcessIsBusy = false;\n        this._loadProcessIsBusy = false;\n        this.lastGetConfig = 0;\n        this.recordedDataLoadProgress = 0;\n        this.recordedData = null;\n        this.loadFailed = false;\n        this.loadCanceled = false;\n        this.firstLiveDataTimeStamp = 0;\n        this.firstDataloggerTimeStamp = 0;\n        this.lastDataTimeStamp = 0;\n        this.lastDataSource = \"\";\n        this.consecutiveBadTimeStamp = 0;\n        this.globalDataLoadProgress = 0;\n        this.minData = [];\n        this.curData = [];\n        this.maxData = [];\n        this.previewMinData = [];\n        this.previewCurData = [];\n        this.previewMaxData = [];\n        this._lastAvgValue = Number.NaN;\n        this._lastMinValue = Number.NaN;\n        this._lastMaxValue = Number.NaN;\n        this.dataLoggerStartReadTime = 0;\n        this.Alarms = [];\n        this.FormsToNotify = [];\n        this.sensor = s;\n        this.hwdName = name;\n        this._friendlyname = name;\n        if (s == null)\n            return;\n        if (SensorLocalConfig != null) {\n            let index = 0;\n            let childs = SensorLocalConfig.get_childsByIndex();\n            for (let i = 0; i < childs.length; i++) {\n                let n = childs[i];\n                if (n.Name == \"Alarm\") {\n                    this.checkAlarmIndex(index);\n                    this.Alarms[index] = new AlarmSettings(index, this, n);\n                    index++;\n                }\n            }\n        }\n    }\n    checkAlarmIndex(index) {\n        while (this.Alarms.length < index + 1) {\n            this.Alarms.push(new AlarmSettings(this.Alarms.length, this));\n        }\n    }\n    getAlarmCount() {\n        return this.Alarms.length;\n    }\n    setAlarmCondition(index, condition) {\n        this.checkAlarmIndex(index);\n        this.Alarms[index].setCondition(condition);\n    }\n    getAlarmCondition(index) {\n        this.checkAlarmIndex(index);\n        return this.Alarms[index].getCondition();\n    }\n    setAlarmSource(index, source) {\n        this.checkAlarmIndex(index);\n        this.Alarms[index].setSource(source);\n    }\n    getAlarmSource(index) {\n        this.checkAlarmIndex(index);\n        return this.Alarms[index].getSource();\n    }\n    setAlarmValue(index, value) {\n        this.checkAlarmIndex(index);\n        this.Alarms[index].setValue(value);\n    }\n    getAlarmValue(index) {\n        this.checkAlarmIndex(index);\n        return this.Alarms[index].getValue();\n    }\n    setAlarmDelay(index, value) {\n        this.checkAlarmIndex(index);\n        this.Alarms[index].setDelay(value);\n    }\n    getAlarmDelay(index) {\n        this.checkAlarmIndex(index);\n        return this.Alarms[index].getDelay();\n    }\n    setAlarmCommandline(index, value) {\n        this.checkAlarmIndex(index);\n        this.Alarms[index].setCommandline(value);\n    }\n    getAlarmCommandline(index) {\n        this.checkAlarmIndex(index);\n        return this.Alarms[index].getCommandline();\n    }\n    //#ifndef READONLY\n    //    public GetXmlData(): string\n    //    {\n    //        let res: string = \"<Sensor ID=\\\"\" + this.get_hardwareId() + \"\\\">\\n\";\n    //        for (let i: number = 0; i < this.getAlarmCount(); i++)\n    //        {\n    //            res = res + this.Alarms[i].getXmlData();\n    //        }\n    //        res = res + \"</Sensor>\\n\";\n    //        return res;\n    //    }\n    ////#endif\n    getGetaLoadProgress() { return this.globalDataLoadProgress; }\n    get_firstLiveDataTimeStamp() { return this.firstLiveDataTimeStamp; }\n    get_firstDataloggerTimeStamp() { return this.firstDataloggerTimeStamp; }\n    get_lastDataTimeStamp() { return this.lastDataTimeStamp; }\n    preload_DoWork(arg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._predloadProcessIsBusy = true;\n            YoctoVisualization.logForm.log(this.hwdName + \": preloading data from \" + arg.start.toString() + \" to \" + arg.stop.toString() + \"(delta= \" + (arg.stop - arg.start).toFixed(3) + \")\");\n            this.recordedData = yield this.sensor.get_recordedData(arg.start, arg.stop);\n            try {\n                this.recordedDataLoadProgress = yield this.recordedData.loadMore();\n            }\n            catch (e) {\n                YoctoVisualization.logForm.log(this.hwdName + \": load more caused an exception \" + e.message);\n            }\n            this.globalDataLoadProgress = this.recordedDataLoadProgress;\n            let measures = yield this.recordedData.get_preview();\n            this.previewMinData = [];\n            this.previewCurData = [];\n            this.previewMaxData = [];\n            let startIndex = 0;\n            let errCount = 0;\n            let maxErrorCount = 10;\n            let lastT = -1;\n            if ((CustomYSensor._MaxDataRecords > 0) && (measures.length > CustomYSensor._MaxDataRecords))\n                startIndex = measures.length - CustomYSensor._MaxDataRecords;\n            for (let i = startIndex; i < measures.length; i++) {\n                let t = measures[i].get_endTimeUTC();\n                if ((t >= arg.start) && (t <= arg.stop)) // returned dataset might be slightly larger than what we asked for\n                 {\n                    this.previewMinData.push(new TimedSensorValue(t, measures[i].get_minValue()));\n                    this.previewCurData.push(new TimedSensorValue(t, measures[i].get_averageValue()));\n                    this.previewMaxData.push(new TimedSensorValue(t, measures[i].get_maxValue()));\n                    if ((t < lastT) && (errCount < maxErrorCount)) {\n                        YoctoVisualization.logForm.log(this.hwdName + \" preloading warning:  timestamp going back in time \" + t + \"<\" + lastT + (errCount < maxErrorCount - 1 ? \"\" : \", further similar errors wont be logged.\"));\n                        errCount++;\n                    }\n                    else if ((t == lastT) && (errCount < maxErrorCount)) {\n                        YoctoVisualization.logForm.log(this.hwdName + \" preloading warning: duplicate timestamp  \" + t + (errCount < maxErrorCount - 1 ? \"\" : \", further similar errors wont be logged.\"));\n                        errCount++;\n                    }\n                    lastT = t;\n                }\n            }\n            if (this.previewCurData.length > 1) {\n                let a = this.previewCurData[0].DateTime;\n                let b = this.previewCurData[this.previewCurData.length - 1].DateTime;\n                YoctoVisualization.logForm.log(this.hwdName + \": preloaded data from \" + a.toString() + \" to \" + b.toString() + \" (delta=\" + (b - a).toFixed(3) + \")\");\n                if ((CustomYSensor._MaxLoggerRecords > 0) && (arg.start == 0)) { // find out where to start reading datalogger to make sure we don't read more the _MaxLoggerRecords records\n                    // tested only when loading initial data (arg.start==0)\n                    let list = yield this.recordedData.get_privateDataStreams();\n                    let index = list.length - 1;\n                    let totalRecords = 0;\n                    while ((index > 0) && (totalRecords < CustomYSensor._MaxLoggerRecords)) {\n                        totalRecords += yield list[index].get_rowCount();\n                        this.dataLoggerStartReadTime = yield list[index].get_startTimeUTC();\n                        index--;\n                    }\n                    let n = 0;\n                    while ((n < this.previewMinData.length) && (this.previewMinData[n].DateTime < this.dataLoggerStartReadTime)) {\n                        n++;\n                    }\n                    if (n > 1) {\n                        this.previewMinData.splice(0, n - 1);\n                        this.previewCurData.splice(0, n - 1);\n                        this.previewMaxData.splice(0, n - 1);\n                    }\n                }\n            }\n            this.preload_Completed(arg);\n        });\n    }\n    findMergeBoundaries(previewMinData) {\n        let MergeSourceStart = 0;\n        let MergeSourceStop = 0;\n        if (this.minData.length > 0) {\n            while ((MergeSourceStart < this.minData.length) && (previewMinData[0].DateTime > this.minData[MergeSourceStart].DateTime)) {\n                MergeSourceStart++;\n            }\n            MergeSourceStop = MergeSourceStart;\n            while ((MergeSourceStop < this.minData.length) && (previewMinData[previewMinData.length - 1].DateTime >= this.minData[MergeSourceStop].DateTime)) {\n                MergeSourceStop++;\n            }\n        }\n        return new MergeSourceRange(MergeSourceStart, MergeSourceStop);\n    }\n    preload_Completed(arg) {\n        if (this.previewMinData == null)\n            return;\n        YoctoVisualization.logForm.log(this.hwdName + \" : datalogger preloading completed (\" + this.previewMinData.length + \" rows )\");\n        if (this.previewMinData.length > 1) // make sure there is enough data not enough data for rendering\n         { // find out where datalogger data fit in the already there data\n            let it = this.findMergeBoundaries(this.previewMinData);\n            // insert loaded data in current data\n            // target.slice(0, insertIndex).concat(insertArr, target.slice(insertIndex));\n            let insertIndex = it.MergeSourceStart;\n            let deleteCount = it.MergeSourceStop - it.MergeSourceStart;\n            this.minData = this.minData.slice(0, insertIndex).concat(this.previewMinData, this.minData.slice(insertIndex + deleteCount));\n            this.curData = this.curData.slice(0, insertIndex).concat(this.previewCurData, this.curData.slice(insertIndex + deleteCount));\n            this.maxData = this.maxData.slice(0, insertIndex).concat(this.previewMaxData, this.maxData.slice(insertIndex + deleteCount));\n            //    this.minData.splice(it.MergeSourceStart, it.MergeSourceStop - it.MergeSourceStart,...this.previewMinData); // will cause a stack overfly if too many data\n            //    this.curData.splice(it.MergeSourceStart, it.MergeSourceStop - it.MergeSourceStart,...this.previewCurData);\n            //    this.maxData.splice(it.MergeSourceStart, it.MergeSourceStop - it.MergeSourceStart,...this.previewMaxData);\n            for (let i = 0; i < this.FormsToNotify.length; i++) {\n                if (this.FormsToNotify[i] instanceof YoctoVisualization.graphWidget) {\n                    this.FormsToNotify[i].SensorNewDataBlock(this, it.MergeSourceStart, it.MergeSourceStart + this.previewMinData.length - 1, 0, true);\n                }\n            }\n        }\n        let count = this.curData.length;\n        if (count > 0) {\n            if (this.curData[count - 1].DateTime > this.lastDataTimeStamp) {\n                this.lastDataTimeStamp = this.curData[count - 1].DateTime;\n                this.lastDataSource = \"last preload timestamp\";\n            }\n        }\n        // if (recordedDataLoadProgress < 100)\n        // {\n        YoctoVisualization.logForm.log(this.hwdName + \" : start datalogger loading\");\n        // loadProcess.RunWorkerAsync(e.Result); // e.result contains the start stop parameters\n        // }\n        this._predloadProcessIsBusy = false;\n        this.load_DoWork(arg).then();\n    }\n    get_frequency() {\n        return this._frequency;\n    }\n    updateFrequncy(frequencyToSet) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (yield this.sensor.isOnline()) {\n                this._frequency = frequencyToSet;\n                yield this.sensor.set_reportFrequency(this._frequency);\n                let lfreq = yield this.sensor.get_logFrequency();\n                try {\n                    if (lfreq != \"OFF\")\n                        yield this.sensor.set_logFrequency(this._frequency);\n                    let m = yield this.sensor.get_module();\n                    yield m.saveToFlash();\n                }\n                catch (e) {\n                    YoctoVisualization.logForm.log(\"failed to change \" + this.hwdName + \" log frequency (\" + e.message + \")\");\n                }\n            }\n            else {\n                this._online = false;\n            }\n        });\n    }\n    set_frequency(frequencyToSet) {\n        if (this._online) {\n            this.updateFrequncy(frequencyToSet).then();\n        }\n    }\n    get_recording() {\n        return this._recording;\n    }\n    set_recording(recordingStatus) {\n        this.updaterecording(recordingStatus).then();\n    }\n    updaterecording(recordingStatus) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this.dataLoggerFeature)\n                return;\n            if (yield this.sensor.isOnline()) {\n                this._recording = recordingStatus;\n                try {\n                    yield this.sensor.set_logFrequency(this._recording ? this._frequency : \"OFF\");\n                    let module = yield this.sensor.get_module();\n                    let serial = yield module.get_serialNumber();\n                    let dl = YoctoAPI.YDataLogger.FindDataLogger(serial + \".dataLogger\");\n                    yield dl.set_recording(this._recording ? YoctoAPI.YDataLogger.RECORDING_ON : YoctoAPI.YDataLogger.RECORDING_OFF);\n                    yield dl.set_autoStart(this._recording ? YoctoAPI.YDataLogger.AUTOSTART_ON : YoctoAPI.YDataLogger.AUTOSTART_OFF);\n                    yield module.saveToFlash();\n                }\n                catch (e) {\n                    YoctoVisualization.logForm.log(\"failed to change \" + this.hwdName + \" recording (\" + e.message + \")\");\n                }\n            }\n            else {\n                this._online = false;\n            }\n        });\n    }\n    reportDataloggerLoadProgress(progress) { }\n    load_DoWork(arg) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._loadProcessIsBusy)\n                return;\n            this._loadProcessIsBusy = true;\n            YoctoVisualization.logForm.log(this.hwdName + \" loading main data from datalogger\");\n            if (this.dataLoggerStartReadTime > 0) {\n                this.recordedData = yield this.sensor.get_recordedData(this.dataLoggerStartReadTime, 0);\n            }\n            let errCount = 0;\n            let maxErrorCount = 10;\n            let lastT = -1;\n            let lastProgress = 0;\n            while (this.recordedDataLoadProgress < 100) {\n                if (this._plzCancelDataloggerLoading) {\n                    this.globalDataLoadProgress = 100;\n                    this.loadDone = true;\n                    this.loadFailed = false;\n                    this.loadCanceled = true;\n                    break;\n                }\n                try {\n                    this.recordedDataLoadProgress = yield this.recordedData.loadMore();\n                    //LogManager.Log(hwdName + \" loading \" + recordedDataLoadProgress.ToString() + \"%\");\n                }\n                catch (Exception) {\n                    this.loadFailed = true;\n                    return;\n                }\n                if (this.globalDataLoadProgress != (this.recordedDataLoadProgress)) {\n                    this.globalDataLoadProgress = this.recordedDataLoadProgress;\n                    this.reportDataloggerLoadProgress(this.globalDataLoadProgress);\n                }\n                if ((this.recordedDataLoadProgress - lastProgress) >= 2) {\n                    lastProgress = this.recordedDataLoadProgress;\n                    this.load_ProgressChanged();\n                }\n            }\n            let measures = yield this.recordedData.get_measures();\n            this.previewMinData = [];\n            this.previewCurData = [];\n            this.previewMaxData = [];\n            for (let i = 0; i < measures.length; i++) {\n                let t = measures[i].get_endTimeUTC();\n                // debug\n                // let d :Date = new Date(t * 1000)\n                // console.log(this.hwdName +\"loaded \"+d.toLocaleDateString()+\" \"+d.toLocaleTimeString()+\" \"+measures[i].get_minValue()+\",\"+measures[i].get_averageValue()+\",\"+measures[i].get_maxValue()+\" arg was \"+arg.start+\" \"+arg.stop)\n                // end debug\n                if ((t >= arg.start) && (t <= arg.stop)) // trust no one!\n                 {\n                    if ((t < lastT) && (errCount < maxErrorCount)) {\n                        YoctoVisualization.logForm.log(this.hwdName + \" loading warning:  timestamp going back in time \" + t + \"<\" + lastT + (errCount < maxErrorCount - 1 ? \"\" : \", further similar errors wont be logged.\"));\n                        errCount++;\n                    }\n                    else if ((t == lastT) && (errCount < maxErrorCount)) {\n                        YoctoVisualization.logForm.log(this.hwdName + \" loading warning: duplicate timestamp  \" + t + (errCount < maxErrorCount - 1 ? \"\" : \", further similar errors wont be logged.\"));\n                        errCount++;\n                    }\n                    lastT = t;\n                    if ((this.previewMinData.length == 0) || (t > this.previewMinData[this.previewMinData.length - 1].DateTime)) {\n                        this.previewMinData.push(new TimedSensorValue(t, measures[i].get_minValue()));\n                        this.previewCurData.push(new TimedSensorValue(t, measures[i].get_averageValue()));\n                        this.previewMaxData.push(new TimedSensorValue(t, measures[i].get_maxValue()));\n                    }\n                }\n                else {\n                    let d = new Date(t * 1000);\n                    let d1 = new Date(arg.start * 1000);\n                    let d2 = new Date(arg.stop * 1000);\n                    let dstr = d.toLocaleDateString() + \" \" + d.toLocaleTimeString();\n                    let d1str = d1.toLocaleDateString() + \" \" + d1.toLocaleTimeString();\n                    let d2str = d2.toLocaleDateString() + \" \" + d2.toLocaleTimeString();\n                    console.log(this.hwdName + \" note: skipping measure at \" + dstr + \", not in range \" + d1str + \" ... \" + d2str);\n                }\n            }\n            if (CustomYSensor._MaxDataRecords > 0)\n                this.previewDataCleanUp();\n            for (let i = 0; i < this.previewMinData.length - 1; i++) {\n                if (this.previewMinData[i].DateTime >= this.previewMinData[i + 1].DateTime) {\n                    throw \"Time-stamp inconsistency\";\n                }\n            }\n            if (this.previewCurData.length > 1) {\n                YoctoVisualization.logForm.log(this.hwdName + \" loaded \" + this.previewCurData.length.toString() + \"/\" + measures.length.toString() + \" records over \" + (this.previewCurData[this.previewCurData.length - 1].DateTime - this.previewCurData[0].DateTime).toFixed(3) + \" sec\");\n            }\n            else {\n                YoctoVisualization.logForm.log(this.hwdName + \" loaded \" + this.previewCurData.length.toString() + \" records\");\n            }\n            if (this.previewMinData.length > 2) {\n                this.globalDataLoadProgress = 100;\n                let lastPreviewTimeStamp = this.previewMinData[this.previewMinData.length - 1].DateTime;\n                //while ((index < minData.Count) && (minData[index].DateTime < lastPreviewTimeStamp)) index++;\n                //LogManager.Log(hwdName + \" time range is [\"+constants.UnixTimeStampToDateTime(previewMinData[0].DateTime)+\"..\"+ constants.UnixTimeStampToDateTime(lastPreviewTimeStamp)+\"]\");\n                // find out where datalogger data fit in the already there data\n                let it = this.findMergeBoundaries(this.previewMinData);\n                let deleteCount = it.MergeSourceStop - it.MergeSourceStart;\n                this.minData = this.minData.slice(0, it.MergeSourceStart).concat(this.previewMinData, this.minData.slice(it.MergeSourceStart + deleteCount));\n                this.curData = this.curData.slice(0, it.MergeSourceStart).concat(this.previewCurData, this.curData.slice(it.MergeSourceStart + deleteCount));\n                this.maxData = this.maxData.slice(0, it.MergeSourceStart).concat(this.previewMaxData, this.maxData.slice(it.MergeSourceStart + deleteCount));\n                //this.minData.splice(it.MergeSourceStart, recordcount,...this.previewMinData); // will cause a stack overflow if too many data\n                //this.curData.splice(it.MergeSourceStart, recordcount,...this.previewCurData);\n                //this.maxData.splice(it.MergeSourceStart, recordcount,...this.previewMaxData);\n                this.firstDataloggerTimeStamp = this.curData[0].DateTime;\n            }\n            this.loadDone = true;\n            this.loadFailed = false;\n            let count = this.curData.length;\n            if (count > 0) {\n                if (this.curData[count - 1].DateTime > this.lastDataTimeStamp) {\n                    this.lastDataTimeStamp = this.curData[count - 1].DateTime;\n                    this.lastDataSource = \"end of datalogger\";\n                }\n            }\n            this.load_Completed();\n        });\n    }\n    load_Completed() {\n        if (this.loadFailed) {\n            YoctoVisualization.logForm.log(this.hwdName + \" : datalogger loading failed\");\n            this._loadProcessIsBusy = false;\n            return;\n        }\n        if ((this.loadCanceled)) {\n            YoctoVisualization.logForm.log(this.hwdName + \" : datalogger loading was canceled\");\n            this.previewMinData = [];\n            this.previewCurData = [];\n            this.previewMaxData = [];\n            this.loadCanceled = false;\n            this._loadProcessIsBusy = false;\n            this.preloadDone = false;\n            this.loadDone = false;\n            return;\n        }\n        if (this.previewCurData.length <= 2) {\n            this.preloadDone = false;\n            this.loadDone = false;\n        }\n        YoctoVisualization.logForm.log(this.hwdName + \" : datalogger loading completed  (\" + this.previewMinData.length + \" rows )\");\n        this.loadDone = true;\n        this.globalDataLoadProgress = 100;\n        if (this.previewMinData.length <= 0) {\n            for (let i = 0; i < this.FormsToNotify.length; i++) {\n                if (this.FormsToNotify[i] instanceof YoctoVisualization.graphWidget) {\n                    this.FormsToNotify[i].DataLoggerProgress();\n                }\n            }\n            return;\n        }\n        for (let i = 0; i < this.FormsToNotify.length; i++) {\n            if (this.FormsToNotify[i] instanceof YoctoVisualization.graphWidget) {\n                this.FormsToNotify[i].DataloggerCompleted(this);\n                this.FormsToNotify[i].DataLoggerProgress();\n            }\n        }\n        this.previewMinData = [];\n        this.previewCurData = [];\n        this.previewMaxData = [];\n        this.preloadDone = false;\n        this.loadDone = false;\n        this._loadProcessIsBusy = false;\n    }\n    dataCleanUp() {\n        if (CustomYSensor._MaxDataRecords <= 0)\n            return;\n        let newsize = ((CustomYSensor._MaxDataRecords * 90) / 100) >> 0;\n        if ((this.curData != null) && (CustomYSensor._MaxDataRecords < this.curData.length)) {\n            this.minData.splice(0, this.minData.length - newsize);\n            this.curData.splice(0, this.curData.length - newsize);\n            this.maxData.splice(0, this.maxData.length - newsize);\n        }\n    }\n    previewDataCleanUp() {\n        if (CustomYSensor._MaxDataRecords <= 0)\n            return;\n        let newsize = ((CustomYSensor._MaxDataRecords * 90) / 100) >> 0;\n        if ((this.previewMinData != null) && (CustomYSensor._MaxDataRecords < this.previewMinData.length)) {\n            this.previewMinData.splice(0, this.previewMinData.length - newsize);\n            this.previewCurData.splice(0, this.previewCurData.length - newsize);\n            this.previewMaxData.splice(0, this.previewMaxData.length - newsize);\n        }\n    }\n    stopDataloggerloading() {\n        /*\n        dataMutex.WaitOne();\n        minData.Clear();\n        curData.Clear();\n        maxData.Clear();\n        dataMutex.ReleaseMutex();\n        firstLiveDataTimeStamp = 0;\n        firstDataloggerTimeStamp = 0;\n        lastDataTimeStamp = 0;\n        lastDataSource = \"stop\";\n\n        if (!loadProcess.CancellationPending) loadProcess.CancelAsync();\n        load_ProgressChanged(null, null);\n       */\n    }\n    load_ProgressChanged() {\n        for (let i = 0; i < this.FormsToNotify.length; i++)\n            if (this.FormsToNotify[i] instanceof YoctoVisualization.graphWidget)\n                this.FormsToNotify[i].DataLoggerProgress();\n    }\n    isOnline() {\n        return this._online;\n    }\n    reloadConfig() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (this._online) {\n                let ison = yield this.sensor.isOnline();\n                if (ison) {\n                    try {\n                        this.unit = yield this.sensor.get_unit();\n                        this._friendlyname = yield this.sensor.get_friendlyName();\n                        this.resolution = yield this.sensor.get_resolution();\n                        this._frequency = yield this.sensor.get_reportFrequency();\n                        this._readonly = yield this.sensor.isReadOnly();\n                        if (this.dataLoggerFeature) {\n                            this._recording = (yield this.sensor.get_logFrequency()) != \"OFF\";\n                        }\n                        else {\n                            this._recording = false;\n                        }\n                        this.lastGetConfig = YoctoAPI.YAPI.GetTickCount();\n                        this.mustReloadConfig = false;\n                    }\n                    catch (e) {\n                        YoctoVisualization.logForm.log(\"reload configuration error: \" + e.message);\n                    }\n                }\n                else {\n                    this._online = false;\n                }\n            }\n        });\n    }\n    get_unit() {\n        if ((this.cfgChgNotificationsSupported) && (!this.mustReloadConfig))\n            return this.unit;\n        if ((this.lastGetConfig <= 0) || (YoctoAPI.YAPI.GetTickCount() - this.lastGetConfig > 5000))\n            this.reloadConfig().then();\n        return this.unit;\n    }\n    get_resolution() {\n        if ((this.cfgChgNotificationsSupported) && (!this.mustReloadConfig))\n            return this.resolution;\n        if ((this.lastGetConfig <= 0) || (YoctoAPI.YAPI.GetTickCount() - this.lastGetConfig > 5000))\n            this.reloadConfig().then();\n        return this.resolution;\n    }\n    loadDatalogger(start, stop) {\n        if (!this.dataLoggerFeature)\n            return;\n        if (this._predloadProcessIsBusy)\n            return;\n        if (this._loadProcessIsBusy)\n            return;\n        if (YoctoVisualization.constants.maxPointsPerDataloggerSerie < 0) {\n            YoctoVisualization.logForm.log(this.hwdName + \" : datalogger access is disabled\");\n            return;\n        }\n        /* if (this.isReadOnly)\n         {\n             YoctoVisualization.logForm.log(this.hwdName + \" is read only, cannot load the datalogger contents  (yes that's a bug)\");\n             return;\n         }\n        */\n        if ((!this.preloadDone) && this.dataLoggerFeature) {\n            YoctoVisualization.logForm.log(this.hwdName + \" : start datalogger preloading\");\n            this.preload_DoWork(new DataLoggerBoundary(start, stop)).then();\n        }\n    }\n    arrival(dataloggerOn) {\n        return __awaiter(this, void 0, void 0, function* () {\n            yield this.configureSensor();\n            this._online = true;\n            yield this.reloadConfig();\n            let dt = yield this.sensor.get_dataLogger();\n            if (dt == null)\n                return;\n            if (this.curData.length > 0) {\n                let end = yield dt.get_timeUTC();\n                let start = this.curData[this.curData.length - 1].DateTime;\n                let duration = end - start;\n                if (duration > 1) {\n                    YoctoVisualization.logForm.log(this.hwdName + \" is back online trying to load \" + duration.toFixed(3) + \" sec of data from datalogger \");\n                    this.loadDatalogger(start, end);\n                }\n            }\n            else {\n                this.loadDatalogger(0, yield dt.get_timeUTC());\n            }\n            if (this.isReadOnly)\n                YoctoVisualization.logForm.log(this.hwdName + \" is read only\");\n            this.notifySensorStateChange();\n        });\n    }\n    notifySensorStateChange() {\n        for (let i = 0; i < this.FormsToNotify.length; i++) {\n            this.FormsToNotify[i].SensorStateChangedcallback(this);\n        }\n    }\n    removal() {\n        this._online = false;\n        this.forceUpdate();\n        this.notifySensorStateChange();\n    }\n    configureSensor() {\n        return __awaiter(this, void 0, void 0, function* () {\n            YoctoVisualization.logForm.log(\"Configuring  \" + this.hwdName);\n            if (!(yield this.sensor.isOnline()))\n                return;\n            let mustSave = false;\n            let olfreq = yield this.sensor.get_logFrequency();\n            let orfreq = yield this.sensor.get_reportFrequency();\n            let readOnly = yield this.sensor.isReadOnly();\n            let lfreq = olfreq;\n            let rfreq = orfreq;\n            let m = yield this.sensor.get_module();\n            for (let i = 0; i < (yield m.functionCount()); i++) {\n                if ((yield m.functionType(i)) == \"DataLogger\") {\n                    this.dataLoggerFeature = true;\n                }\n            }\n            try {\n                if (this.dataLoggerFeature) {\n                    let m = yield this.sensor.get_module();\n                    let dl = YoctoAPI.YDataLogger.FindDataLogger((yield m.get_serialNumber()) + \".dataLogger\");\n                    let dataloggerOn = (yield dl.get_recording()) != YoctoAPI.YDataLogger.RECORDING_OFF;\n                    let dataloggerAS = (yield dl.get_autoStart()) != YoctoAPI.YDataLogger.AUTOSTART_OFF;\n                    if (!dataloggerOn) {\n                        lfreq = \"OFF\";\n                    }\n                    if (lfreq != \"OFF\") {\n                        rfreq = lfreq;\n                    }\n                    else if (rfreq == \"OFF\") {\n                        rfreq = \"1/s\";\n                    }\n                    if (lfreq != olfreq) {\n                        if (readOnly)\n                            throw new Error(this.hwdName + \" is read only, cannot change its logFrequency from \" + olfreq + \" to \" + lfreq);\n                        yield this.sensor.set_logFrequency(lfreq);\n                        mustSave = true;\n                    }\n                    if (rfreq != orfreq) {\n                        if (readOnly)\n                            throw new Error(this.hwdName + \" is read only, connot change its  reportFrequency from \" + orfreq + \" to \" + rfreq);\n                        yield this.sensor.set_reportFrequency(rfreq);\n                        mustSave = true;\n                    }\n                    if (lfreq != \"OFF\") {\n                        if (!dataloggerOn) {\n                            if (readOnly)\n                                throw new Error(this.hwdName + \" is read only, cannot change set its  datalogger recording to ON\");\n                            yield dl.set_recording(YoctoAPI.YDataLogger.RECORDING_ON);\n                        }\n                        if (!dataloggerAS) {\n                            if (readOnly)\n                                throw new Error(this.hwdName + \" is read only, cannot change set its datalogger autostart to ON\");\n                            yield dl.set_autoStart(YoctoAPI.YDataLogger.AUTOSTART_ON);\n                            mustSave = true;\n                        }\n                    }\n                }\n                else {\n                    lfreq = \"OFF\";\n                    if (rfreq == \"OFF\") {\n                        rfreq = \"1/s\";\n                        if (readOnly)\n                            throw new Error(this.hwdName + \" is read only, connot change is reportFrequency from OFF to \" + rfreq);\n                        yield this.sensor.set_reportFrequency(rfreq);\n                        mustSave = true;\n                    }\n                }\n                if (mustSave)\n                    yield m.saveToFlash();\n            }\n            catch (e) {\n                YoctoVisualization.logForm.log(\"failed to configure \" + this.hwdName + \"  (\" + e.message + \")\");\n            }\n            YoctoVisualization.logForm.log(\"registering timed callback for  \" + (yield this.sensor.get_hardwareId()));\n            yield this.sensor.registerTimedReportCallback((callbacksource, M) => { this.TimedCallback(callbacksource, M); });\n            this._recording = (lfreq != \"OFF\");\n            this._frequency = rfreq;\n        });\n    }\n    registerCallback(f) {\n        if (this.FormsToNotify.indexOf(f) >= 0)\n            return;\n        this.FormsToNotify.push(f);\n        return;\n    }\n    forceUpdate() {\n        this.TimedCallback(this.sensor, null).then();\n    }\n    TimedCallback(source, M) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (M != null) {\n                this._online = true;\n                let t = M.get_endTimeUTC();\n                // YoctoVisualization.logForm.log(await source.get_hardwareId() + \" :: TimedCallback : \" + t.toFixed(3));\n                if (this.firstLiveDataTimeStamp == 0)\n                    this.firstLiveDataTimeStamp = t;\n                if (t > this.lastDataTimeStamp) {\n                    this.lastDataTimeStamp = t;\n                    this.lastDataSource = \"last timedReport\";\n                    this.consecutiveBadTimeStamp = 0;\n                }\n                else {\n                    this.consecutiveBadTimeStamp++;\n                    if (this.consecutiveBadTimeStamp < 10) {\n                        YoctoVisualization.logForm.log(this.hwdName + \": ignoring bad timestamp \" + t.toFixed(3) + \" (previous \" + this.lastDataSource + \" at \" + this.lastDataTimeStamp.toFixed(3) + \")\");\n                    }\n                }\n                if ((this.consecutiveBadTimeStamp == 0) || (this.consecutiveBadTimeStamp >= 10)) {\n                    this._lastAvgValue = M.get_averageValue();\n                    this._lastMinValue = M.get_minValue();\n                    this._lastMaxValue = M.get_maxValue();\n                    this.curData.push(new TimedSensorValue(t, this._lastAvgValue));\n                    this.minData.push(new TimedSensorValue(t, this._lastMinValue));\n                    this.maxData.push(new TimedSensorValue(t, this._lastMaxValue));\n                    if (CustomYSensor._MaxDataRecords > 0)\n                        this.dataCleanUp();\n                }\n                for (let i = 0; i < this.Alarms.length; i++) {\n                    this.Alarms[i].check(M);\n                }\n            }\n            for (let i = 0; i < this.FormsToNotify.length; i++) {\n                this.FormsToNotify[i].SensorValuecallback(this, M);\n            }\n        });\n    }\n    forgetForm(source) {\n        for (let i = this.FormsToNotify.length - 1; i >= 0; i--) {\n            if (source == this.FormsToNotify[i]) {\n                this.FormsToNotify.splice(i, 1);\n            }\n        }\n    }\n    get_sensor() {\n        return this.sensor;\n    }\n    get_hardwareId() { return this.hwdName; }\n    get_friendlyName() {\n        return this._friendlyname;\n    }\n    toString() {\n        let name = this._friendlyname;\n        if (this._readonly)\n            name += \" (readonly)\";\n        if (this._online)\n            return name;\n        return name + \" (OFFLINE)\";\n    }\n}\nCustomYSensor._MaxDataRecords = 0;\nCustomYSensor._MaxLoggerRecords = 0;\nexport class NullYSensor extends CustomYSensor {\n    constructor() {\n        super(null, \"\", null);\n        this.hwdName = \"NOTAREALSENSOR\";\n        this._friendlyname = \"NOTAREALSENSOR\";\n    }\n    get_unit() { return \"\"; }\n    registerCallback(Form) { }\n    forceUpdate() { }\n    get_frequency() { return \"\"; }\n    set_frequency(frequencyToSet) { }\n    get_sensor() { return null; }\n    toString() { return \"(none)\"; }\n    setAlarmCondition(index, condition) { }\n    getAlarmCondition(index) { return 0; }\n    setAlarmValue(index, value) { }\n    getAlarmValue(index) { return 0; }\n    setAlarmDelay(index, value) { }\n    getAlarmDelay(index) { return 0; }\n    setAlarmCommandline(index, value) { }\n    getAlarmCommandline(index) { return \"\"; }\n}\nexport class sensorsManager {\n    static clearHublist() {\n        return __awaiter(this, void 0, void 0, function* () {\n            for (let i = sensorsManager._hubList.length - 1; i >= 0; i--) {\n                if (sensorsManager._hubList[i].removable) {\n                    yield YoctoAPI.YAPI.UnregisterHub(sensorsManager._hubList[i].get_fullUrl());\n                    sensorsManager._hubList.splice(i, 1);\n                }\n            }\n        });\n    }\n    static registerChangeCallback(changeCallback) { this._changeCallback = changeCallback; }\n    static registerChangeExternalCallback(changeCallback) { this._changeExternalCallback = changeCallback; }\n    static forgetForm(source) {\n        for (let i = 0; i < sensorsManager.sensorList.length; i++) {\n            sensorsManager.sensorList[i].forgetForm(source);\n        }\n    }\n    // load config data  from XML config file\n    static InitHubList(node) {\n        let nodes = node.get_childsByIndex();\n        for (let i = 0; i < nodes.length; i++) {\n            if (nodes[i].Name.toUpperCase() == \"HUB\") {\n                let h = Hub.HubFromXml(nodes[i]);\n                let alreadthere = false;\n                for (let j = 0; j < sensorsManager._hubList.length; j++) {\n                    if (h.get_connexionUrl() == sensorsManager._hubList[j].get_connexionUrl())\n                        alreadthere = true;\n                }\n                if (!alreadthere) {\n                    sensorsManager._hubList.push(h);\n                    h.Connect().then();\n                }\n            }\n        }\n    }\n    static get hubList() { return sensorsManager._hubList; }\n    static hubWasremoved(h) {\n        for (let i = sensorsManager._hubList.length - 1; i >= 0; i--) {\n            if (sensorsManager._hubList[i] == h)\n                sensorsManager._hubList.splice(i, 1);\n        }\n    }\n    static newHubCreated(h) {\n        let url = h.get_connexionUrl();\n        for (let i = 0; i < sensorsManager._hubList.length; i++) {\n            if (sensorsManager._hubList[i].get_connexionUrl() == url) {\n                alert(\"This connection already exists\");\n                return false;\n            }\n        }\n        sensorsManager._hubList.push(h);\n        return true;\n    }\n    static removeExtraInfoFromUrl(url) {\n        let it = new URL(url);\n        let res = it.hostname + it.pathname;\n        if (res.slice(0, 4).toLowerCase() === 'www.') {\n            res = res.slice(4);\n        }\n        return res;\n    }\n    static NetworkArrival(net) {\n        return __awaiter(this, void 0, void 0, function* () {\n            YoctoVisualization.logForm.log(\"Network device detected: \" + (yield net.get_hardwareId()));\n            let ip = yield net.get_ipAddress();\n            let netname = yield net.get_logicalName();\n            let module = yield net.get_module();\n            let loginame = yield module.get_logicalName();\n            let url = sensorsManager.removeExtraInfoFromUrl(yield module.get_url());\n            for (let i = 0; i < sensorsManager._hubList.length; i++) {\n                let str = sensorsManager.removeExtraInfoFromUrl(sensorsManager.hubList[i].get_fullUrl());\n                if (str == url) {\n                    sensorsManager.hubList[i].arrival(ip, netname, module, loginame);\n                }\n            }\n        });\n    }\n    //#ifndef READONLY\n    //    public static getXmlHublist(): string\n    //    {\n    //        let res: string = \"\";\n    //        for (let i: number = 0; i < sensorsManager._hubList.length; i++)\n    //        {\n    //            res += \"    \" + sensorsManager._hubList[i].XmlCode() + \"\\n\"\n    //        }\n    //        return res;\n    //    }\n    //\n    //    public static getXMLSensorsConfig(): string\n    //    {\n    //        let res: string = \"<Sensors>\\n\";\n    //        sensorsManager.sensorList.forEach((s: CustomYSensor) =>\n    //        {\n    //            if (!(s instanceof NullYSensor))\n    //            {\n    //                res = res + s.GetXmlData();\n    //            }\n    //        });\n    //        res = res + \"</Sensors>\\n\";\n    //        return res;\n    //    }\n    ////#endif\n    static setKnownSensors(sensorXMLList) {\n        this.KnownSensors = sensorXMLList;\n    }\n    static FindSensorLastLocalConfig(hwdId) {\n        let SensorConfig = null;\n        if (sensorsManager.KnownSensors != null) {\n            let childs = sensorsManager.KnownSensors.get_childsByIndex();\n            for (let i = 0; i < childs.length; i++) {\n                let node = childs[i];\n                if (node.Name == \"Sensor\") {\n                    let id = node.get_attributes()[\"ID\"];\n                    if (id == hwdId) {\n                        SensorConfig = node;\n                    }\n                }\n            }\n        }\n        return SensorConfig;\n    }\n    static deviceConfigChanged(m) {\n        return __awaiter(this, void 0, void 0, function* () {\n            YoctoVisualization.logForm.log(\"Configuration change on device  \" + (yield m.get_serialNumber()));\n            let serialprefix = (yield m.get_serialNumber()).substring(0, 8);\n            for (let i = 0; i < sensorsManager.sensorList.length; i++) {\n                if (sensorsManager.sensorList[i].get_hardwareId().substring(0, 8) == serialprefix) {\n                    yield sensorsManager.sensorList[i].ConfigHasChanged();\n                }\n            }\n            if (sensorsManager._changeCallback != null)\n                sensorsManager._changeCallback();\n            if (sensorsManager._changeExternalCallback != null) {\n                let data = yield sensorsManager._changeExternalCallback(m);\n                if (data != null)\n                    YoctoVisualization.YWebPage.ConfigChanged(data);\n            }\n        });\n    }\n    static deviceArrival(m) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                let count = yield m.functionCount();\n                let serial = yield m.get_serialNumber();\n                let luminosity = yield m.get_luminosity();\n                YoctoVisualization.logForm.log(\"--> Device Arrival \" + serial);\n                let recording = false;\n                // first loop to find network and datalogger settings\n                for (let i = 0; i < count; i++) {\n                    let ftype = yield m.functionType(i);\n                    let fid = yield m.functionId(i);\n                    if (ftype == \"Network\") {\n                        let net = yield YoctoAPI.YNetwork.FindNetwork(serial + \".\" + fid);\n                        yield YoctoVisualization.sensorsManager.NetworkArrival(net);\n                    }\n                    else if (ftype == \"DataLogger\") {\n                        let dlog = YoctoAPI.YDataLogger.FindDataLogger(serial + \".\" + fid);\n                        let state = yield dlog.get_recording();\n                        if ((state == YoctoAPI.YDataLogger.RECORDING_ON) || (state == YoctoAPI.YDataLogger.RECORDING_PENDING)) {\n                            recording = true;\n                        }\n                    }\n                }\n                // second loop to register all Sensors\n                for (let i = 0; i < count; i++) {\n                    let fbasetype = yield m.functionBaseType(i);\n                    let fid = yield m.functionId(i);\n                    if (fbasetype == \"Sensor\") {\n                        let hwdID = serial + \".\" + fid;\n                        YoctoVisualization.logForm.log(\"New sensor arrival: \" + hwdID);\n                        let found = false;\n                        for (let j = 0; j < sensorsManager.sensorList.length && !found; j++) {\n                            if (sensorsManager.sensorList[j].get_hardwareId() == hwdID) {\n                                found = true;\n                                yield sensorsManager.sensorList[j].arrival(recording);\n                            }\n                        }\n                        if (!found) {\n                            let s = YoctoAPI.YSensor.FindSensor(hwdID);\n                            let hwd = yield s.get_hardwareId();\n                            //if (s.isReadOnly()) LogManager.Log(hwd + \" is read only!\");\n                            let cs = new CustomYSensor(s, hwd, sensorsManager.FindSensorLastLocalConfig(hwd));\n                            sensorsManager.sensorList.push(cs); // put the sensor as possible in the array\n                            yield cs.configureSensor();\n                            //#ifndef READONLY\n                            //                        YoctoVisualization.YWebPage.refreshEditor() // will force a refresh the  editor sensor lists present in the editor\n                            //                        //#endif\n                            cs.notifySensorStateChange();\n                        }\n                    }\n                }\n                // register configuration change callback then tries to trigger a configuration\n                // change to check to the devices supports that feature\n                // (depends on firmware version)\n                yield m.registerConfigChangeCallback(sensorsManager.deviceConfigChanged);\n                /* Original version, not compatible with delayed processing in CloudHub:\n                try {\n                  await m.triggerConfigChangeCallback();\n                } catch (e) {}\n                Instead, we use setTimeout: */\n                setTimeout(() => { sensorsManager.deviceConfigChanged(m); }, 100);\n                if (sensorsManager._changeCallback != null)\n                    sensorsManager._changeCallback();\n            }\n            catch (e) {\n                YoctoVisualization.logForm.log(\"Device Arrival Error: \" + e.message);\n            }\n        });\n    }\n    static deviceRemoval(m) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let serial = yield m.get_serialNumber();\n            YoctoVisualization.logForm.log(\"Device removal \" + serial);\n            //StartForm.DeviceRemoval(serial);\n            sensorsManager.sensorList.forEach((alreadyThereSensor) => {\n                if (!(alreadyThereSensor instanceof NullYSensor)) {\n                    let hwd = alreadyThereSensor.get_hardwareId();\n                    if (hwd.length >= serial.length) {\n                        if (hwd.substring(0, serial.length) == serial) {\n                            alreadyThereSensor.removal();\n                        }\n                    }\n                }\n            });\n            if (sensorsManager._changeCallback != null)\n                sensorsManager._changeCallback();\n        });\n    }\n    static AddNewSensor(hwdID) {\n        for (let i = 0; i < sensorsManager.sensorList.length; i++) {\n            if (sensorsManager.sensorList[i] != null) {\n                if (sensorsManager.sensorList[i].get_hardwareId() == hwdID)\n                    return sensorsManager.sensorList[i];\n            }\n        }\n        let s = YoctoAPI.YSensor.FindSensor(hwdID);\n        let cs = new CustomYSensor(s, hwdID, sensorsManager.FindSensorLastLocalConfig(hwdID));\n        sensorsManager.sensorList.push(cs);\n        return cs;\n    }\n    static getNullSensor() {\n        return sensorsManager.NullSensor;\n    }\n    static UpdateDeviceList() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let err = new YoctoAPI.YErrorMsg();\n            if ((yield YoctoAPI.YAPI.UpdateDeviceList(err)) != YoctoAPI.YAPI_SUCCESS) {\n                YoctoVisualization.logForm.log(\"UpdateDeviceList failed :\" + err.msg);\n            }\n        });\n    }\n    static _runAsync() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let errmsg = new YoctoAPI.YErrorMsg();\n            yield YoctoAPI.YAPI.RegisterDeviceArrivalCallback((m) => { sensorsManager.deviceArrival(m); });\n            yield YoctoAPI.YAPI.RegisterDeviceRemovalCallback((m) => { sensorsManager.deviceRemoval(m); });\n            yield sensorsManager.UpdateDeviceList();\n            setInterval(() => { sensorsManager.UpdateDeviceList(); }, 2000);\n        });\n    }\n    static run() {\n        sensorsManager.NullSensor = new NullYSensor();\n        sensorsManager.sensorList = [];\n        sensorsManager.sensorList.push(sensorsManager.NullSensor);\n        this._runAsync().then();\n    }\n}\nsensorsManager.counter = 0;\nsensorsManager.KnownSensors = null; // sensors list picked up from XML configuration file\nsensorsManager._hubList = [];\nsensorsManager._changeCallback = null;\nsensorsManager._changeExternalCallback = null;\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Widgets (gauges, display, graph) manger\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as YDataRendering from \"./Renderer/YDataRendererFull.js\";\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nimport * as YoctoAPI from \"./YoctoApiFull.js\";\n//#ifndef READONLY\n//\n//class ResizeMoveHandle\n//  {   private static readonly HANDLESIZE: number = Math.round(20 * (1 + 2 * (YoctoVisualization.constants.guiDPIFactor - 1)));\n//      private static activeColor : string = \"lightgreen\";\n//      private static inactiveColor : string = \"grey\";\n//\n//      public  static RESIZEHANDLE_TOPLEFT      = 0;\n//      public  static RESIZEHANDLE_TOPCENTER    = 1;\n//      public  static RESIZEHANDLE_TOPRIGHT     = 2;\n//      public  static RESIZEHANDLE_CENTERRIGHT  = 3;\n//      public  static RESIZEHANDLE_BOTTOMRIGHT  = 4;\n//      public  static RESIZEHANDLE_BOTTOMCENTER = 5;\n//      public  static RESIZEHANDLE_BOTTOMLEFT   = 6;\n//      public  static RESIZEHANDLE_CENTERLEFT   = 7;\n//      public  static RESIZEHANDLE_CENTER       = 8;\n//\n//      public  static RESIZEHANDLE_data : number[][] =\n//        [[0,0,  0,7,  2,5,  7,10, 10,7,  5,2,  7,0   ],  // top left\n//            [6,0,  11,5,  8,5,  8,12, 4,12,  4,5,  1,5  ],  // top center\n//            [12,0, 12,7, 10,5, 5,10, 2,7,   7,2,  5,0   ],  // top right\n//            [12,6, 7,11, 7,8,  0,8,  0,4,   7,4,  7,1 ],   // center right\n//            [12,12,5,12, 7,10, 2,5,  5,2,   10,7,  12,5],   // bottom right\n//            [6,12, 1,7,  4,7,  4,0,  8,0,   8,7,  11,7],   // bottom center\n//            [0,12, 0,5,  2,7,  7,2,  10,5,   5,10,  7,12 ],  // bottom left\n//            [0,6,  5,1,  5,4,  12,4, 12,8,  5,8,  5,11],   // center left\n//            [6,0,  8,2,  7,2,  7,5, 10,5, 10,4,   12,6,   // center\n//                10,8, 10,7, 7,7,  7,10, 8,10, 6,12,\n//                4,10,  5,10,  5,7,  2,7, 2,8,  0,6,\n//                2,4,  2,5,  5,5,  5,2, 4,2]];\n//\n//      private index : number;\n//\n//      private container : HTMLElement\n//      private div : HTMLDivElement\n//\n//      private svg : SVGSVGElement\n//      private arrow : SVGPathElement\n//      private circle :  SVGCircleElement\n//      private isactive:boolean;\n//\n//      constructor(container : HTMLElement,  index :number, mouseDownListener : any, touchStartlistener : any )\n//      { this.index=index;\n//        this.container = container;\n//        this.isactive=false;\n//        this.div = document.createElement(\"DIV\") as HTMLDivElement;\n//        let size :number  = (ResizeMoveHandle.HANDLESIZE - 2);\n//        if (this.index==ResizeMoveHandle.RESIZEHANDLE_CENTER) size=size*2;\n//\n//          //  YWidget.editHandles[i].innerHTML = YoctoVisualization.ressources.resizeHandleSVGcode(i,size,false);\n//          this.div.style.position = \"absolute\";\n//          this.div.style.border = \"0px solid black\";\n//          this.div.style.background = \"transparent\";\n//          this.div.style.pointerEvents = \"auto\";\n//          this.div.style.width = size.toString() + \"px\";\n//          this.div.style.height = size.toString() + \"px\";\n//\n//          switch(index)\n//          { case  ResizeMoveHandle.RESIZEHANDLE_TOPLEFT :\n//                  this.div.style.cursor = \"nw-resize\"\n//                  this.div.style.left = \"0px\"\n//                  this.div.style.top = \"0px\"\n//                  break;\n//            case  ResizeMoveHandle.RESIZEHANDLE_TOPCENTER :\n//                  this.div.style.cursor = \"n-resize\"\n//                  this.div.style.top = \"0px\"\n//                  this.div.style.left = \"50%\"\n//                  this.div.style.transform = \"translate(-50%,0)\";\n//                  break;\n//              case ResizeMoveHandle.RESIZEHANDLE_TOPRIGHT:\n//                  this.div.style.cursor = \"ne-resize\"\n//                  this.div.style.right = \"0px\"\n//                  this.div.style.top = \"0px\"\n//                  break;\n//              case ResizeMoveHandle.RESIZEHANDLE_CENTERRIGHT:\n//                  this.div.style.cursor = \"e-resize\"\n//                  this.div.style.right = \"0px\"\n//                  this.div.style.top = \"50%\"\n//                  this.div.style.transform = \"translate(0,-50%)\";\n//                  break;\n//              case ResizeMoveHandle.RESIZEHANDLE_BOTTOMRIGHT :\n//                  this.div.style.cursor = \"se-resize\"\n//                  this.div.style.right = \"0px\"\n//                  this.div.style.bottom = \"0px\"\n//                  break;\n//              case    ResizeMoveHandle.RESIZEHANDLE_BOTTOMCENTER :\n//                  this.div.style.cursor = \"s-resize\"\n//                  this.div.style.bottom = \"0px\"\n//                  this.div.style.left = \"50%\"\n//                  this.div.style.transform = \"translate(-50%,0)\";\n//                  break;\n//              case ResizeMoveHandle.RESIZEHANDLE_BOTTOMLEFT :\n//\n//                  this.div.style.cursor = \"sw-resize\"\n//                  this.div.style.left = \"0px\"\n//                  this.div.style.bottom = \"0px\"\n//                  break;\n//              case ResizeMoveHandle.RESIZEHANDLE_CENTERLEFT:\n//                  this.div.style.cursor = \"w-resize\"\n//                  this.div.style.left = \"0px\"\n//                  this.div.style.top = \"50%\"\n//                  this.div.style.transform = \"translate(0,-50%)\";\n//                  break;\n//              case ResizeMoveHandle.RESIZEHANDLE_CENTER :\n//                  this.div.style.cursor = \"move\"\n//                  this.div.style.left = \"50%\"\n//                  this.div.style.top = \"50%\"\n//                  this.div.style.transform = \"translate(-50%,-50%)\";\n//                  break;\n//          }\n//\n//          this.container.appendChild(this.div);\n//          this.div.addEventListener(\"mousedown\", mouseDownListener);\n//          this.div.addEventListener(\"touchstart\",touchStartlistener  )\n//\n//\n//          this.svg= document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n//          this.svg.setAttribute(\"viewBox\", \"0 0 \"+size+\" \"+size);\n//          this.svg.setAttribute(\"version\", \"1.1\");\n//          this.svg.setAttribute(\"width\", size.toString());\n//          this.svg.setAttribute(\"height\", size.toString());\n//\n//\n//          let x : number =0;\n//          let y : number =0;\n//          let r : number=size;\n//          switch (this.index)\n//          {  case  ResizeMoveHandle.RESIZEHANDLE_TOPLEFT : break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_TOPCENTER  : x = size/2;break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_TOPRIGHT     : x=size;break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_CENTERRIGHT  : x=size; y=size/2;break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_BOTTOMRIGHT  : x=size;y=size;break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_BOTTOMCENTER : x=size/2; y=size; break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_BOTTOMLEFT   : y=size; break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_CENTERLEFT   : y=size/2; break;\n//              case  ResizeMoveHandle.RESIZEHANDLE_CENTER       :  x=size/2;  y=size/2; r=size/2;break;\n//\n//          }\n//\n//          this.circle = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n//          this.circle.setAttribute(\"cx\" , x.toString()  )\n//          this.circle.setAttribute(\"cy\" , y.toString()  )\n//          this.circle.setAttribute(\"r\" , r.toString()  )\n//          this.circle.setAttribute(\"style\" , \"fill:white\"  )\n//          this.circle.setAttribute(\"opacity\" , \"0.75\"  )\n//          this.svg.appendChild( this.circle);\n//\n//          this.arrow= document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n//          let d :string = \"\";\n//          for (let i :number=0;i<ResizeMoveHandle.RESIZEHANDLE_data[index].length>>1;i++)\n//          {   let x :number  = 1+ ((size-2)*ResizeMoveHandle.RESIZEHANDLE_data[index][i<<1]) /12.0;\n//              let y :number  = 1+ ((size-2)*ResizeMoveHandle.RESIZEHANDLE_data[index][1+(i<<1)])/12.0;\n//\n//              d += i==0?'M ':'L '\n//              d += Math.round(x ).toString() +\" \"+  Math.round(y).toString()+ \" \";\n//          }\n//          d +='z';\n//          this.arrow.setAttribute(\"d\" , d )\n//          this.arrow.setAttribute(\"fill\" , ResizeMoveHandle.inactiveColor )\n//          this.svg.appendChild( this.arrow);\n//          this.div.appendChild(this.svg);\n//          this.container.appendChild(this.div);\n//\n//\n//\n//      }\n//\n//     public get active() :boolean { return this.isactive;}\n//     public set active(value:boolean)\n//     {  if (value!=this.isactive)\n//        { this.isactive = value;\n//            this.arrow.setAttribute(\"fill\" , this.active?ResizeMoveHandle.activeColor:ResizeMoveHandle.inactiveColor )\n//\n//       }\n//     }\n//  }\n////#endif\nexport class YWidget {\n    static log(st) { YoctoVisualization.logForm.log(st); }\n    SourceChanged(src, index) { }\n    showRecordedDatachanged() { }\n    //#ifndef READONLY\n    //    public delete(): void\n    //    {\n    //        this.editStopped();\n    //        YoctoVisualization.sensorsManager.forgetForm(this)\n    //        this.destroy();\n    //    }\n    //\n    //    public get confirmDeleteString(): string { return \"not defined\";}\n    ////#endif\n    snapshot() {\n        let w = 1024;\n        let h = 1024;\n        let ratio = this.UIContainer.offsetHeight != 0 ? this.UIContainer.offsetWidth / this.UIContainer.offsetHeight : 1;\n        switch (YoctoVisualization.constants.captureSizePolicy) {\n            case YDataRendering.YDataRenderer.CaptureFormats.Keep:\n                w = this.UIContainer.offsetWidth;\n                h = this.UIContainer.offsetHeight;\n                break;\n            case YDataRendering.YDataRenderer.CaptureFormats.FixedHeight:\n                h = YoctoVisualization.constants.captureHeight;\n                w = h * ratio;\n                break;\n            case YDataRendering.YDataRenderer.CaptureFormats.FixedWidth:\n                w = YoctoVisualization.constants.captureWidth;\n                h = w / ratio;\n                break;\n            case YDataRendering.YDataRenderer.CaptureFormats.Fixed:\n                w = YoctoVisualization.constants.captureWidth;\n                h = YoctoVisualization.constants.captureHeight;\n                break;\n        }\n        this._genRenderer.captureAndDownloadImage(YoctoVisualization.constants.captureType, \"\", w, h, YoctoVisualization.constants.captureDPI);\n    }\n    get BackColor() { return this._BackColor; }\n    set BackColor(value) {\n        this._BackColor = value;\n        this.UIContainer.style.backgroundColor = this._BackColor.htmlCode;\n    }\n    get BorderColor() { return this._BorderColor; }\n    set BorderColor(value) {\n        this._BorderColor = value;\n        this.UIContainer.style.border = \"1px solid \" + this._BorderColor.htmlCode;\n    }\n    get parentWidth() {\n        if ((this.UIContainer.parentNode == document.body) || (this.UIContainer.parentNode == null))\n            return window.innerWidth;\n        return this.UIContainer.parentNode.clientWidth;\n    }\n    get parentHeight() {\n        if ((this.UIContainer.parentNode == document.body) || (this.UIContainer.parentNode == null))\n            return window.innerHeight;\n        return this.UIContainer.parentNode.clientHeight;\n    }\n    get relativePositionX() {\n        if (this._SizeIsRelative)\n            return this._relativePositionX;\n        return this.sizeRound(100 * this.UIContainer.offsetLeft / this.parentWidth);\n    }\n    set relativePositionX(value) {\n        this._relativePositionX = value;\n        this._PositionX = Math.round(value * this.parentWidth / 100);\n    }\n    set relativePositionY(value) {\n        this._relativePositionY = value;\n        this._PositionY = Math.round(value * this.parentHeight / 100);\n    }\n    get relativePositionY() {\n        if (this._SizeIsRelative)\n            return this._relativePositionY;\n        return this.sizeRound(100 * this.UIContainer.offsetTop / this.parentHeight);\n    }\n    get PositionX() {\n        if (this._SizeIsRelative)\n            return this.relativePositionX;\n        return this.UIContainer.offsetLeft;\n    }\n    set PositionX(value) {\n        if (this._SizeIsRelative)\n            this.relativePositionX = value;\n        else\n            this._PositionX = value;\n        this.UIContainer.style.left = this._PositionX.toString() + \"px\";\n        //#ifndef READONLY\n        //        this.DrawHandles(this.UIContainer.offsetLeft, this.UIContainer.offsetTop,\n        //            this.UIContainer.offsetWidth, this.UIContainer.offsetHeight);\n        ////#endif\n    }\n    get PositionY() {\n        if (this._SizeIsRelative)\n            return this.relativePositionY;\n        return this.UIContainer.offsetTop;\n    }\n    set PositionY(value) {\n        if (this._SizeIsRelative)\n            this.relativePositionY = value;\n        else\n            this._PositionY = value;\n        this.UIContainer.style.top = this._PositionY.toString() + \"px\";\n        //#ifndef READONLY\n        //        this.DrawHandles(this.UIContainer.offsetLeft, this.UIContainer.offsetTop,\n        //            this.UIContainer.offsetWidth, this.UIContainer.offsetHeight);\n        ////#endif\n    }\n    sizeRound(v) { return Math.round(100 * v) / 100; }\n    get relativeWidth() {\n        if (this._SizeIsRelative)\n            return this._relativeWidth;\n        return this.sizeRound(100 * this.UIContainer.offsetWidth / this.parentWidth);\n    }\n    set relativeWidth(value) {\n        if (value <= 0)\n            throw \"Value must be strictly positive\";\n        this._relativeWidth = value;\n        this._Width = Math.round(value * this.parentWidth / 100);\n    }\n    set relativeHeight(value) {\n        if (value <= 0)\n            throw \"Value must be strictly positive\";\n        this._relativeHeight = value;\n        this._Height = Math.round(value * this.parentHeight / 100);\n    }\n    get relativeHeight() {\n        if (this._SizeIsRelative)\n            return this._relativeHeight;\n        return this.sizeRound(100 * this.UIContainer.offsetHeight / this.parentHeight);\n    }\n    updateRelativeSize() {\n        if (Math.abs((this._relativeWidth * this.parentWidth / 100) - this.UIContainer.offsetWidth) > 1)\n            this._relativeWidth = this.sizeRound(100 * this.UIContainer.offsetWidth / this.parentWidth);\n        if (Math.abs((this._relativeHeight * this.parentHeight / 100) - this.UIContainer.offsetHeight) > 1)\n            this._relativeHeight = this.sizeRound(100 * this.UIContainer.offsetHeight / this.parentHeight);\n        if (Math.abs((this._relativePositionX * this.parentWidth / 100) - this.UIContainer.offsetLeft) > 1)\n            this._relativePositionX = this.sizeRound(100 * this.UIContainer.offsetLeft / this.parentWidth);\n        if (Math.abs((this._relativePositionY * this.parentHeight / 100) - this.UIContainer.offsetTop) > 1)\n            this._relativePositionY = this.sizeRound(100 * this.UIContainer.offsetTop / this.parentHeight);\n    }\n    get Width() {\n        if (this._SizeIsRelative)\n            return this.relativeWidth;\n        else\n            return this.UIContainer.offsetWidth;\n    }\n    set Width(value) {\n        if (value <= 0)\n            throw \"Value must be strictly positive\";\n        if (this._SizeIsRelative)\n            this.relativeWidth = value;\n        else\n            this._Width = value;\n        this.UIContainer.style.width = (this._Width - 2).toString() + \"px\";\n        this.UIContainer.width = this._Width - 2;\n        if (this._genRenderer != null)\n            this._genRenderer.clearTransformationMatrix();\n        //#ifndef READONLY\n        //        this.DrawHandles(this.UIContainer.offsetLeft, this.UIContainer.offsetTop,\n        //            this.UIContainer.offsetWidth, this.UIContainer.offsetHeight);\n        ////#endif\n        this.containerResized();\n    }\n    get Height() {\n        if (this._SizeIsRelative)\n            return this.relativeHeight;\n        else\n            return this.UIContainer.offsetHeight;\n    }\n    set Height(value) {\n        if (value <= 0)\n            throw \"Value must be strictly positive\";\n        if (this._SizeIsRelative)\n            this.relativeHeight = value;\n        else\n            this._Height = value;\n        this.UIContainer.style.height = (this._Height - 2).toString() + \"px\";\n        this.UIContainer.height = (this._Height - 2);\n        if (this._genRenderer != null)\n            this._genRenderer.clearTransformationMatrix();\n        //#ifndef READONLY\n        //        this.DrawHandles(this.UIContainer.offsetLeft, this.UIContainer.offsetTop,\n        //            this.UIContainer.offsetWidth, this.UIContainer.offsetHeight);\n        ////#endif\n        this.containerResized();\n    }\n    get SizeIsRelative() { return this._SizeIsRelative; }\n    set SizeIsRelative(value) {\n        if (this._SizeIsRelative != value) {\n            this._SizeIsRelative = value;\n            if (this._SizeIsRelative) {\n                this._relativePositionX = this.sizeRound(100 * this.UIContainer.offsetLeft / this.parentWidth);\n                this._relativePositionY = this.sizeRound(100 * this.UIContainer.offsetTop / this.parentHeight);\n                this._relativeWidth = this.sizeRound(100 * this.UIContainer.offsetWidth / this.parentWidth);\n                this._relativeHeight = this.sizeRound(100 * this.UIContainer.offsetHeight / this.parentHeight);\n            }\n            this.windowResized();\n        }\n    }\n    get containerID() { return this._containerID; }\n    set containerID(value) {\n        if (this._containerID == value)\n            return;\n        let target = (value != \"\") ? document.getElementById(value) : null;\n        if ((value != \"\") && (target == null))\n            throw \"No HTMLElement on the page with such ID (\" + value + \")\";\n        if (this.UIContainer.parentNode != null) {\n            this.UIContainer.parentNode.removeChild(this.UIContainer);\n        }\n        else {\n            document.body.removeChild(this.UIContainer);\n        }\n        if (target != null) {\n            target.insertBefore(this.UIContainer, target.firstChild);\n        }\n        else {\n            document.body.insertBefore(this.UIContainer, document.body.firstChild);\n        }\n        this._genRenderer.clearTransformationMatrix();\n        this.windowResized();\n        //#ifndef READONLY\n        //        // move the   handles as well\n        //        this.DrawHandles(this.UIContainer.offsetLeft, this.UIContainer.offsetTop, this.UIContainer.offsetWidth, this.UIContainer.offsetHeight);\n        ////#endif\n        this._containerID = value;\n    }\n    get Text() { return this._Text; }\n    set Text(value) {\n        this._Text = value;\n        this.UIContainer.title = value;\n    }\n    set_name(name) {\n        this.Text = name;\n        this._genProp.Form_Text = name;\n    }\n    windowResized() {\n        this._genRenderer.DisableRedraw();\n        if (this._SizeIsRelative) {\n            this.PositionX = this._relativePositionX;\n            this.PositionY = this._relativePositionY;\n            this.Height = this._relativeHeight; // will force to recompute the widget absolute size redraw it\n            this.Width = this._relativeWidth;\n        }\n        this.containerResized();\n        this._genRenderer.AllowRedraw();\n    }\n    ApplyRelativeSizeIfRequired() {\n        if (this._initialContainerID != \"\") {\n            if (document.getElementById(this._initialContainerID) != null) {\n                this.containerID = this._initialContainerID;\n            }\n            else {\n                YoctoVisualization.logForm.log(\"Warning: cannot place widget in \\\"\" + this._initialContainerID + \"\\\" : no such HTML element.\");\n            }\n        }\n        this._SizeIsRelative = this._InitialSizeIsRelative;\n        this.windowResized();\n    }\n    destroy() {\n        window.removeEventListener('resize', this._windowResizeCallback);\n        this._genRenderer.destroy();\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    getContainerOffset() {\n        let it = this.UIContainer.offsetParent;\n        let absx = 0;\n        let absy = 0;\n        while (it) {\n            absy += it.offsetTop;\n            absx += it.offsetLeft;\n            it = it.offsetParent; // ugly cast, but it should work once compiled\n        }\n        return new YDataRendering.pointXY(absx, absy);\n    }\n    contextMenuCallBack(mouseX, mouseY) {\n        let p = this._genRenderer.Scr2ElmMatrix.multiplyByV(YDataRendering.Vector3.FromXYCoord(mouseX, mouseY)).toPoint();\n        if ((p.X >= 0) && (p.X <= this.UIContainer.offsetWidth)\n            && (p.Y >= 0) && (p.Y <= this.UIContainer.offsetHeight)) {\n            this.contextMenuIsOpening();\n        }\n    }\n    contextMenuIsOpening() { }\n    constructor(node, editor, default_x, default_y, default_width, default_height) {\n        this._genProp = null;\n        this._genRenderer = null;\n        this._BackColor = YDataRendering.YColor.Transparent;\n        this._BorderColor = YDataRendering.YColor.Gray;\n        this._relativePositionX = 0;\n        this._relativePositionY = 0;\n        this._PositionX = 0;\n        this._PositionY = 0;\n        this._relativeWidth = 100;\n        this._relativeHeight = 100;\n        this._Width = 300;\n        this._Height = 0;\n        this._InitialSizeIsRelative = false;\n        this._SizeIsRelative = false;\n        this._initialContainerID = \"\";\n        this._containerID = \"\";\n        this._Text = \"\";\n        let left = typeof (default_x) != \"undefined\" ? default_x : 0;\n        let top = typeof (default_y) != \"undefined\" ? default_y : 0;\n        let width = typeof (default_width) != \"undefined\" ? default_width : 0;\n        let height = typeof (default_height) != \"undefined\" ? default_height : 0;\n        let bottom = Number.NaN;\n        let right = Number.NaN;\n        if (node != null) {\n            let childnodes = node.get_childsByName();\n            if (\"location\" in childnodes) {\n                let it = childnodes[\"location\"];\n                let attributes = it.get_attributes();\n                if (\"x\" in attributes)\n                    left = parseInt(attributes[\"x\"]);\n                if (\"y\" in attributes)\n                    top = parseInt(attributes[\"y\"]);\n            }\n            if (\"size\" in childnodes) {\n                let it = childnodes[\"size\"];\n                let attributes = it.get_attributes();\n                if (\"w\" in attributes)\n                    width = parseInt(attributes[\"w\"]);\n                if (\"h\" in attributes)\n                    height = parseInt(attributes[\"h\"]);\n            }\n            if (\"relativeCoord\" in childnodes) {\n                let it = childnodes[\"relativeCoord\"];\n                let attributes = it.get_attributes();\n                if (\"x\" in attributes)\n                    this._relativePositionX = this.sizeRound(parseFloat(attributes[\"x\"]));\n                if (\"y\" in attributes)\n                    this._relativePositionY = this.sizeRound(parseFloat(attributes[\"y\"]));\n                if (\"w\" in attributes)\n                    this._relativeWidth = this.sizeRound(parseFloat(attributes[\"w\"]));\n                if (\"h\" in attributes)\n                    this._relativeHeight = this.sizeRound(parseFloat(attributes[\"h\"]));\n                if (\"active\" in attributes)\n                    this._InitialSizeIsRelative = attributes[\"active\"].toUpperCase() == \"TRUE\";\n            }\n            if (\"container\" in childnodes) {\n                let it = childnodes[\"container\"];\n                let attributes = it.get_attributes();\n                if (\"id\" in attributes)\n                    this._initialContainerID = attributes[\"id\"];\n            }\n        }\n        this.UIContainer = document.createElement(\"CANVAS\");\n        this.UIContainer.style.position = \"absolute\";\n        //#ifndef READONLY\n        //        YWidget.currentEdited = null;\n        //        //#endif\n        let h = window.innerHeight;\n        let w = window.innerWidth;\n        this.PositionX = this._InitialSizeIsRelative ? Math.round(w * (this._relativePositionX / 100)) : left;\n        this.PositionY = this._InitialSizeIsRelative ? Math.round(h * (this._relativePositionY / 100)) : top;\n        this.Width = this._InitialSizeIsRelative ? Math.round(w * (this._relativeWidth / 100)) : width;\n        this.Height = this._InitialSizeIsRelative ? Math.round(h * (this._relativeWidth / 100)) : height;\n        this.UIContainer.style.border = \"1px solid black\";\n        this.UIContainer.style.backgroundColor = this._BackColor.htmlCode;\n        this.UIContainer.setAttribute(\"name\", \"YoctoVisualizationWidget\");\n        document.body.appendChild(this.UIContainer);\n        this._windowResizeCallback = () => (this.windowResized());\n        window.addEventListener('resize', this._windowResizeCallback);\n    }\n    rearrangeZindexes() {\n        let containers = document.getElementsByName(\"YoctoVisualizationWidget\");\n        let n = 0;\n        for (let i = 0; i < containers.length; i++) {\n            if (containers[i] != this.UIContainer) {\n                containers[i].style.zIndex = n.toString();\n                n++;\n            }\n        }\n        this.UIContainer.style.zIndex = n.toString();\n        //#ifndef READONLY\n        //        n++;\n        //        YWidget.HandlesDiv.style.zIndex = n.toString();\n        ////#endif\n    }\n    SensorStateChangedcallback(source) {\n        //#ifndef READONLY\n        //        if (YWidget.currentEdited == this)\n        //        {\n        //            YoctoVisualization.YWebPage.refreshEditor()\n        //        }\n        //        //#endif\n    }\n    SensorValuecallback(source, M) {\n    }\n    //#ifndef READONLY\n    //    private static readonly HANDLESIZE: number = Math.round(20 * (1 + 2 * (YoctoVisualization.constants.guiDPIFactor - 1)));   // TO delete eventually\n    //    private static HandlesDiv: HTMLDivElement;\n    //\n    //    /*private static editHandles: HTMLDivElement[] = [];\n    //    private static TopLeftHandle: HTMLDivElement;\n    //    private static TopHandleHandle: HTMLDivElement;\n    //    private static TopRightHandle: HTMLDivElement;\n    //    private static RightHandle: HTMLDivElement;\n    //    private static BottomRightHandle: HTMLDivElement;\n    //    private static BottomHandle: HTMLDivElement;\n    //    private static BottomLeftHandle: HTMLDivElement;\n    //    private static LeftHandle: HTMLDivElement;\n    //    private static CenterHandle: HTMLDivElement;*/\n    //\n    //    private static editHandles: ResizeMoveHandle[] =[];\n    //\n    //    private resizeCaptureRunning: boolean = false;\n    //    private resizeCaptureXOrigineMouse: number = 0;\n    //    private resizeCaptureYOrigineMouse: number = 0;\n    //    private resizeCaptureXOrigine: number = 0;\n    //    private resizeCaptureYOrigine: number = 0;\n    //    private resizeCaptureOriginalTop: number = 0;\n    //    private resizeCaptureOriginalLeft: number = 0;\n    //    private resizeCaptureOriginalWidth: number = 0;\n    //    private resizeCaptureOriginalHeight: number = 0;\n    //    private resizeCaptureHandleIndex: number = 0;\n    //    private resizeCaptureOriginalMatrix: YDataRendering.Matrix3x3 | null = null;\n    //    private resizeCaptureOriginalMatrixInv: YDataRendering.Matrix3x3 | null = null;\n    //\n    //    private static currentEdited: YWidget | null = null;\n    //\n    //    public get isBeingEdited(): boolean\n    //    { return YWidget.currentEdited == this;}\n    //\n    //    public static stopEdition()\n    //    {\n    //        if (YWidget.currentEdited != null)\n    //        {\n    //            YWidget.currentEdited.editStopped();\n    //            YWidget.currentEdited = null;\n    //        }\n    //    }\n    //\n    //    protected refreshProperties() {}\n    //\n    //    public edit(): void\n    //    {\n    //        YWidget.stopEdition()\n    //        YWidget.currentEdited = this;\n    //        if (YWidget.editHandles.length <= 0)\n    //        {   YWidget.HandlesDiv = document.createElement(\"DIV\") as HTMLDivElement;\n    //\n    //\n    //\n    //            YWidget.HandlesDiv.style.position = \"absolute\";\n    //            YWidget.HandlesDiv.style.left = \"0px\";\n    //            YWidget.HandlesDiv.style.top = \"0px\";\n    //            YWidget.HandlesDiv.style.backgroundColor = \"transparent\";\n    //            YWidget.HandlesDiv.style.transformOrigin = \"top left\";\n    //            YWidget.HandlesDiv.style.pointerEvents = \"none\";\n    //\n    //            for (let i =0;i<9;i++)\n    //            {  YWidget.editHandles.push(new ResizeMoveHandle(YWidget.HandlesDiv,  i,\n    //                  (e: MouseEvent) =>\n    //                    {if (YWidget.currentEdited != null)\n    //                      YWidget.currentEdited.mouseStartCapture(e, i);\n    //                    },\n    //    (e: TouchEvent) =>\n    //                  {if (YWidget.currentEdited != null)\n    //                  {\n    //                      YWidget.currentEdited.touchStartCapture(e, i);\n    //                  }}))\n    //            }\n    //\n    ///*\n    //            YWidget.TopLeftHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.TopLeftHandle);\n    //            YWidget.TopHandleHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.TopHandleHandle);\n    //            YWidget.TopRightHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.TopRightHandle);\n    //            YWidget.RightHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.RightHandle);\n    //            YWidget.BottomRightHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.BottomRightHandle);\n    //            YWidget.BottomHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.BottomHandle);\n    //            YWidget.BottomLeftHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.BottomLeftHandle);\n    //            YWidget.LeftHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.LeftHandle);\n    //            YWidget.CenterHandle = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWidget.editHandles.push(YWidget.CenterHandle);\n    //            for (let i: number = 0; i < YWidget.editHandles.length; i++)\n    //            {   let size :number  = (YWidget.HANDLESIZE - 2);\n    //                if (i==YWidget.editHandles.length-1) size=size*2;\n    //              //  YWidget.editHandles[i].innerHTML = YoctoVisualization.ressources.resizeHandleSVGcode(i,size,false);\n    //                YWidget.editHandles[i].style.position = \"absolute\";\n    //                YWidget.editHandles[i].style.border = \"1px solid black\";\n    //                YWidget.editHandles[i].style.background = \"white\";\n    //                YWidget.editHandles[i].style.pointerEvents = \"auto\";\n    //                YWidget.editHandles[i].style.width = size.toString() + \"px\";\n    //                YWidget.editHandles[i].style.height = size.toString() + \"px\";\n    //\n    //                YWidget.HandlesDiv.appendChild(YWidget.editHandles[i]);\n    //                YWidget.editHandles[i].addEventListener(\"mousedown\", (e: MouseEvent) =>\n    //                {if (YWidget.currentEdited != null)\n    //                    YWidget.currentEdited.mouseStartCapture(e, i);\n    //                });\n    //                YWidget.editHandles[i].addEventListener(\"touchstart\", (e: TouchEvent) =>\n    //                  {if (YWidget.currentEdited != null)\n    //                  {   console.log(\"touchstart\")\n    //                      YWidget.currentEdited.touchStartCapture(e, i);\n    //                  }});\n    //            }\n    //\n    //            YWidget.TopLeftHandle.style.cursor = \"nw-resize\"\n    //            YWidget.TopLeftHandle.style.left = \"0px\"\n    //            YWidget.TopLeftHandle.style.top = \"0px\"\n    //\n    //            YWidget.TopHandleHandle.style.cursor = \"n-resize\"\n    //            YWidget.TopHandleHandle.style.top = \"0px\"\n    //            YWidget.TopHandleHandle.style.left = \"50%\"\n    //            YWidget.TopHandleHandle.style.transform = \"translate(-50%,0)\";\n    //\n    //            YWidget.TopRightHandle.style.cursor = \"ne-resize\"\n    //            YWidget.TopRightHandle.style.right = \"0px\"\n    //            YWidget.TopRightHandle.style.top = \"0px\"\n    //\n    //            YWidget.RightHandle.style.cursor = \"e-resize\"\n    //            YWidget.RightHandle.style.right = \"0px\"\n    //            YWidget.RightHandle.style.top = \"50%\"\n    //            YWidget.RightHandle.style.transform = \"translate(0,-50%)\";\n    //\n    //            YWidget.BottomRightHandle.style.cursor = \"se-resize\"\n    //            YWidget.BottomRightHandle.style.right = \"0px\"\n    //            YWidget.BottomRightHandle.style.bottom = \"0px\"\n    //\n    //            YWidget.BottomHandle.style.cursor = \"s-resize\"\n    //            YWidget.BottomHandle.style.bottom = \"0px\"\n    //            YWidget.BottomHandle.style.left = \"50%\"\n    //            YWidget.BottomHandle.style.transform = \"translate(-50%,0)\";\n    //\n    //            YWidget.BottomLeftHandle.style.cursor = \"sw-resize\"\n    //            YWidget.BottomLeftHandle.style.left = \"0px\"\n    //            YWidget.BottomLeftHandle.style.bottom = \"0px\"\n    //\n    //            YWidget.LeftHandle.style.cursor = \"w-resize\"\n    //            YWidget.LeftHandle.style.left = \"0px\"\n    //            YWidget.LeftHandle.style.top = \"50%\"\n    //            YWidget.LeftHandle.style.transform = \"translate(0,-50%)\";\n    //\n    //            YWidget.CenterHandle.style.cursor = \"move\"\n    //            YWidget.CenterHandle.style.left = \"50%\"\n    //            YWidget.CenterHandle.style.top = \"50%\"\n    //            YWidget.CenterHandle.style.transform = \"translate(-50%,-50%)\";\n    //*/\n    //            document.body.appendChild(YWidget.HandlesDiv);\n    //\n    //\n    //\n    //\n    //            document.addEventListener(\"touchmove\", (e: TouchEvent) =>\n    //            {\n    //                if (YWidget.currentEdited != null)\n    //                  YWidget.currentEdited.touchCaptureRun(e);\n    //            },{passive:false});\n    //            document.addEventListener(\"touchend\", (e: TouchEvent) => {if (YWidget.currentEdited != null) YWidget.currentEdited.touchCaptureStop(e);},{passive:false});\n    //            document.addEventListener(\"mousemove\", (e: MouseEvent) => { if (YWidget.currentEdited != null) YWidget.currentEdited.mouseCaptureRun(e);},{passive:false})\n    //            document.addEventListener(\"mouseup\", (e: MouseEvent) => {if (YWidget.currentEdited != null) YWidget.currentEdited.mouseCaptureStop(e);},{passive:false})\n    //        }\n    //        this.DrawHandles(this.UIContainer.offsetLeft, this.UIContainer.offsetTop, this.UIContainer.offsetWidth, this.UIContainer.offsetHeight);\n    //        YWidget.HandlesDiv.style.display = \"\";\n    //        this.rearrangeZindexes();\n    //\n    //    }\n    //\n    //    private DrawHandles(offsetLeft: number, offsetTop: number, offsetWidth: number, offsetHeight: number): void\n    //    {\n    //        if (YWidget.currentEdited == null) return;\n    //        if (YWidget.editHandles.length<=0) return;\n    //        YWidget.HandlesDiv.style.width = offsetWidth.toString() + \"px\";\n    //        YWidget.HandlesDiv.style.height = offsetHeight.toString() + \"px\";\n    //        if (this._genRenderer == null) debugger\n    //        let borderWidth: number = parseFloat(this.UIContainer.style.border);\n    //        let borderMatrix: YDataRendering.Matrix3x3 = YDataRendering.Matrix3x3.newTranslateMatrix(-borderWidth, -borderWidth); // border compensation matrix\n    //\n    //        YWidget.HandlesDiv.style.transform = borderMatrix.multiplyByM((<YDataRendering.YDataRenderer>this._genRenderer).Elm2ScrMatrix).toCSS();\n    //        YWidget.HandlesDiv.style.transform = \"top left\";\n    //\n    //    }\n    //    //#endif\n    updateWindowPositionProperties(prop) {\n        prop.Form_PositionX = this.PositionX;\n        prop.Form_PositionY = this.PositionY;\n        prop.Form_Width = this.Width;\n        prop.Form_Height = this.Height;\n    }\n    //#ifndef READONLY\n    //\n    //    private previousTRansform: string = \"\";\n    //    private previousWidth: number = 0;\n    //    private previousHeight: number = 0;\n    //\n    //    private touchStartCapture(e: TouchEvent, handleIndex: number)\n    //    {\n    //        if (e.touches.length == 1)\n    //        {\n    //\n    //            this.handleMouseStartCapture(e.touches[0].pageX, e.touches[0].pageY, handleIndex);\n    //            e.preventDefault();\n    //        }\n    //    }\n    //\n    //    private mouseStartCapture(e: MouseEvent, handleIndex: number)\n    //    {\n    //        if (e.button != 0) return;\n    //        this.handleMouseStartCapture(e.pageX, e.pageY, handleIndex)\n    //    }\n    //\n    //    private handleMouseStartCapture(pageX: number, pageY: number, handleIndex: number)\n    //    {\n    //        this.resizeCaptureOriginalMatrix = (<YDataRendering.YDataRenderer>this._genRenderer).Scr2ElmMatrix;\n    //        this.resizeCaptureOriginalMatrixInv = (<YDataRendering.YDataRenderer>this._genRenderer).Elm2ScrMatrix;\n    //        let p: YDataRendering.Point = this.resizeCaptureOriginalMatrix.multiplyByV(YDataRendering.Vector3.FromXYCoord(pageX, pageY)).toPoint();\n    //        this.resizeCaptureRunning = true;\n    //        this.resizeCaptureXOrigine = p.X;\n    //        this.resizeCaptureYOrigine = p.Y;\n    //        this.resizeCaptureOriginalLeft = this.UIContainer.offsetLeft;\n    //        this.resizeCaptureOriginalTop = this.UIContainer.offsetTop;\n    //        this.resizeCaptureOriginalWidth = this.UIContainer.offsetWidth;\n    //        this.resizeCaptureOriginalHeight = this.UIContainer.offsetHeight;\n    //        this.resizeCaptureHandleIndex = handleIndex;\n    //        //  YWidget.editHandles[this.resizeCaptureHandleIndex].style.background = \"lime\";\n    //        //let size :number = parseInt(YWidget.editHandles[this.resizeCaptureHandleIndex].style.width);\n    //        //YWidget.editHandles[this.resizeCaptureHandleIndex].innerHTML = YoctoVisualization.ressources.resizeHandleSVGcode(this.resizeCaptureHandleIndex,size,true)\n    //        YWidget.editHandles[this.resizeCaptureHandleIndex].active=true;\n    //        this.previousTRansform = YWidget.HandlesDiv.style.transform;\n    //    }\n    //\n    //    private touchCaptureRun(e: TouchEvent): void\n    //    {\n    //        if (e.touches.length == 1)\n    //        {\n    //\n    //            this.handleCaptureRun(e.touches[0].pageX, e.touches[0].pageY);\n    //            e.preventDefault();\n    //        }\n    //    }\n    //\n    //    private mouseCaptureRun(e: MouseEvent): void\n    //    { //console.log(\"mousecapturerun\");\n    //        this.handleCaptureRun(e.pageX, e.pageY);\n    //    }\n    //\n    //    private handleCaptureRun(pageX: number, pageY: number): void\n    //    {\n    //        if (!this.resizeCaptureRunning) return;\n    //        let p: YDataRendering.Point = (<YDataRendering.Matrix3x3>this.resizeCaptureOriginalMatrix).multiplyByV(YDataRendering.Vector3.FromXYCoord(pageX, pageY)).toPoint();\n    //        let dx: number = p.X - this.resizeCaptureXOrigine;\n    //        let dy: number = p.Y - this.resizeCaptureYOrigine;\n    //\n    //        let newLeft: number = this.resizeCaptureOriginalLeft\n    //        let newTop: number = this.resizeCaptureOriginalTop;\n    //        let newWidth: number = this.resizeCaptureOriginalWidth\n    //        let newHeight: number = this.resizeCaptureOriginalHeight;\n    //\n    //        switch (this.resizeCaptureHandleIndex)\n    //        {\n    //        case 0:\n    //            newLeft += dx;\n    //            newTop += dy;\n    //            newWidth -= dx;\n    //            newHeight -= dy;\n    //            break  // TopLeft\n    //        case 1:\n    //            newTop += dy;\n    //            newHeight -= dy;\n    //            break  // Top\n    //        case 2:\n    //            newTop += dy;\n    //            newWidth += dx;\n    //            newHeight -= dy;\n    //            break  // TopRight\n    //        case 3:\n    //            newWidth += dx;\n    //            break  // Right\n    //        case 4:\n    //            newWidth += dx;\n    //            newHeight += dy;\n    //            break  // bottom right\n    //        case 5:\n    //            newHeight += dy;\n    //            break  // bottom\n    //        case 6:\n    //            newLeft += dx;\n    //            newWidth -= dx;\n    //            newHeight += dy;\n    //            break  // bottom left\n    //        case 7:\n    //            newLeft += dx;\n    //            newWidth -= dx;\n    //            break  //  left\n    //        case 8:\n    //            newLeft += dx;\n    //            newTop += dy;\n    //            break  // center\n    //        }\n    //        //if (newLeft+newWidth >  window.innerWidth)   newLeft=  window.innerWidth-newWidth; causes  more problems that it  solves\n    //        //if (newTop+newHeight >  window.innerHeight)   newTop=  window.innerHeight-newHeight;\n    //\n    //        // if (newTop<0)  {newHeight+=newTop; /*prevent growing */ newTop=0; }\n    //        // if (newLeft<0) {newWidth +=newLeft; newLeft=0; }\n    //        if (newWidth < 2 * YWidget.HANDLESIZE) newWidth = 2 * YWidget.HANDLESIZE;\n    //        if (newHeight < 2 * YWidget.HANDLESIZE) newHeight = 2 * YWidget.HANDLESIZE;\n    //\n    //        this.UIContainer.style.left = newLeft.toString() + \"px\";\n    //        this.UIContainer.style.top = newTop.toString() + \"px\";\n    //\n    //        if ((this.resizeCaptureOriginalWidth != newWidth) || (this.resizeCaptureOriginalHeight != newHeight))\n    //        {\n    //            this.resize(newWidth - 2, newHeight - 2) // -2 because of 1px borders\n    //        }\n    //        (<YDataRendering.YDataRenderer>this._genRenderer).clearTransformationMatrix();\n    //        //this.DrawHandles(newLeft,newTop,newWidth,newHeight);\n    //        YWidget.HandlesDiv.style.width = newWidth.toString() + \"px\";\n    //        YWidget.HandlesDiv.style.height = newHeight.toString() + \"px\";\n    //        YWidget.HandlesDiv.style.left = \"0px\";\n    //        YWidget.HandlesDiv.style.top = \"0px\";\n    //        let A: YDataRendering.Matrix3x3 = (<YDataRendering.Matrix3x3>this.resizeCaptureOriginalMatrixInv);\n    //        let B: YDataRendering.Matrix3x3 = YDataRendering.Matrix3x3.newTranslateMatrix(newLeft - this.resizeCaptureOriginalLeft, newTop - this.resizeCaptureOriginalTop);\n    //        let borderWidth: number = parseFloat(this.UIContainer.style.border);\n    //        let borderMatrix: YDataRendering.Matrix3x3 = YDataRendering.Matrix3x3.newTranslateMatrix(-borderWidth, -borderWidth); // border compensation matrix\n    //        YWidget.HandlesDiv.style.transform = borderMatrix.multiplyByM(A.multiplyByM(B)).toCSS();\n    //    }\n    //\n    //    protected editStopped(): void\n    //    {\n    //        this.resizeCaptureRunning = false;\n    //        if (YWidget.HandlesDiv != null) YWidget.HandlesDiv.style.display = \"none\";\n    //    }\n    //\n    //    private touchCaptureStop(e: TouchEvent): void\n    //    { this.mouseCaptureStop(null); }\n    //\n    //    private mouseCaptureStop(e: MouseEvent | null): void\n    //    {\n    //        if (!this.resizeCaptureRunning) return;\n    //        this.resizeCaptureRunning = false;\n    //        //let size :number = parseInt(YWidget.editHandles[this.resizeCaptureHandleIndex].style.width);\n    //        //YWidget.editHandles[this.resizeCaptureHandleIndex].innerHTML = YoctoVisualization.ressources.resizeHandleSVGcode(this.resizeCaptureHandleIndex,size,false )\n    //        YWidget.editHandles[this.resizeCaptureHandleIndex].active=false;\n    //        if ((this.previousTRansform != YWidget.HandlesDiv.style.transform)\n    //            || (this.resizeCaptureOriginalWidth != this.UIContainer.offsetWidth)\n    //            || (this.resizeCaptureOriginalHeight != this.UIContainer.offsetHeight))\n    //        {   if (this._SizeIsRelative) this.updateRelativeSize();\n    //            YoctoVisualization.constants.edited = true;\n    //        }\n    //        this.refreshProperties()\n    //\n    //    }\n    ////#endif\n    resize(newWidth, newHeight) {\n        this.UIContainer.style.width = (newWidth).toString() + \"px\";\n        this.UIContainer.style.height = (newHeight).toString() + \"px\";\n        this.containerResized();\n    }\n    containerResized() { } // overloaded later on\n    //#ifndef READONLY\n    //    public getContentsConfigData(): string\n    //    {\n    //        return \"  <location x='\" + this.UIContainer.offsetLeft.toString() + \"' y='\" + this.UIContainer.offsetTop.toString() + \"'/>\\n\"\n    //            + \"  <size     w='\" + this.UIContainer.offsetWidth.toString() + \"' h='\" + this.UIContainer.offsetHeight.toString() + \"'  state='Normal'/>\\n\"\n    //            + \"  <relativeCoord x='\" + this._relativePositionX.toString() + \"' y='\" + this._relativePositionY.toString() + \"'\"\n    //            + \" w='\" + this._relativeWidth.toString() + \"' h='\" + this._relativeHeight.toString() + \"'\"\n    //            + \" active='\" + (this._SizeIsRelative ? \"True\" : \"False\") + \"'/>\\n\"\n    //            + \"  <container id='\" + YoctoVisualization.constants.XMLquote(this._containerID) + \"'/>\\n\"\n    //\n    //            + this.getPropertiesXml();\n    //    }\n    ////#endif\n    getPropertiesXml() { return \"\"; }\n    PatchSensorAnnotationCallback(sensor, text) {\n        let name = \"None\";\n        let avgvalue = \"N/A\";\n        let minvalue = \"N/A\";\n        let maxvalue = \"N/A\";\n        let unit = \"\";\n        if (!(sensor instanceof YoctoVisualization.NullYSensor)) {\n            let resolution = -Math.round(Math.log10(sensor.get_resolution()));\n            name = sensor.get_friendlyName();\n            if (sensor.isOnline()) {\n                avgvalue = sensor.get_lastAvgValue().toFixed(resolution);\n                minvalue = sensor.get_lastMinValue().toFixed(resolution);\n                maxvalue = sensor.get_lastMaxValue().toFixed(resolution);\n            }\n            unit = sensor.get_unit();\n        }\n        text = text.replace(\"$NAME$\", name);\n        text = text.replace(\"$AVGVALUE$\", avgvalue);\n        text = text.replace(\"$MAXVALUE$\", maxvalue);\n        text = text.replace(\"$MINVALUE$\", minvalue);\n        text = text.replace(\"$UNIT$\", unit);\n        return text;\n    }\n}\n/**************************************************\n *\n * solid gauge Widget\n *\n */\nexport class gaugeWidget extends YWidget {\n    //#ifndef READONLY\n    //    protected getPropertiesXml(): string {return this.prop.getXml(1)}\n    ////#endif\n    containerResized() { if (this._gauge != null)\n        this._gauge.containerResized(); }\n    destroy() {\n        this.prop.destroy();\n        super.destroy();\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    contextMenuIsOpening() {\n        YoctoVisualization.YWebPage.snapshotMenuItem.userdata = this;\n        YoctoVisualization.YWebPage.snapshotMenuItem.visible = true;\n        YoctoVisualization.YWebPage.resetDataViewMenuItem.visible = false;\n        //#ifndef READONLY\n        //        if (YoctoVisualization.YWebPage.editMenuItem == null) return;\n        //        YoctoVisualization.YWebPage.clearDataloggerMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.editMenuItem.caption = \"Configure this gauge\";\n        //        YoctoVisualization.YWebPage.editMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.caption = \"Delete this gauge\";\n        //        YoctoVisualization.YWebPage.deleteMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.addMarkerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.disableMarkerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.editMenuItem.userdata = this;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.userdata = this;\n        ////#endif\n    }\n    get confirmDeleteString() { return \"Do you really want to delete this gauge ?\"; }\n    AnnotationCallback(text) {\n        let sensor = this.prop.DataSource_source;\n        return this.PatchSensorAnnotationCallback(sensor, text);\n    }\n    constructor(node, editor, x, y, width, height) {\n        super(node, editor, x, y, width, height);\n        this._gauge = new YDataRendering.YSolidGauge(this.UIContainer, YDataRendering.YSolidGauge.DisplayMode.DISPLAY90, YWidget.log);\n        this._genRenderer = this._gauge;\n        this.noDataSourcepanel = this._gauge.addMessagePanel();\n        this.noDataSourcepanel.font.size = YoctoVisualization.constants.generalFontSize;\n        this.noDataSourcepanel.text = \"No data source configured\\n\";\n        this.prop = new YoctoVisualization.GaugeFormProperties(node, this);\n        this._genProp = this.prop;\n        let propDesc = YoctoVisualization.GenericProperties.getAllProperties(this.prop);\n        if (gaugeWidget.AnnotationPanelCount == 0) {\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"SolidGauge_annotationPanel\"))\n                    gaugeWidget.AnnotationPanelCount++;\n            }\n        }\n        for (let i = 0; i < gaugeWidget.AnnotationPanelCount; i++) {\n            this._gauge.addAnnotationPanel();\n        }\n        this._gauge.setPatchAnnotationCallback((s) => { return this.AnnotationCallback(s); });\n        this.updateWindowPositionProperties(this.prop);\n        this.prop.ApplyAllProperties(this);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = true;\n        this.prop.ApplyAllProperties(this._gauge);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = false;\n        this._gauge.resetRefrenceSize();\n        this._gauge.resizeRule = YDataRendering.Proportional.ResizeRule.RELATIVETOBOTH;\n        this.ApplyRelativeSizeIfRequired();\n        //#ifndef READONLY\n        //        if (this.SizeIsRelative) this.refreshProperties()\n        ////#endif\n        this._gauge.AllowRedraw();\n    }\n    //#ifndef READONLY\n    //    public PropertyChanged2(src: YoctoVisualization.UIElement): void\n    //    {\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"SolidGauge\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this._gauge, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"DataSource\":\n    //\n    //            break;\n    //        }\n    //    }\n    //\n    //    public Get_PropertyValue(src: YoctoVisualization.UIElement): any\n    //    {\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this, this.prop, info.fullpropname, path, null);\n    //\n    //        case \"SolidGauge\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this._gauge, this.prop, info.fullpropname, path, null);\n    //        }\n    //        return null;\n    //    }\n    //\n    //    public edit(): void\n    //    {\n    //        super.edit();\n    //        YoctoVisualization.YWebPage.EditObject(this, this.prop,\n    //            (src: YoctoVisualization.UIElement) => {this.PropertyChanged2(src);},\n    //            (src: YoctoVisualization.UIElement): object => {return this.Get_PropertyValue(src);},\n    //            () => {this.editStopped();}\n    //        )\n    //\n    //    }\n    //\n    //    protected refreshProperties()\n    //    {\n    //        this.prop.RefreshAllProperties(this);\n    //        this.prop.RefreshAllProperties(this._gauge);\n    //        YoctoVisualization.YWebPage.refreshPropertiesForm();\n    //    }\n    ////#endif\n    SourceChanged(value, index) {\n        this.noDataSourcepanel.enabled = (value instanceof YoctoVisualization.NullYSensor);\n        if (value instanceof YoctoVisualization.NullYSensor) {\n            this._gauge.value = 0;\n        }\n        else {\n            value.registerCallback(this);\n        }\n    }\n    SensorValuecallback(source, M) {\n        if (this.prop == null)\n            return;\n        if (source == this.prop.DataSource_source) {\n            this._gauge.value = source.isOnline() ? M.get_averageValue() : 0;\n        }\n    }\n}\ngaugeWidget.AnnotationPanelCount = 0;\n/**************************************************\n *\n * angularGaugeWidget\n *\n */\nexport class angularGaugeWidget extends YWidget {\n    //#ifndef READONLY\n    //    protected getPropertiesXml(): string {return this.prop.getXml(1)}\n    ////#endif\n    containerResized() { if (this._angularGauge != null)\n        this._angularGauge.containerResized(); }\n    destroy() {\n        this.prop.destroy();\n        super.destroy();\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    AnnotationCallback(text) {\n        let sensor = this.prop.DataSource_source;\n        return this.PatchSensorAnnotationCallback(sensor, text);\n    }\n    contextMenuIsOpening() {\n        YoctoVisualization.YWebPage.snapshotMenuItem.userdata = this;\n        YoctoVisualization.YWebPage.snapshotMenuItem.visible = true;\n        YoctoVisualization.YWebPage.resetDataViewMenuItem.visible = false;\n        //#ifndef READONLY\n        //        if (YoctoVisualization.YWebPage.editMenuItem == null) return;\n        //        YoctoVisualization.YWebPage.clearDataloggerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.editMenuItem.caption = \"Configure this gauge\";\n        //        YoctoVisualization.YWebPage.editMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.caption = \"Delete this gauge\";\n        //        YoctoVisualization.YWebPage.deleteMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.addMarkerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.disableMarkerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.editMenuItem.userdata = this;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.userdata = this;\n        ////#endif\n    }\n    get confirmDeleteString() { return \"Do you really want to delete this gauge ?\"; }\n    constructor(node, editor, x, y, width, height) {\n        super(node, editor, x, y, width, height);\n        this._angularGauge = new YDataRendering.YAngularGauge(this.UIContainer, YWidget.log);\n        this._genRenderer = this._angularGauge;\n        this.noDataSourcepanel = this._angularGauge.addMessagePanel();\n        this.noDataSourcepanel.font.size = YoctoVisualization.constants.generalFontSize;\n        this.noDataSourcepanel.text = \"No data source configured\\n\";\n        this.prop = new YoctoVisualization.AngularGaugeFormProperties(node, this);\n        this._genProp = this.prop;\n        let propDesc = YoctoVisualization.GenericProperties.getAllProperties(this.prop);\n        if (angularGaugeWidget.AnnotationPanelCount == 0) {\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"AngularGauge_annotationPanel\"))\n                    angularGaugeWidget.AnnotationPanelCount++;\n                if (propname.startsWith(\"AngularGauge_zone\"))\n                    angularGaugeWidget.zonesCount++;\n            }\n        }\n        for (let i = 0; i < angularGaugeWidget.zonesCount; i++) {\n            this._angularGauge.AddZone();\n        }\n        for (let i = 0; i < angularGaugeWidget.AnnotationPanelCount; i++) {\n            this._angularGauge.addAnnotationPanel();\n        }\n        this._angularGauge.setPatchAnnotationCallback((s) => { return this.AnnotationCallback(s); });\n        this.initDataNode = node;\n        this.updateWindowPositionProperties(this.prop);\n        this.prop.ApplyAllProperties(this);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = true;\n        this.prop.ApplyAllProperties(this._angularGauge);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = false;\n        this._angularGauge.resetRefrenceSize();\n        this._angularGauge.resizeRule = YDataRendering.Proportional.ResizeRule.RELATIVETOBOTH;\n        this.ApplyRelativeSizeIfRequired();\n        //#ifndef READONLY\n        //        if (this.SizeIsRelative) this.refreshProperties()\n        ////#endif\n        this._angularGauge.AllowRedraw();\n    }\n    //#ifndef READONLY\n    //    public PropertyChanged2(src: YoctoVisualization.UIElement): void\n    //    {\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"AngularGauge\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this._angularGauge, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"DataSource\":\n    //\n    //            break;\n    //        }\n    //    }\n    //\n    //    public Get_PropertyValue(src: YoctoVisualization.UIElement): any\n    //    {\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this, this.prop, info.fullpropname, path, null);\n    //\n    //        case \"AngularGauge\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this._angularGauge, this.prop, info.fullpropname, path, null);\n    //        }\n    //        return null;\n    //    }\n    //\n    //    public edit(): void\n    //    {\n    //        super.edit();\n    //        YoctoVisualization.YWebPage.EditObject(this, this.prop,\n    //            (src: YoctoVisualization.UIElement) => {this.PropertyChanged2(src);},\n    //            (src: YoctoVisualization.UIElement): object => {return this.Get_PropertyValue(src);},\n    //            () => {this.editStopped();}\n    //        )\n    //    }\n    //\n    //    protected refreshProperties()\n    //    {\n    //        this.prop.RefreshAllProperties(this);\n    //        this.prop.RefreshAllProperties(this._angularGauge);\n    //        YoctoVisualization.YWebPage.refreshPropertiesForm();\n    //    }\n    ////#endif\n    showStatus(status) {\n        if (status != \"\")\n            this._angularGauge.value = 0;\n        this._angularGauge.showNeedle = status == \"\";\n        this._angularGauge.statusLine = status;\n    }\n    SourceChanged(value, index) {\n        this._angularGauge.DisableRedraw();\n        this.noDataSourcepanel.enabled = (value instanceof YoctoVisualization.NullYSensor);\n        if (value instanceof YoctoVisualization.NullYSensor) {\n            this.showStatus(\"N/A\");\n            this._angularGauge.unit = \"\";\n        }\n        else if (!value.isOnline()) {\n            this.showStatus(\"OFFLINE\");\n        }\n        else {\n            this.showStatus(\"\");\n            this._angularGauge.unit = value.get_unit();\n        }\n        this._angularGauge.AllowRedraw();\n        value.registerCallback(this);\n    }\n    SensorValuecallback(source, M) {\n        if (this.prop == null)\n            return;\n        if (source == this.prop.DataSource_source) {\n            this._angularGauge.DisableRedraw();\n            if (this.prop.DataSource_source instanceof YoctoVisualization.NullYSensor) {\n                this.showStatus(\"N/A\");\n                this._angularGauge.unit = \"\";\n            }\n            else if (!this.prop.DataSource_source.isOnline()) {\n                this.showStatus(\"OFFLINE\");\n            }\n            else {\n                this._angularGauge.DisableRedraw();\n                this.showStatus(\"\");\n                // source.get_unit();  // make sure unit is in cache before UI is refresh (redraw might call value formatter, which  will call get_unit)\n                this._angularGauge.unit = source.get_unit();\n                this._angularGauge.value = M.get_averageValue();\n                this._angularGauge.AllowRedraw();\n            }\n            this._angularGauge.AllowRedraw();\n        }\n    }\n}\nangularGaugeWidget.AnnotationPanelCount = 0;\nangularGaugeWidget.zonesCount = 0;\n/**************************************************\n *\n * digitalDisplayWidget\n *\n */\nexport class digitalDisplayWidget extends YWidget {\n    //#ifndef READONLY\n    //    protected getPropertiesXml(): string {return this.prop.getXml(1)}\n    ////#endif\n    containerResized() { if (this._display != null)\n        this._display.containerResized(); }\n    destroy() {\n        this.prop.destroy();\n        super.destroy();\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    AnnotationCallback(text) {\n        let sensor = this.prop.DataSource_source;\n        return this.PatchSensorAnnotationCallback(sensor, text);\n    }\n    contextMenuIsOpening() {\n        YoctoVisualization.YWebPage.snapshotMenuItem.userdata = this;\n        YoctoVisualization.YWebPage.snapshotMenuItem.visible = true;\n        YoctoVisualization.YWebPage.resetDataViewMenuItem.visible = false;\n        //#ifndef READONLY\n        //        if (YoctoVisualization.YWebPage.editMenuItem == null) return;\n        //        YoctoVisualization.YWebPage.clearDataloggerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.editMenuItem.caption = \"Configure this digital display\";\n        //        YoctoVisualization.YWebPage.editMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.caption = \"Delete this digital display\";\n        //        YoctoVisualization.YWebPage.deleteMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.addMarkerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.disableMarkerMenuItem.visible = false;\n        //        YoctoVisualization.YWebPage.editMenuItem.userdata = this;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.userdata = this;\n        ////#endif\n    }\n    get confirmDeleteString() { return \"Do you really want to delete this digital display ?\"; }\n    constructor(node, editor, x, y, width, height) {\n        super(node, editor, x, y, width, height);\n        this._unit = \"\";\n        this._display = new YDataRendering.YDigitalDisplay(this.UIContainer, YWidget.log);\n        this._genRenderer = this._display;\n        this.noDataSourcepanel = this._display.addMessagePanel();\n        this.noDataSourcepanel.font.size = YoctoVisualization.constants.generalFontSize;\n        this.noDataSourcepanel.text = \"No data source configured\\n\";\n        this.prop = new YoctoVisualization.digitalDisplayFormProperties(node, this);\n        this._genProp = this.prop;\n        let propDesc = YoctoVisualization.GenericProperties.getAllProperties(this.prop);\n        if (digitalDisplayWidget.AnnotationPanelCount == 0) {\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"display_annotationPanel\"))\n                    digitalDisplayWidget.AnnotationPanelCount++;\n            }\n        }\n        for (let i = 0; i < digitalDisplayWidget.AnnotationPanelCount; i++) {\n            this._display.addAnnotationPanel();\n        }\n        this._display.setPatchAnnotationCallback((s) => { return this.AnnotationCallback(s); });\n        this._display.valueFormater = (source, value) => { return this.valueFormater(source, value); };\n        this.updateWindowPositionProperties(this.prop);\n        this.prop.ApplyAllProperties(this);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = true;\n        this.prop.ApplyAllProperties(this._display);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = false;\n        this._display.resetRefrenceSize();\n        this._display.AllowPrintScreenCapture = true;\n        this._display.resetRefrenceSize();\n        this._display.resizeRule = YDataRendering.Proportional.ResizeRule.RELATIVETOBOTH;\n        this.ApplyRelativeSizeIfRequired();\n        //#ifndef READONLY\n        //        if (this.SizeIsRelative) this.refreshProperties()\n        ////#endif\n        this._display.AllowRedraw();\n    }\n    valueFormater(source, value) {\n        if (this.prop.DataSource_source instanceof YoctoVisualization.NullYSensor) {\n            return \"N/A\";\n        }\n        else if (!this.prop.DataSource_source.isOnline())\n            return \"OFFLINE\";\n        let format = this.prop.DataSource_precision;\n        let p = format.indexOf('.');\n        let n = 0;\n        if (p >= 0)\n            n = format.length - p - 1;\n        let unit = this.prop.DataSource_source.get_unit();\n        return value.toFixed(n) + unit;\n    }\n    //#ifndef READONLY\n    //    public PropertyChanged2(src: YoctoVisualization.UIElement): void\n    //    {\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"display\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this._display, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"DataSource\":\n    //\n    //            break;\n    //        }\n    //    }\n    //\n    //    public Get_PropertyValue(src: YoctoVisualization.UIElement): any\n    //    {\n    //\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this, this.prop, info.fullpropname, path, null);\n    //\n    //        case \"display\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this._display, this.prop, info.fullpropname, path, null);\n    //        }\n    //        return null;\n    //\n    //    }\n    //\n    //    public edit(): void\n    //    {\n    //        super.edit();\n    //        YoctoVisualization.YWebPage.EditObject(this, this.prop,\n    //            (src: YoctoVisualization.UIElement) => {this.PropertyChanged2(src);},\n    //            (src: YoctoVisualization.UIElement): object => {return this.Get_PropertyValue(src);},\n    //            () => {this.editStopped();}\n    //        )\n    //\n    //    }\n    //\n    //    protected refreshProperties()\n    //    {\n    //        this.prop.RefreshAllProperties(this);\n    //        this.prop.RefreshAllProperties(this._display);\n    //        YoctoVisualization.YWebPage.refreshPropertiesForm();\n    //    }\n    ////#endif\n    SourceChanged(value, index) {\n        this.noDataSourcepanel.enabled = (value instanceof YoctoVisualization.NullYSensor);\n        this.SensorValuecallback(value, null);\n        if (value instanceof YoctoVisualization.NullYSensor) {\n            this._display.alternateValue = \"N/A\";\n        }\n        else if (!value.isOnline())\n            this._display.alternateValue = \"OFFLINE\";\n        value.registerCallback(this);\n    }\n    SensorValuecallback(source, M) {\n        if (this.prop == null)\n            return;\n        if (this.prop.DataSource_source instanceof YoctoVisualization.NullYSensor) {\n            this._display.alternateValue = \"N/A\";\n        }\n        else if (!this.prop.DataSource_source.isOnline()) {\n            this._display.alternateValue = \"OFFLINE\";\n        }\n        else if (M == null) {\n            this._display.alternateValue = \"--\" + this._unit;\n        }\n        else if (source == this.prop.DataSource_source) {\n            this._display.DisableRedraw();\n            // source.get_unit();  // make sure unit is in cache before UI is refresh (redraw might call value formatter, which  will call get_unit)\n            this._display.alternateValue = null;\n            this._display.value = M.get_averageValue();\n            this._display.AllowRedraw();\n        }\n    }\n}\ndigitalDisplayWidget.AnnotationPanelCount = 0;\n/**************************************************\n *\n * graph Widget\n *\n */\nexport class graphWidget extends YWidget {\n    AnnotationCallback(text) {\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            let s = Reflect.get(this.prop, \"Graph_series\" + i.toString());\n            let sensor = s.DataSource_source;\n            let name = \"None\";\n            let avgvalue = \"N/A\";\n            let minvalue = \"N/A\";\n            let maxvalue = \"N/A\";\n            let unit = \"\";\n            if (!(sensor instanceof YoctoVisualization.NullYSensor)) {\n                let resolution = -Math.round(Math.log10(sensor.get_resolution()));\n                name = s.legend != \"\" ? s.legend : sensor.get_friendlyName();\n                if (sensor.isOnline()) {\n                    avgvalue = sensor.get_lastAvgValue().toFixed(resolution);\n                    minvalue = sensor.get_lastMinValue().toFixed(resolution);\n                    maxvalue = sensor.get_lastMaxValue().toFixed(resolution);\n                }\n                unit = sensor.get_unit();\n            }\n            text = text.replace(\"$NAME\" + (i + 1).toString() + \"$\", name);\n            text = text.replace(\"$AVGVALUE\" + (i + 1).toString() + \"$\", avgvalue);\n            text = text.replace(\"$MAXVALUE\" + (i + 1).toString() + \"$\", maxvalue);\n            text = text.replace(\"$MINVALUE\" + (i + 1).toString() + \"$\", minvalue);\n            text = text.replace(\"$UNIT\" + (i + 1).toString() + \"$\", unit);\n        }\n        return text;\n    }\n    destroy() {\n        this.prop.destroy();\n        super.destroy();\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    //#ifndef READONLY\n    //    protected getPropertiesXml(): string {return this.prop.getXml(1)}\n    ////#endif\n    containerResized() { if (this._graph != null)\n        this._graph.containerResized(); }\n    contextMenuIsOpening() {\n        YoctoVisualization.YWebPage.snapshotMenuItem.userdata = this;\n        YoctoVisualization.YWebPage.snapshotMenuItem.visible = true;\n        YoctoVisualization.YWebPage.resetDataViewMenuItem.visible = true;\n        YoctoVisualization.YWebPage.resetDataViewMenuItem.userdata = this;\n        //#ifndef READONLY\n        //        if (YoctoVisualization.YWebPage.editMenuItem == null) return;\n        //        YoctoVisualization.YWebPage.clearDataloggerMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.clearDataloggerMenuItem.userdata = this;\n        //        YoctoVisualization.YWebPage.editMenuItem.caption = \"Configure this graph\";\n        //        YoctoVisualization.YWebPage.editMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.caption = \"Delete this graph\";\n        //        YoctoVisualization.YWebPage.deleteMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.addMarkerMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.disableMarkerMenuItem.visible = true;\n        //        YoctoVisualization.YWebPage.editMenuItem.userdata = this;\n        //        YoctoVisualization.YWebPage.deleteMenuItem.userdata = this;\n        //        YoctoVisualization.YWebPage.disableMarkerMenuItem.userdata = this;\n        //        for (let i: number = 0; i < YoctoVisualization.YWebPage.markersSubMenuItems.length; i++)\n        //        {\n        //            YoctoVisualization.YWebPage.markersSubMenuItems[i].caption = \"Place marker #\" + (i + 1).toString();\n        //            YoctoVisualization.YWebPage.markersSubMenuItems[i].userdata = this;\n        //        }\n        ////#endif\n    }\n    startMarkerCapture(markerIndex) {\n        this.markers[markerIndex].startCapture();\n    }\n    AxisParamtersChangedAutomatically(source) {\n        let yaxis = source.userData;\n        yaxis.visible = source.visible;\n        //#ifndef READONLY\n        //        YoctoVisualization.YWebPage.refreshPropertiesForm()\n        ////#endif\n    }\n    //#ifndef READONLY\n    //    public get confirmDeleteString(): string { return \"Do you really want to delete this graph ?\";}\n    ////#endif\n    constructor(node, editor, x, y, width, height) {\n        super(node, editor, x, y, width, height);\n        this._graph = new YDataRendering.YGraph(this.UIContainer, YWidget.log);\n        this.noDataSourcepanel = this._graph.addMessagePanel();\n        this.noDataSourcepanel.font.size = YoctoVisualization.constants.generalFontSize;\n        this.noDataSourcepanel.text = \"No data source configured\\n\";\n        this.dataloggerProgress = this._graph.addMessagePanel();\n        this.dataloggerProgress.font.size = (12 * YoctoVisualization.constants.guiDPIFactor);\n        this.dataloggerProgress.font.color = YDataRendering.YColor.DarkGray;\n        this.dataloggerProgress.borderColor = YDataRendering.YColor.Gray;\n        this.dataloggerProgress.panelHrzAlign = YDataRendering.MessagePanel.HorizontalAlignPos.LEFT;\n        this.dataloggerProgress.panelVrtAlign = YDataRendering.MessagePanel.VerticalAlignPos.TOP;\n        this.dataloggerProgress.text = graphWidget.DataLoggerLoadingMsg;\n        this.dataloggerProgress.enabled = false;\n        this.prop = new YoctoVisualization.GraphFormProperties(node, this);\n        this._genProp = this.prop;\n        let propDesc = YoctoVisualization.GenericProperties.getAllProperties(this.prop);\n        if (graphWidget.YAxisCount == 0) {\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"Graph_annotationPanel\"))\n                    graphWidget.AnnotationPanelCount++;\n                if (propname.startsWith(\"Graph_series\"))\n                    graphWidget.SeriesCount++;\n                if (propname.startsWith(\"Graph_yAxes\"))\n                    graphWidget.YAxisCount++;\n            }\n        }\n        if (graphWidget.ZoneCountPerYaxis == 0) {\n            let yAxisProp = new YoctoVisualization.YaxisDescription(0, false);\n            let propDesc = YoctoVisualization.GenericProperties.getAllProperties(yAxisProp);\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"zones\"))\n                    graphWidget.ZoneCountPerYaxis++;\n            }\n        }\n        if (graphWidget.MarkerCountPerXaxis == 0) {\n            let xAxisProp = new YoctoVisualization.XaxisDescription();\n            let propDesc = YoctoVisualization.GenericProperties.getAllProperties(xAxisProp);\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"markers\"))\n                    graphWidget.MarkerCountPerXaxis++;\n            }\n        }\n        this.offLineSourcesPanel = this._graph.addMessagePanel();\n        this.offLineSourcesPanel.bgColor = YDataRendering.YColor.FromArgb(192, 255, 192, 192);\n        this.offLineSourcesPanel.borderColor = YDataRendering.YColor.DarkRed;\n        this.offLineSourcesPanel.font.color = YDataRendering.YColor.DarkRed;\n        this.offLineSourcesPanel.panelHrzAlign = YDataRendering.MessagePanel.HorizontalAlignPos.RIGHT;\n        this.offLineSourcesPanel.panelVrtAlign = YDataRendering.MessagePanel.VerticalAlignPos.TOP;\n        this.captureRunningPanel = this._graph.addMessagePanel();\n        this.captureRunningPanel.bgColor = YDataRendering.YColor.FromArgb(240, 200, 255, 193);\n        this.captureRunningPanel.borderColor = YDataRendering.YColor.DarkGreen;\n        this.captureRunningPanel.font.color = YDataRendering.YColor.DarkGreen;\n        this.captureRunningPanel.panelHrzAlign = YDataRendering.MessagePanel.HorizontalAlignPos.LEFT;\n        this.captureRunningPanel.panelVrtAlign = YDataRendering.MessagePanel.VerticalAlignPos.TOP;\n        for (let i = 0; i < graphWidget.YAxisCount; i++) {\n            let axis = this._graph.addYAxis();\n            for (let j = 0; j < graphWidget.ZoneCountPerYaxis; j++) {\n                axis.AddZone();\n            }\n        }\n        this.markers = [];\n        for (let i = 0; i < graphWidget.MarkerCountPerXaxis; i++) {\n            let m = this._graph.xAxis.AddMarker();\n            m.xposition = YDataRendering.TimeConverter.ToUnixTime(new Date()) + i * 60; // not really sure\n            this.markers.push(m);\n        }\n        for (let i = 0; i < graphWidget.AnnotationPanelCount; i++) {\n            this._graph.addAnnotationPanel();\n        }\n        this.seriesProperties = [];\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            this.seriesProperties.push(Reflect.get(this.prop, \"Graph_series\" + i.toString()));\n            this._graph.addSerie();\n        }\n        this._graph.yAxes[0].visible = true;\n        this._graph.setPatchAnnotationCallback((s) => { return this.AnnotationCallback(s); });\n        this._genRenderer = this._graph;\n        this._graph.resetRefrenceSize();\n        this._graph.AllowPrintScreenCapture = true;\n        //#ifndef READONLY\n        //        this._graph.setMarkerCaptureCallbacks((m: YDataRendering.Marker) => {this.MarkedCaptureStarted(m)},\n        //            (m: YDataRendering.Marker | null) => {this.MarkedCaptureStopped(m)});\n        ////#endif\n        this.offlineMessages = new Array(graphWidget.SeriesCount);\n        this.showOffline = new Array(graphWidget.SeriesCount);\n        this.updateWindowPositionProperties(this.prop);\n        this.prop.ApplyAllProperties(this);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = true;\n        this.prop.ApplyAllProperties(this._graph);\n        YDataRendering.YDataRenderer.minMaxCheckDisabled = false;\n        for (let i = 0; i < graphWidget.YAxisCount; i++) {\n            this._graph.yAxes[i].AxisChanged = () => { this.AxisParamtersChangedAutomatically(this._graph.yAxes[i]); };\n            this._graph.yAxes[i].AllowAutoShow = true;\n        }\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            let s = Reflect.get(this.prop, \"Graph_series\" + i.toString());\n            s.Init(this, i);\n            if (s.DataSource_source != null) {\n                this.SourceChanged(s.DataSource_source, i);\n            }\n        }\n        this._graph.resetRefrenceSize();\n        this._graph.resizeRule = YDataRendering.Proportional.ResizeRule.FIXED;\n        this.ApplyRelativeSizeIfRequired();\n        //#ifndef READONLY\n        //        if (this.SizeIsRelative) this.refreshProperties()\n        ////#endif\n        this._graph.AllowRedraw();\n    }\n    //#ifndef READONLY\n    //\n    //    private editedMarkerWasEnabled: boolean = false;\n    //    private editedMarkerPosition: number = 0;\n    //\n    //    private MarkedCaptureStarted(src: YDataRendering.Marker): void\n    //    {\n    //        let str: string = (src.text != \"\") ? \"Click to place the \\\"\" + src.shortText + \"\\\" marker.\" : \"Click to place the marker.\";\n    //        str += \"\\nRight-click to cancel the operation.\";\n    //        this.editedMarkerWasEnabled = src.enabled;\n    //        this.editedMarkerPosition = src.positionOnXAxis.value;\n    //\n    //        this.captureRunningPanel.text = str;\n    //        this.captureRunningPanel.enabled = true;\n    //    }\n    //\n    //    private MarkedCaptureStopped(src: YDataRendering.Marker | null): void\n    //    {\n    //        if (src != null)\n    //        {\n    //            if ((this.editedMarkerWasEnabled != src.enabled) && (this.editedMarkerPosition != src.positionOnXAxis.value))\n    //            {\n    //                YoctoVisualization.constants.edited = true;\n    //            }\n    //        }\n    //        this.captureRunningPanel.enabled = false;\n    //        this.refreshProperties()\n    //    }\n    //\n    //    protected refreshProperties()\n    //    {\n    //        this.prop.RefreshAllProperties(this);\n    //        this.prop.RefreshAllProperties(this._graph);\n    //        YoctoVisualization.YWebPage.refreshPropertiesForm();\n    //    }\n    ////#endif\n    decomposeToSegments(data, start, dataCount) {\n        let n1 = start;\n        let n2 = 0;\n        let l = [];\n        let deltaT = 0;\n        while (n1 < start + dataCount - 1) {\n            try {\n                deltaT = data[n1 + 1].DateTime - data[n1].DateTime;\n            }\n            catch (Exception) {\n                debugger;\n            }\n            n2 = n1 + 1;\n            while ((n2 < dataCount) && (data[n2].DateTime - data[n2 - 1].DateTime < 2 * deltaT)) {\n                n2++;\n            }\n            let count = n2 - n1;\n            if (count > 0) {\n                let p = new Array(count);\n                for (let i = 0; i < count; i++) {\n                    p[i] = new YDataRendering.pointXY(data[n1 + i].DateTime, data[n1 + i].value);\n                }\n                l.push(p);\n            }\n            n1 = n2;\n        }\n        return l;\n    }\n    SourceChanged(value, index) {\n        this._graph.DisableRedraw();\n        let s;\n        let noDataSource = true;\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            s = Reflect.get(this.prop, \"Graph_series\" + i.toString());\n            if (!(s.DataSource_source instanceof YoctoVisualization.NullYSensor))\n                noDataSource = false;\n        }\n        this.noDataSourcepanel.enabled = noDataSource;\n        if (value != null) {\n            if (!(value instanceof YoctoVisualization.NullYSensor)) {\n                if (value.isOnline()) {\n                    this.showOffline[index] = false;\n                }\n                else {\n                    this.offlineMessages[index] = value.get_friendlyName() + \" is OFFLINE\";\n                    this.showOffline[index] = true;\n                    YoctoVisualization.logForm.log(value.get_friendlyName() + \" is OFFLINE\");\n                }\n            }\n            else {\n                this.showOffline[index] = false;\n            }\n        }\n        else {\n            this.showOffline[index] = false;\n        }\n        this.updateOfflinePanel();\n        this.preLoadSensorData(value, index);\n        if (value)\n            value.registerCallback(this);\n        this._graph.AllowRedraw();\n    }\n    preLoadSensorData(value, index) {\n        this.dataloggerProgress.text = graphWidget.DataLoggerLoadingMsg;\n        if (value instanceof YoctoVisualization.NullYSensor) {\n            this._graph.series[index].clear();\n            return;\n        }\n        this.dataloggerProgress.enabled = true;\n        let s = Reflect.get(this.prop, \"Graph_series\" + index.toString());\n        let data;\n        switch (s.DataSource_datatype) {\n            case 1:\n                data = value.minData;\n                break;\n            case 2:\n                data = value.maxData;\n                break;\n            default:\n                data = value.curData;\n                break;\n        }\n        let l = this.decomposeToSegments(data, 0, data.length);\n        this._graph.series[index].clear();\n        for (let i = l.length - 1; i >= 0; i--) {\n            this._graph.series[index].InsertPoints(l[i]);\n        }\n    }\n    //#ifndef READONLY\n    //    public PropertyChanged2(src: YoctoVisualization.UIElement): void\n    //    {\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"Graph\":\n    //            YoctoVisualization.GenericProperties.copyProperty_STT(this._graph, this.prop, info.fullpropname, path);\n    //            break;\n    //        case \"DataSource\":\n    //\n    //            break;\n    //        }\n    //    }\n    //\n    //    public Get_PropertyValue(src: YoctoVisualization.UIElement): any\n    //    {\n    //\n    //        let info: YoctoVisualization.PropPathinfo = new YoctoVisualization.PropPathinfo();\n    //        let path: string[] = src.ExtractPropPath(info);\n    //        switch (info.propType)\n    //        {\n    //        case \"Form\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this, this.prop, info.fullpropname, path, null);\n    //        case \"Graph\":\n    //            return YoctoVisualization.GenericProperties.newGetProperty(this._graph, this.prop, info.fullpropname, path, null);\n    //        case \"DataSource\":\n    //            return null;\n    //\n    //        }\n    //        return null;\n    //\n    //    }\n    //\n    //    public edit(): void\n    //    {\n    //        super.edit();\n    //        YoctoVisualization.YWebPage.EditObject(this, this.prop,\n    //            (src: YoctoVisualization.UIElement) => {this.PropertyChanged2(src);},\n    //            (src: YoctoVisualization.UIElement): object => {return this.Get_PropertyValue(src);},\n    //            () => {this.editStopped();}\n    //        )\n    //\n    //    }\n    ////#endif\n    updateOfflinePanel() {\n        let message = \"\";\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            if (this.showOffline[i])\n                message = message + ((message != \"\") ? \"\\n\" : \"\") + this.offlineMessages[i];\n        }\n        if (message == \"\" && this.offLineSourcesPanel.enabled)\n            this.offLineSourcesPanel.enabled = false;\n        if (message != \"\" && ((this.offLineSourcesPanel.text != message) || (!this.offLineSourcesPanel.enabled))) {\n            this.offLineSourcesPanel.text = message;\n            this.offLineSourcesPanel.enabled = true;\n        }\n    }\n    SensorValuecallback(source, M) {\n        if (this.prop == null)\n            return;\n        //     if (FirstLiveValue == 0) FirstLiveValue = M.get_endTimeUTC();\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            let s = this.seriesProperties[i];\n            if (s.DataSource_source == source) {\n                if (!s.DataSource_source.isOnline()) {\n                    this.offlineMessages[i] = s.DataSource_source.get_friendlyName() + \" is OFFLINE\";\n                    this.showOffline[i] = true;\n                    this.updateOfflinePanel();\n                    return;\n                }\n                this.showOffline[i] = false;\n                this.updateOfflinePanel();\n                let index = s.DataSource_source.curData.length - 1;\n                if (index >= 0)\n                    switch (s.DataSource_datatype) {\n                        case 1:\n                            this._graph.series[i].AddPoint(new YDataRendering.pointXY(s.DataSource_source.minData[index].DateTime, s.DataSource_source.minData[index].value));\n                            break;\n                        case 2:\n                            this._graph.series[i].AddPoint(new YDataRendering.pointXY(s.DataSource_source.maxData[index].DateTime, s.DataSource_source.maxData[index].value));\n                            break;\n                        default:\n                            this._graph.series[i].AddPoint(new YDataRendering.pointXY(s.DataSource_source.curData[index].DateTime, s.DataSource_source.curData[index].value));\n                            break;\n                    }\n                this._graph.series[i].unit = s.DataSource_source.get_unit();\n            }\n        }\n    }\n    disableAllMarkers() {\n        YoctoVisualization.confirm.ask(\"Do you really want to disable all markers?\", () => {\n            for (let i = 0; i < this.markers.length; i++) {\n                this.markers[i].enabled = false;\n            }\n        }, () => { }, null);\n    }\n    clearDataLogger() {\n        YoctoVisualization.confirm.ask(\"Do you really want to erase contents of all dataloggers related to this graph?\", () => { this.startToClearDataLoggers(); }, () => { }, null);\n    }\n    truncateView() {\n        //FirstLiveValue = now();\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            this._graph.series[i].clear();\n        }\n        let FirstLiveValue = Math.floor((new Date()).getTime() / 1000);\n        this._graph.xAxis.set_minMax(FirstLiveValue, FirstLiveValue + this._graph.xAxis.initialZoom);\n    }\n    resetDataView() {\n        this.prop.Graph_showRecordedData = false;\n        this.truncateView();\n        //mainForm.refreshPropertiesForm();\n    }\n    startToClearDataLoggers() {\n        return __awaiter(this, void 0, void 0, function* () {\n            debugger;\n            let loggers = [];\n            for (let i = 0; i < graphWidget.SeriesCount; i++) {\n                let s = Reflect.get(this.prop, \"Graph_series\" + i.toString());\n                let sensor = s.DataSource_source;\n                if (!(sensor instanceof YoctoVisualization.NullYSensor)) {\n                    sensor.stopDataloggerloading();\n                    let serial = sensor.get_hardwareId();\n                    let n = serial.indexOf(\".\");\n                    serial = serial.substring(0, n);\n                    let d = yield YoctoAPI.YDataLogger.FindDataLogger(serial + \".dataLogger\");\n                    if (yield d.isOnline()) {\n                        let found = false;\n                        for (let j = 0; j < loggers.length; j++) {\n                            if (loggers[j] == d)\n                                found = true;\n                        }\n                        if (!found)\n                            loggers.push(d);\n                    }\n                }\n            }\n            for (let i = 0; i < loggers.length; i++) {\n                yield loggers[i].forgetAllDataStreams();\n                yield loggers[i].set_recording(YoctoAPI.YDataLogger.RECORDING_ON);\n            }\n            let tmp = this.prop.Graph_showRecordedData;\n            this.prop.Graph_showRecordedData = false;\n            this.truncateView();\n            this.prop.Graph_showRecordedData = tmp;\n        });\n    }\n    SensorNewDataBlock(source, sourceFromIndex, sourcetoIndex, targetIndex, fromDataLogger) {\n        if (this.prop == null)\n            return;\n        if ((fromDataLogger) && (!this.prop.Graph_showRecordedData))\n            return;\n        let l = null;\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            let s = Reflect.get(this.prop, \"Graph_series\" + i.toString());\n            if (s.DataSource_source == source) {\n                let count = sourcetoIndex - sourceFromIndex + 1;\n                if (count > 1) {\n                    switch (s.DataSource_datatype) {\n                        case 1:\n                            l = this.decomposeToSegments(s.DataSource_source.minData, sourceFromIndex, count);\n                            for (let j = l.length - 1; j >= 0; j--) {\n                                this._graph.series[i].InsertPoints(l[j]);\n                            }\n                            break;\n                        case 2:\n                            l = this.decomposeToSegments(s.DataSource_source.maxData, sourceFromIndex, count);\n                            for (let j = l.length - 1; j >= 0; j--) {\n                                this._graph.series[i].InsertPoints(l[j]);\n                            }\n                            break;\n                        default:\n                            l = this.decomposeToSegments(s.DataSource_source.curData, sourceFromIndex, count);\n                            for (let j = l.length - 1; j >= 0; j--) {\n                                this._graph.series[i].InsertPoints(l[j]);\n                            }\n                            break;\n                    }\n                }\n            }\n        }\n    }\n    showRecordedDatachanged() {\n        if (this.prop == null)\n            return;\n        for (let i = 0; i < graphWidget.SeriesCount; i++) {\n            let s = Reflect.get(this.prop, \"Graph_series\" + i.toString());\n            this.SourceChanged(s.DataSource_source, i);\n        }\n    }\n    DataLoggerProgress() {\n        let progress = 0;\n        let sensorCount = 0;\n        if (!this.prop.Graph_showRecordedData) {\n            this.dataloggerProgress.enabled = false;\n            return;\n        }\n        let props = YoctoVisualization.GenericProperties.getAllProperties(this.prop);\n        for (let i = 0; i < props.byIndex.length; i++) {\n            let name = props.byIndex[i].name;\n            if (name.startsWith(\"Graph_series\")) {\n                let s = Reflect.get(this.prop, name);\n                if (!(s.DataSource_source instanceof YoctoVisualization.NullYSensor)) {\n                    progress += s.DataSource_source.getGetaLoadProgress();\n                    sensorCount++;\n                }\n            }\n        }\n        if ((progress < 100 * sensorCount) && (sensorCount > 0)) {\n            this.dataloggerProgress.text = graphWidget.DataLoggerLoadingMsg + \" (\" + (progress / sensorCount).toFixed(0) + \"%)\";\n        }\n        else {\n            this.dataloggerProgress.enabled = false;\n        }\n    }\n    DataloggerCompleted(Source) {\n        if (!this.prop.Graph_showRecordedData)\n            return;\n        this.dataloggerProgress.enabled = false;\n        let props = YoctoVisualization.GenericProperties.getAllProperties(this.prop);\n        for (let i = 0; i < props.byIndex.length; i++) {\n            let name = props.byIndex[i].name;\n            if (name.startsWith(\"Graph_series\")) {\n                let s = Reflect.get(this.prop, name);\n                if (s.DataSource_source == Source) {\n                    let index = parseInt(name.substring(12));\n                    this.SourceChanged(Source, index);\n                }\n            }\n        }\n    }\n}\ngraphWidget.AnnotationPanelCount = 0;\ngraphWidget.SeriesCount = 0;\ngraphWidget.ZoneCountPerYaxis = 0;\ngraphWidget.MarkerCountPerXaxis = 0;\ngraphWidget.YAxisCount = 0;\ngraphWidget.DataLoggerLoadingMsg = \"Loading from datalogger\";\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  all reflexion bases properties management\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./Renderer/YDataRendererFull.js\";\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nexport class YXmlNode {\n    constructor(node) {\n        this.node = node;\n    }\n    get Name() { return this.node.nodeName; }\n    get_childsByName() {\n        let res = {};\n        this.node.childNodes.forEach(child => { res[child.nodeName] = new YXmlNode(child); });\n        return res;\n    }\n    get_childsByIndex() {\n        let res = [];\n        this.node.childNodes.forEach(child => { res.push(new YXmlNode(child)); });\n        return res;\n    }\n    get_attributes() {\n        let el = this.node;\n        let res = {};\n        let keys = el.getAttributeNames();\n        for (let i = 0; i < keys.length; i++) {\n            res[keys[i]] = el.getAttribute(keys[i]);\n        }\n        // this.node.childNodes.forEach(child => { res[child.nodeName] = child;})\n        return res;\n    }\n    get Attributes() { return this.get_attributes(); }\n}\nclass PropertyAccess {\n    constructor() {\n        this.ttype = \"\";\n        this.stype = \"\";\n        this.finalTarget = null;\n        this.terminalSource = null;\n        this.propertyName = null;\n    }\n}\nexport class doubleNan {\n    constructor(v) {\n        this._value = Number.NaN;\n        if (typeof v == \"undefined\") {\n            return;\n        }\n        else if (typeof v == \"number\") {\n            this._value = v;\n        }\n        else if (typeof v == \"string\") {\n            if (v == \"\") {\n                this._value = Number.NaN;\n            }\n            else {\n                this._value = Number(v);\n            }\n        }\n        else {\n            debugger;\n        } // init value type is definitely wrong.\n    }\n    toString() {\n        if (Number.isNaN(this._value))\n            return \"\";\n        return this._value.toString();\n    }\n    clone() { return new doubleNan(this.value); }\n    get value() { return this._value; }\n    set value(value) { this._value = value; }\n}\nexport class PropertyDescriptor {\n    constructor(name) {\n        this.isWritable = false;\n        this.isEnum = false;\n        this.type = \"\";\n        this.Attributes = {};\n        this.name = name;\n    }\n}\nexport class PropertiesList {\n    constructor() {\n        this.byIndex = [];\n        this.byName = {};\n    }\n}\nclass PropDescription {\n    constructor(name, prop) {\n        this.name = name;\n        this.prop = prop;\n    }\n}\nexport class GenericProperties {\n    static NoFilter(propNname) { return true; }\n    static escapeXml(unsafe) {\n        return unsafe.replace(/[^ !#$%(-;=?-z]/g, (c) => '&#' + c.charCodeAt(0) + ';'); // MV power!  :-)\n    }\n    constructor(Owner) {\n        this._Form_Text = \"New window\";\n        this._Form_BackColor = YDataRendering.YColor.FromArgb(0xff, 0xf0, 0xf0, 0xf0);\n        this._Form_BorderColor = YDataRendering.YColor.LightGray;\n        this._SizeIsRelative = false;\n        this._Form_PositionX = 0;\n        this._Form_PositionY = 0;\n        this._Form_Width = 300;\n        this._Form_Height = 200;\n        this._containerID = \"\";\n        this.ownerForm = Owner;\n        this._Form_Text = \"new window\"; //  StartForm.newWindowName();\n    }\n    destroy() {\n        Object.entries(this).forEach((pair) => { Reflect.set(this, pair[0], null); }); // sets all internal variables to NULL\n    }\n    initFromXmlData(initData) {\n        if (initData != null)\n            this.loadProperties(initData, this.ownerForm, this);\n    }\n    loadProperties(initData, Owner, o) {\n        let value;\n        this.ownerForm = Owner;\n        if (initData != null) {\n            let properties = GenericProperties.getAllProperties(o);\n            let childs = initData.get_childsByName();\n            for (let propname in properties.byName) {\n                let p = properties.byName[propname];\n                if (p.isWritable) {\n                    for (let childName in childs) {\n                        if (childName == propname) {\n                            let target = Reflect.get(o, propname);\n                            let Mustload = true;\n                            if (\"NotSavedInXMLAttribute\" in p.Attributes) {\n                                Mustload = p.Attributes[\"NotSavedInXMLAttribute\"];\n                            }\n                            if (Mustload) {\n                                if (GenericProperties.IsStructured(target)) {\n                                    this.loadProperties(childs[childName], Owner, target);\n                                }\n                                else {\n                                    let targetType = typeof target;\n                                    let attributes = childs[childName].get_attributes();\n                                    let value = attributes[\"value\"];\n                                    //console.log(childName+\" : \"+targetType+\" = \"+value);\n                                    // sensor\n                                    if (target instanceof YoctoVisualization.CustomYSensor) {\n                                        if ((value.toUpperCase() != \"NULL\") && (value != \"\")) {\n                                            let s = YoctoVisualization.sensorsManager.AddNewSensor(value);\n                                            Reflect.set(o, propname, s);\n                                        }\n                                        else {\n                                            Reflect.set(o, propname, YoctoVisualization.sensorsManager.getNullSensor());\n                                        }\n                                    }\n                                    else if (target instanceof YDataRendering.YEnumItem) { //let  d :  YoctoVisualization.doubleNan =  new YoctoVisualization.doubleNan(value);\n                                        Reflect.set(o, propname, target.fromString(value));\n                                    }\n                                    else if (target instanceof YoctoVisualization.doubleNan) {\n                                        let d = new YoctoVisualization.doubleNan(value);\n                                        Reflect.set(o, propname, d);\n                                    }\n                                    else if (target instanceof YDataRendering.xAxisPosition) {\n                                        let xpos = Number(value);\n                                        let rel = attributes[\"relative\"].toUpperCase() == \"TRUE\";\n                                        Reflect.set(o, propname, new YDataRendering.xAxisPosition(xpos, rel));\n                                    }\n                                    else if (target instanceof YDataRendering.YColor) {\n                                        let c = YDataRendering.YColor.FromString(value);\n                                        if (c == null)\n                                            c = YDataRendering.YColor.Black;\n                                        Reflect.set(o, propname, c.clone());\n                                    }\n                                    else if (target instanceof YDataRendering.YFont) {\n                                        let size = attributes[\"size\"];\n                                        let color = attributes[\"color\"];\n                                        let italic = attributes[\"italic\"];\n                                        let bold = attributes[\"bold\"];\n                                        let f = Reflect.get(o, propname);\n                                        f.name = value;\n                                        f.size = size !== \"undefined\" ? Number(size) : 10;\n                                        let c = YDataRendering.YColor.FromString(color);\n                                        f.color = c != null ? c : YDataRendering.YColor.Black.clone();\n                                        f.italic = italic.toUpperCase() == \"TRUE\";\n                                        f.bold = bold.toUpperCase() == \"TRUE\";\n                                    }\n                                    else {\n                                        switch (targetType) {\n                                            case \"string\":\n                                                Reflect.set(o, propname, value);\n                                                break;\n                                            case \"number\":\n                                                Reflect.set(o, propname, Number(value));\n                                                break;\n                                            case \"boolean\":\n                                                let v = value.toUpperCase() == \"TRUE\";\n                                                Reflect.set(o, propname, v);\n                                                break;\n                                            default:\n                                                debugger;\n                                                throw \"unhandled target type : \" + targetType + \"(\" + target.constructor.name + \")\";\n                                        }\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n    get ATTR_Form_Text__DisplayName() { return \"Window title\"; }\n    get ATTR_Form_Text__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_Text__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_Form_Text__DescriptionAttribute() { return \"Widget name. This name is not show on display, but it might help you to identify each widget. \"; }\n    get Form_Text() { return this._Form_Text; }\n    set Form_Text(value) { this._Form_Text = value; }\n    get ATTR_Form_BackColor__DisplayName() { return \"Background color\"; }\n    get ATTR_Form_BackColor__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_BackColor__DescriptionAttribute() { return \"Window background color.\"; }\n    get Form_BackColor() { return this._Form_BackColor; }\n    set Form_BackColor(value) { this._Form_BackColor = value; }\n    get ATTR_Form_BorderColor__DisplayName() { return \"Border color\"; }\n    get ATTR_Form_BorderColor__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_BorderColor__DescriptionAttribute() { return \"Window border color, use transparent color to hide the border.\"; }\n    get Form_BorderColor() { return this._Form_BorderColor; }\n    set Form_BorderColor(value) { this._Form_BorderColor = value; }\n    get ATTR_Form_SizeIsRelative__NotSavedInXMLAttribute() { return true; }\n    get ATTR_Form_SizeIsRelative__DisplayName() { return \"Rel. size and pos.\"; }\n    get ATTR_Form_SizeIsRelative__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_SizeIsRelative__DescriptionAttribute() { return \"Makes widget size and position relative to container size. This, for instance, allows to make a widget automatically occupy all of the browser viewport, no matter the browser window size. In relative mode, position and size value are expressed in %\"; }\n    get ATTR_Form_SizeIsRelative__ChangeCausesParentRefreshAttribute() { return true; }\n    get Form_SizeIsRelative() { return this._SizeIsRelative; }\n    set Form_SizeIsRelative(value) { this._SizeIsRelative = value; }\n    // Form/widget positions are handled differently (inheritance from the C# version)\n    get ATTR_Form_PositionX__NotSavedInXMLAttribute() { return true; }\n    get ATTR_Form_PositionX__DisplayName() { return \"Left\"; }\n    get ATTR_Form_PositionX__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_PositionX__DescriptionAttribute() { return \"Widget left border X position\"; }\n    get Form_PositionX() { return this._Form_PositionX; }\n    set Form_PositionX(value) { this._Form_PositionX = value; }\n    // Form/widget positions are handled differently (inheritance from the C# version)\n    get ATTR_Form_PositionY__NotSavedInXMLAttribute() { return true; }\n    get ATTR_Form_PositionY__DisplayName() { return \"Top\"; }\n    get ATTR_Form_PositionY__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_PositionY__DescriptionAttribute() { return \"Widget top border Y position\"; }\n    get Form_PositionY() { return this._Form_PositionY; }\n    set Form_PositionY(value) { this._Form_PositionY = value; }\n    // Form/widget positions are handled differently (inheritance from the C# version)\n    get ATTR_Form_Width__NotSavedInXMLAttribute() { return true; }\n    get ATTR_Form_Width__DisplayName() { return \"Width\"; }\n    get ATTR_Form_Width__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_Width__DescriptionAttribute() { return \"Widget width\"; }\n    get Form_Width() { return this._Form_Width; }\n    set Form_Width(value) { this._Form_Width = value; }\n    // Form/widget positions are handled differently (inheritance from the C# version)\n    get ATTR_Form_Height__NotSavedInXMLAttribute() { return true; }\n    get ATTR_Form_Height__DisplayName() { return \"Height\"; }\n    get ATTR_Form_Height__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_Height__DescriptionAttribute() { return \"Widget height\"; }\n    get Form_Height() { return this._Form_Height; }\n    set Form_Height(value) { this._Form_Height = value; }\n    get ATTR_Form_containerID__NotSavedInXMLAttribute() { return true; }\n    get ATTR_Form_containerID__DisplayName() { return \"Container ID\"; }\n    get ATTR_Form_containerID__CategoryAttribute() { return \"Window\"; }\n    get ATTR_Form_containerID__DescriptionAttribute() { return \"Forces the widget to be shown inside an HTML element with a specific ID already present on the page. If ID is empty, the widget is inserted at root level. Be aware that X,Y offsets are kept, you may want to set them to Zero. \"; }\n    get Form_containerID() { return this._containerID; }\n    set Form_containerID(value) { this._containerID = value; }\n    indent(n) { return \" \".repeat(n); }\n    //#ifndef READONLY\n    //    public getXml(deep: number, o?: Object): string\n    //    {\n    //        if (typeof (o) == \"undefined\") o = this;\n    //        let res: string = \"\";\n    //        let value: string = \"\";\n    //        let properties: PropertiesList = GenericProperties.getAllProperties(o);\n    //        let propName: string = \"\";\n    //\n    //        for (propName in properties.byName)\n    //        {\n    //            let p: PropertyDescriptor = properties.byName[propName];\n    //            if (p.isWritable)\n    //            {\n    //                let Mustsave: boolean = true;\n    //                if (\"NotSavedInXMLAttribute\" in p.Attributes) Mustsave = !p.Attributes[\"NotSavedInXMLAttribute\"]\n    //                let child = Reflect.get(o, p.name);\n    //                if (GenericProperties.IsStructured(child))\n    //                {\n    //                    if (Mustsave)\n    //                    {\n    //                        res = res + this.indent(2 * deep) + \"<\" + p.name + \">\\r\\n\"\n    //                            + this.getXml(deep + 1, child)\n    //                            + this.indent(2 * deep) + \"</\" + p.name + \">\\r\\n\";\n    //                    }\n    //                }\n    //                else\n    //                {\n    //                    if (Mustsave)\n    //                    {\n    //                        if (child instanceof YDataRendering.YEnumItem)\n    //                        { value = (child as YDataRendering.YEnumItem).toString }\n    //                        else\n    //                        {\n    //                            let type: string = typeof (child);\n    //                            if (type == \"object\") type = child.constructor.name;\n    //                            switch (type)\n    //                            {\n    //                            case \"boolean\":\n    //                                value = child as boolean ? \"TRUE\" : \"FALSE\";\n    //                                break;\n    //                            case \"number\":\n    //                                value = (child as number).toString();\n    //                                break;\n    //                            case \"string\":\n    //                                value = YoctoVisualization.GenericProperties.escapeXml(child as string);\n    //                                break;\n    //                            case YDataRendering.YColor.name:\n    //                                value = (child as YDataRendering.YColor).toString();\n    //                                break;\n    //                            case YoctoVisualization.doubleNan.name:\n    //                                value = (child as YoctoVisualization.doubleNan).value.toString();\n    //                                break;\n    //                            case  YDataRendering.xAxisPosition.name:\n    //                                let it: YDataRendering.xAxisPosition = child as YDataRendering.xAxisPosition\n    //                                value = it.value.toString() + \"\\\" relative=\\\"\" + (it.relative ? \"True\" : \"False\");\n    //                                break;\n    //                            case YoctoVisualization.NullYSensor.name:\n    //                            case YoctoVisualization.CustomYSensor.name:\n    //                                let s: YoctoVisualization.CustomYSensor = child as YoctoVisualization.CustomYSensor;\n    //                                value = ((s == null) || (s instanceof YoctoVisualization.NullYSensor)) ? \"NULL\" : s.get_hardwareId();\n    //                                break;\n    //                            default:\n    //                                throw \"XML generation : unhandled type (\" + p.type + \")\";\n    //\n    //                            }\n    //                        }\n    //                        res = res + this.indent(2 * deep) + \"<\" + p.name + \" value=\\\"\" + value + \"\\\"/>\\n\";\n    //                    }\n    //                }\n    //            }\n    //        }\n    //        return res;\n    //    }\n    ////#endif\n    static IsStructured(o) {\n        if (o == null)\n            return false;\n        if (typeof o === 'string' || o instanceof String)\n            return false;\n        if (typeof o === 'number' || o instanceof Number)\n            return false;\n        if (typeof o === 'boolean' || o instanceof Boolean)\n            return false;\n        if (o instanceof YDataRendering.YEnumItem)\n            return false;\n        if (o instanceof YoctoVisualization.CustomYSensor)\n            return false;\n        if (o instanceof YDataRendering.YColor)\n            return false;\n        if (o instanceof doubleNan)\n            return false;\n        if (o instanceof YDataRendering.xAxisPosition)\n            return false;\n        if (Object.getOwnPropertyNames(o).length > 0)\n            return true; // sure this is doing what I think\n        return false;\n    }\n    static getObjectFromPath(rootTarget, path) {\n        let FinalTarget = rootTarget;\n        for (let i = 0; i < path.length - 1; i++) {\n            let name = path[i];\n            let index = \"\";\n            while (name.charCodeAt(name.length - 1) >= 48 && name.charCodeAt(name.length - 1) <= 57) {\n                index = name.charAt(name.length - 1) + index;\n                name = name.substring(0, name.length - 1);\n            }\n            if (index == \"\") {\n                FinalTarget = Reflect.get(FinalTarget, name);\n            }\n            else {\n                let arrayObject = Reflect.get(FinalTarget, name);\n                FinalTarget = Reflect.get(arrayObject, parseInt(index));\n            }\n        }\n        return FinalTarget;\n    }\n    //Direction Settings From Target\n    static computePropertyAccess_SFT(WidgetObject, SettingObject, propertySourceName, path) {\n        let res = new PropertyAccess();\n        res.ttype = \"\";\n        res.stype = \"\";\n        res.finalTarget = null;\n        res.terminalSource = null;\n        // FinalTarget = getObjectFromPath(WidgetObject, path);\n        res.terminalSource = GenericProperties.getObjectFromPath(WidgetObject, path);\n        let props = GenericProperties.getAllProperties(res.terminalSource);\n        if (!(path[path.length - 1] in props.byName))\n            return res;\n        res.stype = typeof (res.terminalSource[path[path.length - 1]]);\n        if ((res.stype == \"object\") && (res.terminalSource[path[path.length - 1]] != null)) {\n            res.stype = res.terminalSource[path[path.length - 1]].constructor.name;\n        }\n        res.terminalSource = res.terminalSource[path[path.length - 1]];\n        if (res.terminalSource == null)\n            return res;\n        res.propertyName = propertySourceName;\n        res.finalTarget = SettingObject;\n        let o = res.finalTarget[propertySourceName];\n        res.ttype = typeof (o);\n        if ((res.ttype == \"object\") && (o != null))\n            res.ttype = o.constructor.name;\n        //debugger\n        if (path.length <= 1)\n            return res;\n        for (let i = 1; i < path.length; i++) {\n            res.finalTarget = res.finalTarget[res.propertyName];\n            res.propertyName = path[i];\n        }\n        res.ttype = typeof (res.finalTarget[res.propertyName]);\n        if ((res.ttype == \"object\") && (res.finalTarget[res.propertyName] != null))\n            res.ttype = res.finalTarget[res.propertyName].constructor.name;\n        return res;\n    }\n    static Reflect_getIndexed(o, indexedProp) {\n        //  indexedProp is ending with digit, then o is supposed to\n        //  be an array, but not always (see angularGauge.needleLength1 )\n        let res = Reflect.get(o, indexedProp);\n        if (typeof res !== \"undefined\")\n            return res; // ugly fix about indexes properties\n        let name = indexedProp;\n        let index = \"\";\n        while (name.charCodeAt(name.length - 1) >= 48 && name.charCodeAt(name.length - 1) <= 57) {\n            index = name.charAt(name.length - 1) + index;\n            name = name.substring(0, name.length - 1);\n        }\n        if (index == \"\") {\n            return null;\n            //throw \"Reflect_getIndexed : cannot find property  \" + indexedProp + \" in class \" + o.constructor.name // oops\n        }\n        res = Reflect.get(o, name);\n        return Reflect.get(res, parseInt(index));\n    }\n    static computePropertyAccess(rootTarget, source, propertySourceName, path) {\n        let res = new PropertyAccess;\n        res.ttype = \"\";\n        res.finalTarget = GenericProperties.getObjectFromPath(rootTarget, path);\n        res.terminalSource = source;\n        res.terminalSource = Reflect.get(res.terminalSource, propertySourceName);\n        for (let i = 1; i < path.length; i++) {\n            res.terminalSource = Reflect.get(res.terminalSource, path[i]);\n        }\n        res.stype = typeof res.terminalSource;\n        if (res.stype == \"object\")\n            res.stype = res.terminalSource.constructor.name;\n        if (path.length > 0) {\n            res.propertyName = path[path.length - 1];\n            let o = GenericProperties.Reflect_getIndexed(rootTarget, path[0]);\n            if (o == null)\n                return null;\n            for (let i = 1; i < path.length; i++) {\n                try {\n                    o = GenericProperties.Reflect_getIndexed(o, path[i]);\n                    //o=Reflect.get(o, path[i]);\n                }\n                catch (e) {\n                    debugger;\n                }\n            } // something went wrong: cannot descent inside target object\n            res.ttype = typeof o;\n            if (res.ttype == \"object\")\n                res.ttype = o.constructor.name;\n        }\n        else {\n            let targetname = propertySourceName;\n            let n = targetname.indexOf(\"__\");\n            res.propertyName = targetname.substring(n + 2);\n            let o = Reflect.get(rootTarget, res.propertyName);\n            res.ttype = typeof o;\n            if (res.ttype == \"object\")\n                res.ttype = o.constructor.name;\n        }\n        return res;\n    }\n    static newGetProperty(rootTarget, source, propertySourceName, path, filterAllow) {\n        let access = GenericProperties.computePropertyAccess(rootTarget, source, propertySourceName, path);\n        if (access == null)\n            return null;\n        return Reflect.get(access.finalTarget, access.propertyName);\n    }\n    // Direction : settings From Target\n    //Direction : Settings From Target\n    //   public static   copyProperty_SFT( rootTarget:object , source :object ,  propertySourceName: string, path: string[]): void\n    //     {\n    //     copyProperty_SFT(rootTarget, source, propertySourceName, path,  GenericProperties.NoFilter);\n    //     }\n    static copyProperty_SFT(rootTarget, source, propertySourceName, path, filterAllow) {\n        // if ( typeof filterAllow ==\"undefined\")  filterAllow = GenericProperties.NoFilter\n        let ttype = \"\";\n        let stype = \"\";\n        let TerminalSource = null;\n        let p = GenericProperties.computePropertyAccess_SFT(rootTarget, source, propertySourceName, path);\n        if (p.finalTarget == null)\n            return; // the property does not exist in the widget\n        ttype = p.ttype;\n        stype = p.stype;\n        if ((stype == YDataRendering.YColor.name) && (ttype == YDataRendering.YColor.name)) {\n            Reflect.set(p.finalTarget, p.propertyName, p.terminalSource.clone());\n        }\n        else if ((stype == YDataRendering.xAxisPosition.name) && (ttype == YDataRendering.xAxisPosition.name)) {\n            Reflect.set(p.finalTarget, p.propertyName, p.terminalSource.clone());\n        }\n        else if ((p.stype == \"number\") && (ttype == YoctoVisualization.doubleNan.name)) {\n            Reflect.set(p.finalTarget, p.propertyName, new doubleNan(p.terminalSource));\n        }\n        else {\n            Reflect.set(p.finalTarget, p.propertyName, p.terminalSource);\n        }\n    }\n    //Direction :Settings To Target\n    /*\n  static public  copyProperty_STT(object rootTarget, object source, string propertySourceName, List<string> path) : void\n  {\n  copyProperty_STT(rootTarget, source, propertySourceName, path,  NoFilter);\n  }\n   */\n    //Direction :Settings To Target\n    static copyProperty_STT(rootTarget, source, propertySourceName, path, filterAllow) {\n        // if (typeof filterAllow === 'undefined') filterAllow = GenericProperties.NoFilter;\n        let p = GenericProperties.computePropertyAccess(rootTarget, source, propertySourceName, path);\n        if (p == null)\n            return;\n        if ((p.stype == YoctoVisualization.doubleNan.name) && (p.ttype == \"number\")) {\n            let v = p.terminalSource.value;\n            if (Reflect.get(p.finalTarget, p.propertyName) != v) {\n                Reflect.set(p.finalTarget, p.propertyName, v);\n                //#ifndef READONLY\n                //                YoctoVisualization.constants.edited = true;\n                //                //#endif\n            }\n        }\n        else if (p.stype != p.ttype) {\n            debugger;\n        } // something went wrong source and target type don't match\n        else if ((p.stype == YDataRendering.YColor.name) && (p.ttype == YDataRendering.YColor.name)) {\n            let color = p.terminalSource;\n            if (!color.equal(Reflect.get(p.finalTarget, p.propertyName))) {\n                Reflect.set(p.finalTarget, p.propertyName, color.clone());\n                //#ifndef READONLY\n                //                YoctoVisualization.constants.edited = true;\n                //                //#endif\n            }\n        }\n        else if ((p.stype == YoctoVisualization.doubleNan.name) && (p.ttype == YoctoVisualization.doubleNan.name)) {\n            let v = p.terminalSource;\n            if (Reflect.get(p.finalTarget, p.propertyName) != v) {\n                Reflect.set(p.finalTarget, p.propertyName, v.clone());\n                //#ifndef READONLY\n                //                YoctoVisualization.constants.edited = true;\n                //                //#endif\n            }\n        }\n        else if ((p.stype == YDataRendering.xAxisPosition.name) && (p.ttype == YDataRendering.xAxisPosition.name)) {\n            let x = p.terminalSource;\n            let x2 = Reflect.get(p.finalTarget, p.propertyName);\n            if ((x.relative != x2.relative) || (x.value != x2.value)) {\n                Reflect.set(p.finalTarget, p.propertyName, x.clone());\n                //#ifndef READONLY\n                //                YoctoVisualization.constants.edited = true;\n                //                //#endif\n            }\n        }\n        else if (Reflect.get(p.finalTarget, p.propertyName) != p.terminalSource) {\n            Reflect.set(p.finalTarget, p.propertyName, p.terminalSource);\n            //#ifndef READONLY\n            //            YoctoVisualization.constants.edited = true;\n            //            //#endif\n        }\n    }\n    ApplyAllProperties(target) { this.ApplyAllPropertiesEx(target, GenericProperties.NoFilter, 0 /* GenericProperties.APPLYDIRECTION.SETTINGS_TO_TARGET */); }\n    RefreshAllProperties(target) { this.ApplyAllPropertiesEx(target, GenericProperties.NoFilter, 1 /* GenericProperties.APPLYDIRECTION.SETTINGS_FROM_TARGET */); }\n    ApplyProperties(rootSource, rootTarget, fullpropname, sourceValue, path, direction) {\n        if (sourceValue instanceof YoctoVisualization.AlarmSection)\n            return; // dirty hack: alarms are not handled through reflexion\n        let sourceproperties = GenericProperties.getAllProperties(this);\n        if (\"CopyToTarget\" in sourceproperties.byName[fullpropname].Attributes) {\n            if (!sourceproperties.byName[fullpropname].Attributes[\"CopyToTarget\"]) {\n                return;\n            }\n        }\n        if (!GenericProperties.IsStructured(sourceValue)) {\n            if (direction == 0 /* GenericProperties.APPLYDIRECTION.SETTINGS_TO_TARGET */) {\n                GenericProperties.copyProperty_STT(rootTarget, this, fullpropname, path);\n            }\n            else {\n                GenericProperties.copyProperty_SFT(rootTarget, this, fullpropname, path);\n            }\n        }\n        else {\n            // map all target's user data to its mirrored source\n            let path2 = path.slice(); // array Close\n            path2.push(\"\");\n            let target = GenericProperties.getObjectFromPath(rootTarget, path2);\n            Reflect.set(target, \"userData\", sourceValue);\n            // recursive decent in structured property\n            let sourceproperties = GenericProperties.getAllProperties(sourceValue);\n            for (let subpropname in sourceproperties.byName) {\n                let shouldcopy = true;\n                if (\"CopyToTarget\" in sourceproperties.byName[subpropname].Attributes) {\n                    shouldcopy = sourceproperties.byName[subpropname].Attributes[\"CopyToTarget\"];\n                }\n                if ((sourceproperties.byName[subpropname].isWritable) && shouldcopy) {\n                    path.push(subpropname);\n                    this.ApplyProperties(rootSource, rootTarget, fullpropname, Reflect.get(sourceValue, subpropname), path, direction);\n                    path.splice(path.length - 1, 1);\n                }\n            }\n        }\n    }\n    // will return true  if property has a getter or a setter\n    static isProperty(proto, propName) {\n        let d = Reflect.getOwnPropertyDescriptor(proto, propName); // unknown type , no info found in API\n        let list = Object.getOwnPropertyNames(d);\n        for (let i = 0; i < list.length; i++) {\n            if (list[i] == \"set\")\n                return true;\n            if (list[i] == \"get\")\n                return true;\n        }\n        return false;\n    }\n    // will return true if property has  an implemented  setter\n    static isWritable(proto, propName) {\n        let d = Reflect.getOwnPropertyDescriptor(proto, propName); // unknown type , no info found in API\n        let list = Object.getOwnPropertyNames(d);\n        for (let i = 0; i < list.length; i++) {\n            if (list[i] == \"set\") { // @ts-ignore\n                if (typeof (d.set) !== \"undefined\")\n                    return true;\n            }\n        }\n        return false;\n    }\n    static getAllProperties(o) {\n        if (typeof (o) === \"undefined\")\n            debugger;\n        // this is the YoctoVisualization \"magic\"  function\n        //\n        // we are trying to construct a list of all o object public properties\n        // (getter and setter). Since enumerating the object key only return\n        // the object \"variables\" we iterate through the object prototype,\n        // and through the object parent to get inherited properties as well.\n        // this function is quite heavy and can be called many times\n        // for the same object, so we store the result in the\n        // object itself for future uses\n        if (o.hasOwnProperty('PropertiesDescriptionCache')) {\n            return o[\"PropertiesDescriptionCache\"];\n        }\n        let proto = Object.getPrototypeOf(o);\n        let res = new PropertiesList();\n        let p = proto;\n        let entries = [];\n        let genealogy = [];\n        while (p != null) {\n            genealogy.push(p);\n            p = Object.getPrototypeOf(p);\n        }\n        // build the structure to make sure that\n        // A/ definition order is kept\n        // B/ inherited properties are listed last\n        // C/ overridden properties are not listed\n        for (let j = genealogy.length - 1; j >= 0; j--) {\n            let names = Object.getOwnPropertyNames(genealogy[j]);\n            let index = 0;\n            for (let i = 0; i < names.length; i++) {\n                if ((names[i] != \"constructor\") && (!names[i].startsWith(\"__\"))) {\n                    entries.splice(index, 0, new PropDescription(names[i], genealogy[j]));\n                    index++;\n                    for (let k = entries.length - 1; k >= index; k--) {\n                        if (entries[k].name == names[i])\n                            entries.splice(k, 1);\n                    } // remove overridden properties\n                }\n            }\n        }\n        //let propNames: string [] = Object.keys(keys);\n        for (let i = 0; i < entries.length; i++) {\n            if ((!entries[i].name.startsWith(\"ATTR\")) && (entries[i].name != \"constructor\") && (!entries[i].name.startsWith(\"__\"))) {\n                if (GenericProperties.isProperty(entries[i].prop, entries[i].name)) {\n                    let d = new PropertyDescriptor(entries[i].name);\n                    res.byIndex.push(d);\n                    res.byName[d.name] = d;\n                    d.isWritable = GenericProperties.isWritable(entries[i].prop, entries[i].name);\n                    d.isEnum = o[entries[i].name] instanceof YDataRendering.YEnumItem;\n                    d.type = typeof (o[entries[i].name]);\n                    if ((d.type == \"object\") && (o[entries[i].name] != null)) {\n                        d.type = o[entries[i].name].constructor.name;\n                    }\n                }\n            }\n        }\n        for (let i = 0; i < entries.length; i++) {\n            if (entries[i].name.startsWith(\"ATTR_\")) {\n                let p = entries[i].name.indexOf(\"__\");\n                if (p < 5)\n                    debugger; //  ATTR_*  definition incorrect: should be ATTR_propName__attrName\n                let name = entries[i].name.substring(5, p);\n                let attr = entries[i].name.substring(p + 2);\n                if (typeof (res.byName[name]) === \"undefined\")\n                    debugger; // unknown propName in ATTR_propName__attrName\n                try {\n                    res.byName[name].Attributes[attr] = Reflect.get(o, entries[i].name);\n                    //  res[name].Attributes[attr] = Reflect.apply(Reflect.get(o, propNames[i]), o, []); // calls method propNames[i] in object o,  tricky huh !?\n                }\n                catch (e) {\n                    debugger;\n                }\n            }\n        }\n        o[\"PropertiesDescriptionCache\"] = res;\n        return res;\n    }\n    ApplyAllPropertiesEx(target, filter, direction) {\n        //let proto  = Object.getPrototypeOf(this)\n        //let propNames : string [] =  Object.getOwnPropertyNames(proto)\n        let properties = GenericProperties.getAllProperties(this);\n        for (let fullpropname in properties.byName) {\n            if (properties.byName[fullpropname].isWritable) {\n                let index = fullpropname.indexOf(\"_\");\n                if (index < 0)\n                    throw (\"invalid Property name\");\n                let propType = fullpropname.substring(0, index);\n                let propname = fullpropname.substring(index + 1);\n                let path = [];\n                path.push(propname);\n                if ((target instanceof YoctoVisualization.YWidget) && (propType == \"Form\")) {\n                    this.ApplyProperties(this, target, fullpropname, Reflect.get(this, fullpropname), path, direction);\n                }\n                if ((target instanceof YDataRendering.YAngularGauge) && (propType == \"AngularGauge\")) {\n                    this.ApplyProperties(this, target, fullpropname, Reflect.get(this, fullpropname), path, direction);\n                }\n                if ((target instanceof YDataRendering.YDigitalDisplay) && (propType == \"display\")) {\n                    this.ApplyProperties(this, target, fullpropname, Reflect.get(this, fullpropname), path, direction);\n                }\n                if ((target instanceof YDataRendering.YSolidGauge) && (propType == \"SolidGauge\")) {\n                    this.ApplyProperties(this, target, fullpropname, Reflect.get(this, fullpropname), path, direction);\n                }\n                if ((target instanceof YDataRendering.YGraph) && (propType == \"Graph\")) {\n                    this.ApplyProperties(this, target, fullpropname, Reflect.get(this, fullpropname), path, direction);\n                }\n            }\n        }\n    }\n}\nGenericProperties.XmlFileVersion = -1;\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  all widgets customizable properties are described here\n*  feel free to remove/modify/add more.\n*\n*\n*  Prefix describe the widget\n*  Name must match the widget properties\n*  example:\n*   GaugeFormProperties contains\n*     SolidGauge_Uses360Mode which matches the  SolidGauge's Uses360Mode properties\n*\n*  Some properties might have an  index\n*  example\n*    for graphs\n*    Graphs_series0  is the first series\n*    ....\n*    Graphs_series3  is the fourth series\n*    if you need a fifth series, just create a Graphs_series4 properties\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YDataRendering from \"./Renderer/YDataRendererFull.js\";\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nclass GenericHints {\n}\nGenericHints.DevConfAffected = \" Changing this value will affect the device configuration.\";\nGenericHints.CheckSensor = \"If the sensor you want to use is connected, but not listed or listed as OFFLINE, check USB / Network configuration in the global configuration.\";\nGenericHints.AnnotationGraph = \"Annotation text.  Use \\\\n for carriage returns. Some variables are available: $DAY$ $MONTH$ $YEAR$ for date, $HOUR$ $MINUTE$ $SECOND$ for time, $AVGVALUE1$ $MINVALUE1$ $MAXVALUE1$ $NAME1$ $UNIT1$  for first series data, $AVGVALUE2$ $MINVALUE2$ $MAXVALUE2$ $NAME2$ $UNIT2$  for second series data and so on\";\nGenericHints.Annotation = \"Annotation text.  Use \\\\n for carriage returns. Some variables are available: $DAY$ $MONTH$ $YEAR$ for date, $HOUR$ $MINUTE$ $SECOND$ for time, $AVGVALUE$ $MINVALUE$ $MAXVALUE$ $NAME$ $UNIT$ for sensor related data.\";\nexport class TypeDescription {\n    static get AllowedValues() { return []; }\n}\nexport class sensorFreqTypeDescription {\n    static get AllowedValues() { return this._AllowedValues; }\n}\nsensorFreqTypeDescription._AllowedValues = [\"25/s\", \"10/s\", \"5/s\", \"4/s\", \"3/s\", \"2/s\", \"1/s\",\n    \"60/m\", \"30/m\", \"12/m\", \"6/m\", \"4/m\", \"3/m\", \"2/m\", \"1/m\",\n    \"30/h\", \"12/h\", \"6/h\", \"4/h\", \"3/h\", \"2/h\", \"1/h\"];\nexport class yAxisDescription {\n    static initialize() {\n        let yaxiscount = 0;\n        let obj = new GraphFormProperties(null, null);\n        let names = Object.getOwnPropertyNames(obj);\n        names.forEach((name) => {\n            if (name.startsWith(\"_Graph_yAxes\"))\n                yaxiscount++;\n        });\n        for (let i = 0; i < yaxiscount; i++) {\n            switch (i) {\n                case 0:\n                    this._AllowedValues.push(\"1srt Y axis\");\n                    break;\n                case 1:\n                    this._AllowedValues.push(\"2nd Y axis\");\n                    break;\n                case 2:\n                    this._AllowedValues.push(\"3rd Y axis\");\n                    break;\n                default:\n                    this._AllowedValues.push((i + 1).toString() + \"th Y axis\");\n                    break;\n            }\n        }\n        yAxisDescription.initialized = true;\n    }\n    static get AllowedValues() {\n        if (!yAxisDescription.initialized)\n            yAxisDescription.initialize();\n        return this._AllowedValues;\n    }\n}\nyAxisDescription._AllowedValues = [];\nexport class AlarmTestTypeDescription {\n    static get AllowedValues() { return this._AllowedValues; }\n}\nAlarmTestTypeDescription._AllowedValues = [\"Disabled\", \">\", \">=\", \"=\", \"<=\", \"<\"];\nexport class fontNameTypeDescription {\n    static fontNameTypeDescription() {\n        // in C# this is used to detect available fonts.\n    }\n    static get AllowedValues() { return this._AllowedValues; }\n}\nfontNameTypeDescription._AllowedValues = [\"Arial\",\n    \"Brush Script MT\",\n    \"Comic Sans MS\",\n    \"Courier New\",\n    \"Garamond\",\n    \"Georgia\",\n    \"Helvetica\",\n    \"Impact\",\n    \"Tahoma\",\n    \"Times New Roman\",\n    \"Trebuchet MS\",\n    \"Verdana\"];\nexport class sensorPrecisionTypeDescription {\n    static get AllowedValues() { return this._AllowedValues; }\n}\nsensorPrecisionTypeDescription._AllowedValues = [\"0\", \"0.1\", \"0.12\", \"0.123\"];\nexport class sensorDataTypeDescription {\n    static get AllowedValues() { return this._AllowedValues; }\n}\nsensorDataTypeDescription._AllowedValues = [\"Avg values\", \"Min values\", \"Max values\"];\nexport class GaugeFormProperties extends YoctoVisualization.GenericProperties {\n    constructor(initData, owner) {\n        super(owner);\n        this._DataSource_source = YoctoVisualization.sensorsManager.getNullSensor();\n        this._DataSource_precision = \"0.1\";\n        this._DataSource_AlarmSection0 = new AlarmSection(0);\n        this._DataSource_AlarmSection1 = new AlarmSection(1);\n        this._SolidGauge_min = 0;\n        this._SolidGauge_max = 100;\n        this._SolidGauge_showMinMax = true;\n        this._SolidGauge_color1 = YDataRendering.YColor.LightGreen;\n        this._SolidGauge_color2 = YDataRendering.YColor.Red;\n        this._SolidGauge_font = new FontDescription(\"Arial\", 20, YDataRendering.YColor.Black, false, true);\n        this._SolidGauge_minMaxFont = new FontDescription(\"Arial\", 10, YDataRendering.YColor.Black, false, true);\n        this._SolidGauge_displayMode = YDataRendering.YSolidGauge.DisplayMode.DISPLAY90;\n        this._SolidGauge_borderColor = YDataRendering.YColor.Black;\n        this._SolidGauge_borderThickness = 2;\n        this._SolidGauge_backgroundColor1 = YDataRendering.YColor.FromArgb(255, 240, 240, 240);\n        this._SolidGauge_backgroundColor2 = YDataRendering.YColor.FromArgb(255, 200, 200, 200);\n        this._SolidGauge_thickness = 25;\n        this._SolidGauge_maxSpeed = 1;\n        this._annotationPanels0 = new AnnotationPanelDescription(YDataRendering.GenericPanel.HorizontalAlignPos.CENTER, YDataRendering.GenericPanel.VerticalAlignPos.BOTTOM, 0, false, \"$NAME$\", YDataRendering.YColor.FromArgb(0, 127, 127, 127), YDataRendering.YColor.FromArgb(0, 127, 127, 127), 10.0, YDataRendering.YColor.FromArgb(255, 0, 0, 0));\n        this._annotationPanels1 = new AnnotationPanelDescription(YDataRendering.GenericPanel.HorizontalAlignPos.CENTER, YDataRendering.GenericPanel.VerticalAlignPos.BOTTOM, 0, false, \"$NAME$\", YDataRendering.YColor.FromArgb(0, 127, 127, 127), YDataRendering.YColor.FromArgb(0, 127, 127, 127), 10.0, YDataRendering.YColor.FromArgb(255, 0, 0, 0));\n        this.initFromXmlData(initData);\n        this.PropagateDataSourceChange();\n    }\n    PropagateDataSourceChange() {\n        this.ownerForm.SourceChanged(this._DataSource_source, 0);\n        let props = YoctoVisualization.GenericProperties.getAllProperties(this).byName;\n        let name;\n        for (name in props) {\n            if (name.startsWith(\"DataSource_AlarmSection\")) {\n                this[name].setDataSource(this._DataSource_source); // not sure it will work\n            }\n        }\n    }\n    get ATTR_DataSource_source__DisplayName() { return \"Sensor\"; }\n    get ATTR_DataSource_source__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_source__ParamCategorySummaryAttribute() { return \"sensorDescription\"; }\n    get ATTR_DataSource_source__PreExpandedCategoryAttribute() { return true; }\n    get ATTR_DataSource_source__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_DataSource_source__DescriptionAttribute() { return \"Yoctopuce sensor feeding the gauge. \"; }\n    get DataSource_source() { return this._DataSource_source; }\n    set DataSource_source(value) {\n        let prev = this._DataSource_source;\n        this._DataSource_source = value;\n        this.PropagateDataSourceChange();\n        //#ifndef READONLY\n        //        if (this._DataSource_source != prev) YoctoVisualization.constants.edited = true;\n        //        //#endif\n    }\n    get sensorDescription() {\n        return this._DataSource_source instanceof YoctoVisualization.NullYSensor ? \"none\" : this._DataSource_source.get_friendlyName();\n    }\n    get isSensorReadOnly() { return this._DataSource_source.isReadOnly; }\n    get ATTR_DataSource_freq__DisplayName() { return \"Sensor freq\"; }\n    get ATTR_DataSource_freq__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_freq__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_freq__IsReadonlyCallAttribute() { return this.isSensorReadOnly; }\n    get ATTR_DataSource_freq__AllowedValues() { return sensorFreqTypeDescription.AllowedValues; }\n    get ATTR_DataSource_freq__DescriptionAttribute() { return \"Sensor data acquisition frequency.\" + GenericHints.DevConfAffected; }\n    get DataSource_freq() { return this._DataSource_source.get_frequency(); }\n    set DataSource_freq(value) { this._DataSource_source.set_frequency(value); }\n    get ATTR_DataSource_precision__DisplayName() { return \"Precision\"; }\n    get ATTR_DataSource_precision__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_precision__DescriptionAttribute() { return \"How many digits shown after the decimal point\"; }\n    get ATTR_DataSource_precision__AllowedValues() { return sensorPrecisionTypeDescription.AllowedValues; }\n    get DataSource_precision() { return this._DataSource_precision; }\n    set DataSource_precision(value) { this._DataSource_precision = value; }\n    get ATTR_DataSource_AlarmSection0__DisplayName() { return \"Sensor value alarm 1\"; }\n    get ATTR_DataSource_AlarmSection0__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__ReadOnlyAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_AlarmSection0__DescriptionAttribute() { return \"Alarm 1 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection0() { return this._DataSource_AlarmSection0; }\n    set DataSource_AlarmSection0(value) { this._DataSource_AlarmSection0 = value; }\n    get ATTR_DataSource_AlarmSection1__DisplayName() { return \"Sensor value alarm 2\"; }\n    get ATTR_DataSource_AlarmSection1__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__ReadOnlyAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_AlarmSection1__DescriptionAttribute() { return \"Alarm 2 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection1() { return this._DataSource_AlarmSection1; }\n    set DataSource_AlarmSection1(value) { this._DataSource_AlarmSection1 = value; }\n    get ATTR_SolidGauge_min__DisplayName() { return \"Minimum value\"; }\n    get ATTR_SolidGauge_min__CategoryAttribute() { return \"Values range\"; }\n    get ATTR_SolidGauge_min__DescriptionAttribute() { return \"Minimum value displayable by the gauge.\"; }\n    get SolidGauge_min() { return this._SolidGauge_min; }\n    set SolidGauge_min(value) { this._SolidGauge_min = value; }\n    get ATTR_SolidGauge_max__DisplayName() { return \"Maximum value\"; }\n    get ATTR_SolidGauge_max__CategoryAttribute() { return \"Values range\"; }\n    get ATTR_SolidGauge_max__DescriptionAttribute() { return \"Maximum value displayable by the gauge.\"; }\n    get SolidGauge_max() { return this._SolidGauge_max; }\n    set SolidGauge_max(value) { this._SolidGauge_max = value; }\n    get ATTR_SolidGauge_showMinMax__DisplayName() { return \"show  min/max\"; }\n    get ATTR_SolidGauge_showMinMax__CategoryAttribute() { return \"Values range\"; }\n    get ATTR_SolidGauge_showMinMax__DescriptionAttribute() { return \"Show the min / max values.\"; }\n    get SolidGauge_showMinMax() { return this._SolidGauge_showMinMax; }\n    set SolidGauge_showMinMax(value) { this._SolidGauge_showMinMax = value; }\n    get ATTR_SolidGauge_color1__DisplayName() { return \"Min Color\"; }\n    get ATTR_SolidGauge_color1__CategoryAttribute() { return \"Values range\"; }\n    get ATTR_SolidGauge_color1__DescriptionAttribute() { return \"Color for minimum value.\"; }\n    get SolidGauge_color1() { return this._SolidGauge_color1; }\n    set SolidGauge_color1(value) { this._SolidGauge_color1 = value; }\n    get ATTR_SolidGauge_color2__DisplayName() { return \"Max Color\"; }\n    get ATTR_SolidGauge_color2__CategoryAttribute() { return \"Values range\"; }\n    get ATTR_SolidGauge_color2__DescriptionAttribute() { return \"Color for maximum value.\"; }\n    get SolidGauge_color2() { return this._SolidGauge_color2; }\n    set SolidGauge_color2(value) { this._SolidGauge_color2 = value; }\n    get ATTR_SolidGauge_font__DisplayName() { return \"Unit  Font\"; }\n    get ATTR_SolidGauge_font__CategoryAttribute() { return \"Fonts\"; }\n    get ATTR_SolidGauge_font__ReadOnlyAttribute() { return true; }\n    get ATTR_SolidGauge_font__DescriptionAttribute() { return \"Font for displaying the value/status indicator\"; }\n    get SolidGauge_font() { return this._SolidGauge_font; }\n    set SolidGauge_font(value) { this._SolidGauge_font = value; }\n    get ATTR_SolidGauge_minMaxFont__DisplayName() { return \"Min Max  Font\"; }\n    get ATTR_SolidGauge_minMaxFont__CategoryAttribute() { return \"Fonts\"; }\n    get ATTR_SolidGauge_minMaxFont__ReadOnlyAttribute() { return true; }\n    get ATTR_SolidGauge_minMaxFont__DescriptionAttribute() { return \"Font for displaying min/max values\"; }\n    get SolidGauge_minMaxFont() { return this._SolidGauge_minMaxFont; }\n    set SolidGauge_minMaxFont(value) { this._SolidGauge_minMaxFont = value; }\n    get ATTR_SolidGauge_displayMode__DisplayName() { return \"Display mode\"; }\n    get ATTR_SolidGauge_displayMode__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_displayMode__DescriptionAttribute() { return \"Dial general shape\"; }\n    get SolidGauge_displayMode() { return this._SolidGauge_displayMode; }\n    set SolidGauge_displayMode(value) { this._SolidGauge_displayMode = value; }\n    get ATTR_SolidGauge_borderColor__DisplayName() { return \"Border color\"; }\n    get ATTR_SolidGauge_borderColor__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_borderColor__DescriptionAttribute() { return \"Dial border color.\"; }\n    get SolidGauge_borderColor() { return this._SolidGauge_borderColor; }\n    set SolidGauge_borderColor(value) { this._SolidGauge_borderColor = value; }\n    get ATTR_SolidGauge_borderThickness__DisplayName() { return \"Border thickness \"; }\n    get ATTR_SolidGauge_borderThickness__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_borderThickness__DescriptionAttribute() { return \"Thickness of the dial border\"; }\n    get SolidGauge_borderThickness() { return this._SolidGauge_borderThickness; }\n    set SolidGauge_borderThickness(value) { this._SolidGauge_borderThickness = value; }\n    get ATTR_SolidGauge_backgroundColor1__DisplayName() { return \"Background color 1\"; }\n    get ATTR_SolidGauge_backgroundColor1__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_backgroundColor1__DescriptionAttribute() { return \"Dial background gradient color 1.\"; }\n    get SolidGauge_backgroundColor1() { return this._SolidGauge_backgroundColor1; }\n    set SolidGauge_backgroundColor1(value) { this._SolidGauge_backgroundColor1 = value; }\n    get ATTR_SolidGauge_backgroundColor2__DisplayName() { return \"Background color 2\"; }\n    get ATTR_SolidGauge_backgroundColor2__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_backgroundColor2__DescriptionAttribute() { return \"Dial background gradient color 2.\"; }\n    get SolidGauge_backgroundColor2() { return this._SolidGauge_backgroundColor2; }\n    set SolidGauge_backgroundColor2(value) { this._SolidGauge_backgroundColor2 = value; }\n    get ATTR_SolidGauge_thickness__DisplayName() { return \"Dial thickness (%) \"; }\n    get ATTR_SolidGauge_thickness__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_thickness__DescriptionAttribute() { return \"Thickness of the dial, in percentage relative to radius\"; }\n    get SolidGauge_thickness() { return this._SolidGauge_thickness; }\n    set SolidGauge_thickness(value) { this._SolidGauge_thickness = value; }\n    get ATTR_SolidGauge_maxSpeed__DisplayName() { return \"Max speed (%) \"; }\n    get ATTR_SolidGauge_maxSpeed__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_SolidGauge_maxSpeed__DescriptionAttribute() { return \"Maximum speed of the dial in percentage relative to Max-Min. This is meant to limit \\\"teleporting\\\" effects.\"; }\n    get SolidGauge_maxSpeed() { return this._SolidGauge_maxSpeed; }\n    set SolidGauge_maxSpeed(value) { this._SolidGauge_maxSpeed = value; }\n    IsDataSourceAssigned() {\n        return !(this._DataSource_source instanceof YoctoVisualization.NullYSensor);\n    }\n    get ATTR_SolidGauge_annotationPanels0__DisplayName() { return \"Annotation 1\"; }\n    get ATTR_SolidGauge_annotationPanels0__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_SolidGauge_annotationPanels0__ReadOnlyAttribute() { return true; }\n    get ATTR_SolidGauge_annotationPanels0__DescriptionAttribute() { return \"Customizable text panels\"; }\n    get SolidGauge_annotationPanels0() { return this._annotationPanels0; }\n    set SolidGauge_annotationPanels0(value) { this._annotationPanels0 = value; }\n    get ATTR_SolidGauge_annotationPanels1__DisplayName() { return \"Annotation 2\"; }\n    get ATTR_SolidGauge_annotationPanels1__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_SolidGauge_annotationPanels1__ReadOnlyAttribute() { return true; }\n    get ATTR_SolidGauge_annotationPanels1__DescriptionAttribute() { return \"Customizable text panels\"; }\n    get SolidGauge_annotationPanels1() { return this._annotationPanels1; }\n    set SolidGauge_annotationPanels1(value) { this._annotationPanels1 = value; }\n}\n//****************************\n//  angular gauge\n//****************************\nexport class AngularGaugeFormProperties extends YoctoVisualization.GenericProperties {\n    constructor(initData, owner) {\n        super(owner);\n        this._DataSource_source = YoctoVisualization.sensorsManager.getNullSensor();\n        this._DataSource_AlarmSection0 = new AlarmSection(0);\n        this._DataSource_AlarmSection1 = new AlarmSection(1);\n        this._AngularGauge_min = 0;\n        this._AngularGauge_max = 100;\n        this._AngularGauge_unitFactor = 1;\n        this._AngularGauge_graduation = 10;\n        this._AngularGauge_graduationSize = 10;\n        this._AngularGauge_graduationOuterRadiusSize = 98;\n        this._AngularGauge_graduationThickness = 2;\n        this._AngularGauge_graduationColor = YDataRendering.YColor.Black;\n        this._AngularGauge_graduationFont = new FontDescription(\"Arial\", 20, YDataRendering.YColor.Black, false, true);\n        this._AngularGauge_subgraduationCount = 5;\n        this._AngularGauge_subgraduationSize = 5;\n        this._AngularGauge_subgraduationThickness = 1;\n        this._AngularGauge_subgraduationColor = YDataRendering.YColor.Black;\n        this._AngularGauge_needleColor = YDataRendering.YColor.Red;\n        this._AngularGauge_needleContourColor = YDataRendering.YColor.DarkRed;\n        this._AngularGauge_needleContourThickness = 1;\n        this._AngularGauge_needleLength1 = 90;\n        this._AngularGauge_needleLength2 = 15;\n        this._AngularGauge_needleWidth = 5;\n        this._AngularGauge_needleMaxSpeed = 0.5;\n        this._AngularGauge_unitFont = new FontDescription(\"Arial\", 24, YDataRendering.YColor.DarkGray, false, true);\n        this._AngularGauge_statusFont = new FontDescription(\"Arial\", 24, YDataRendering.YColor.DarkGray, false, true);\n        this._AngularGauge_borderColor = YDataRendering.YColor.Black;\n        this._AngularGauge_borderThickness = 5;\n        this._AngularGauge_backgroundColor1 = YDataRendering.YColor.FromArgb(255, 240, 240, 240);\n        this._AngularGauge_backgroundColor2 = YDataRendering.YColor.FromArgb(255, 200, 200, 200);\n        this._AngularGauge_zones0 = new AngularZoneDescription(0, 50, YDataRendering.YColor.LightGreen);\n        this._AngularGauge_zones1 = new AngularZoneDescription(0, 50, YDataRendering.YColor.Yellow);\n        this._AngularGauge_zones2 = new AngularZoneDescription(0, 50, YDataRendering.YColor.Red);\n        this._annotationPanels0 = new AnnotationPanelDescription(YDataRendering.GenericPanel.HorizontalAlignPos.CENTER, YDataRendering.GenericPanel.VerticalAlignPos.CENTER, 0, false, \"$NAME$\", YDataRendering.YColor.FromArgb(0, 127, 127, 127), YDataRendering.YColor.FromArgb(0, 127, 127, 127), 10.0, YDataRendering.YColor.FromArgb(255, 0, 0, 0));\n        this._annotationPanels1 = new AnnotationPanelDescription(YDataRendering.GenericPanel.HorizontalAlignPos.CENTER, YDataRendering.GenericPanel.VerticalAlignPos.BOTTOM, 0, false, \"$NAME$\", YDataRendering.YColor.FromArgb(0, 127, 127, 127), YDataRendering.YColor.FromArgb(0, 127, 127, 127), 10.0, YDataRendering.YColor.FromArgb(255, 0, 0, 0));\n        this.initFromXmlData(initData);\n        this.PropagateDataSourceChange();\n    }\n    PropagateDataSourceChange() {\n        this.ownerForm.SourceChanged(this._DataSource_source, 0);\n        let props = YoctoVisualization.GenericProperties.getAllProperties(this).byName;\n        let name;\n        for (name in props) {\n            if (name.startsWith(\"DataSource_AlarmSection\")) {\n                this[name].setDataSource(this._DataSource_source); // not sure it will work\n            }\n        }\n    }\n    IsDataSourceAssigned() {\n        return !(this._DataSource_source instanceof YoctoVisualization.NullYSensor);\n    }\n    get ATTR_DataSource_source__DisplayName() { return \"Sensor\"; }\n    get ATTR_DataSource_source__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_source__ParamCategorySummaryAttribute() { return \"sensorDescription\"; }\n    get ATTR_DataSource_source__PreExpandedCategoryAttribute() { return true; }\n    get ATTR_DataSource_source__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_DataSource_source__DescriptionAttribute() { return \"Yoctopuce sensor feeding the gauge. \" + GenericHints.CheckSensor; }\n    get DataSource_source() { return this._DataSource_source; }\n    set DataSource_source(value) {\n        let prev = this._DataSource_source;\n        this._DataSource_source = value;\n        this.PropagateDataSourceChange();\n        //#ifndef READONLY\n        //        if (this._DataSource_source != prev) YoctoVisualization.constants.edited = true;\n        //        //#endif\n    }\n    get sensorDescription() {\n        return this._DataSource_source instanceof YoctoVisualization.NullYSensor ? \"none\" : this._DataSource_source.get_friendlyName();\n    }\n    get isSensorReadOnly() { return this._DataSource_source.isReadOnly; }\n    get ATTR_DataSource_freq__DisplayName() { return \"Sensor freq\"; }\n    get ATTR_DataSource_freq__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_freq__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_freq__IsReadonlyCallAttribute() { return \"isSensorReadOnly\"; }\n    get ATTR_DataSource_freq__DescriptionAttribute() { return \"Sensor data acquisition frequency.\" + GenericHints.DevConfAffected; }\n    get ATTR_DataSource_freq__AllowedValues() { return sensorFreqTypeDescription.AllowedValues; }\n    get DataSource_freq() { return this._DataSource_source.get_frequency(); }\n    set DataSource_freq(value) { this._DataSource_source.set_frequency(value); }\n    get ATTR_DataSource_AlarmSection0__DisplayName() { return \"Sensor value alarm 1\"; }\n    get ATTR_DataSource_AlarmSection0__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__ReadOnlyAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_AlarmSection0__DescriptionAttribute() { return \"Alarm 1 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection0() { return this._DataSource_AlarmSection0; }\n    set DataSource_AlarmSection0(value) { this._DataSource_AlarmSection0 = value; }\n    get ATTR_DataSource_AlarmSection1__DisplayName() { return \"Sensor value alarm 2\"; }\n    get ATTR_DataSource_AlarmSection1__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__ReadOnlyAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_AlarmSection1__DescriptionAttribute() { return \"Alarm 2 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection1() { return this._DataSource_AlarmSection1; }\n    set DataSource_AlarmSection1(value) { this._DataSource_AlarmSection1 = value; }\n    get ATTR_AngularGauge_min__DisplayName() { return \"Minimum value\"; }\n    get ATTR_AngularGauge_min__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_min__DescriptionAttribute() { return \"Minimum value displayable by the gauge.\"; }\n    get AngularGauge_min() { return this._AngularGauge_min; }\n    set AngularGauge_min(value) { this._AngularGauge_min = value; }\n    get ATTR_AngularGauge_max__DisplayName() { return \"Maximum value\"; }\n    get ATTR_AngularGauge_max__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_max__DescriptionAttribute() { return \"Maximum value displayable by the gauge.\"; }\n    get AngularGauge_max() { return this._AngularGauge_max; }\n    set AngularGauge_max(value) { this._AngularGauge_max = value; }\n    get ATTR_AngularGauge_unitFactor__DisplayName() { return \"Unit factor\"; }\n    get ATTR_AngularGauge_unitFactor__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_unitFactor__DescriptionAttribute() { return \"Data  will be divided by this value before being displayed, this allows simpler gradation marks.\"; }\n    get AngularGauge_unitFactor() { return this._AngularGauge_unitFactor; }\n    set AngularGauge_unitFactor(value) { this._AngularGauge_unitFactor = value; }\n    get ATTR_AngularGauge_graduation__DisplayName() { return \"Main gradation steps\"; }\n    get ATTR_AngularGauge_graduation__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_graduation__DescriptionAttribute() { return \"Difference between two consecutive main gradation marks\"; }\n    get AngularGauge_graduation() { return this._AngularGauge_graduation; }\n    set AngularGauge_graduation(value) { this._AngularGauge_graduation = value; }\n    get ATTR_AngularGauge_graduationSize__DisplayName() { return \"Main gradation size (%)\"; }\n    get ATTR_AngularGauge_graduationSize__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_graduationSize__DescriptionAttribute() { return \"Main gradation marks size in percent, relative to dial radius\"; }\n    get AngularGauge_graduationSize() { return this._AngularGauge_graduationSize; }\n    set AngularGauge_graduationSize(value) { this._AngularGauge_graduationSize = value; }\n    get ATTR_AngularGauge_graduationOuterRadiusSize__DisplayName() { return \"Main gradation radius (%)\"; }\n    get ATTR_AngularGauge_graduationOuterRadiusSize__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_graduationOuterRadiusSize__DescriptionAttribute() { return \"Main gradation marks outer radius in percent, relative to dial radius\"; }\n    get AngularGauge_graduationOuterRadiusSize() { return this._AngularGauge_graduationOuterRadiusSize; }\n    set AngularGauge_graduationOuterRadiusSize(value) { this._AngularGauge_graduationOuterRadiusSize = value; }\n    get ATTR_AngularGauge_graduationThickness__DisplayName() { return \"Main gradation thickness\"; }\n    get ATTR_AngularGauge_graduationThickness__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_graduationThickness__DescriptionAttribute() { return \"Main gradation marks thickness\"; }\n    get AngularGauge_graduationThickness() { return this._AngularGauge_graduationThickness; }\n    set AngularGauge_graduationThickness(value) { this._AngularGauge_graduationThickness = value; }\n    get ATTR_AngularGauge_graduationColor__DisplayName() { return \"Main gradation color\"; }\n    get ATTR_AngularGauge_graduationColor__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_graduationColor__DescriptionAttribute() { return \"Main gradation marks color.\"; }\n    get AngularGauge_graduationColor() { return this._AngularGauge_graduationColor; }\n    set AngularGauge_graduationColor(value) { this._AngularGauge_graduationColor = value; }\n    get ATTR_AngularGauge_graduationFont__DisplayName() { return \"Main gradation font\"; }\n    get ATTR_AngularGauge_graduationFont__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_graduationFont__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_graduationFont__DescriptionAttribute() { return \"Font used for gradation labels\"; }\n    get AngularGauge_graduationFont() { return this._AngularGauge_graduationFont; }\n    set AngularGauge_graduationFont(value) { this._AngularGauge_graduationFont = value; }\n    get ATTR_AngularGauge_subgraduationCount__DisplayName() { return \"Sub-gradation count\"; }\n    get ATTR_AngularGauge_subgraduationCount__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_subgraduationCount__DescriptionAttribute() { return \"How many sub-gradation (+1) marks between two consecutive main graduation marks\"; }\n    get AngularGauge_subgraduationCount() { return this._AngularGauge_subgraduationCount; }\n    set AngularGauge_subgraduationCount(value) { this._AngularGauge_subgraduationCount = value; }\n    get ATTR_AngularGauge_subgraduationSize__DisplayName() { return \"Sub-gradation size (%)\"; }\n    get ATTR_AngularGauge_subgraduationSize__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_subgraduationSize__DescriptionAttribute() { return \"Sub-gradation marks size in percent, relative to dial radius\"; }\n    get AngularGauge_subgraduationSize() { return this._AngularGauge_subgraduationSize; }\n    set AngularGauge_subgraduationSize(value) { this._AngularGauge_subgraduationSize = value; }\n    get ATTR_AngularGauge_subgraduationThickness__DisplayName() { return \"Sub-gradation thickness\"; }\n    get ATTR_AngularGauge_subgraduationThickness__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_subgraduationThickness__DescriptionAttribute() { return \"Sub-gradation marks thickness\"; }\n    get AngularGauge_subgraduationThickness() { return this._AngularGauge_subgraduationThickness; }\n    set AngularGauge_subgraduationThickness(value) { this._AngularGauge_subgraduationThickness = value; }\n    get ATTR_AngularGauge_subgraduationColor__DisplayName() { return \"Sub-gradation color\"; }\n    get ATTR_AngularGauge_subgraduationColor__CategoryAttribute() { return \"Gauge gradations\"; }\n    get ATTR_AngularGauge_subgraduationColor__DescriptionAttribute() { return \"Sub-gradation marks color.\"; }\n    get AngularGauge_subgraduationColor() { return this._AngularGauge_subgraduationColor; }\n    set AngularGauge_subgraduationColor(value) { this._AngularGauge_subgraduationColor = value; }\n    get ATTR_AngularGauge_needleColor__DisplayName() { return \"Needle color\"; }\n    get ATTR_AngularGauge_needleColor__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleColor__DescriptionAttribute() { return \"Needle filling color.\"; }\n    get AngularGauge_needleColor() { return this._AngularGauge_needleColor; }\n    set AngularGauge_needleColor(value) { this._AngularGauge_needleColor = value; }\n    get ATTR_AngularGauge_needleContourColor__DisplayName() { return \"Needle contour color\"; }\n    get ATTR_AngularGauge_needleContourColor__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleContourColor__DescriptionAttribute() { return \"Needle contour color.\"; }\n    get AngularGauge_needleContourColor() { return this._AngularGauge_needleContourColor; }\n    set AngularGauge_needleContourColor(value) { this._AngularGauge_needleContourColor = value; }\n    get ATTR_AngularGauge_needleContourThickness__DisplayName() { return \"Needle contour thickness\"; }\n    get ATTR_AngularGauge_needleContourThickness__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleContourThickness__DescriptionAttribute() { return \"Thickness of the needle contour\"; }\n    get AngularGauge_needleContourThickness() { return this._AngularGauge_needleContourThickness; }\n    set AngularGauge_needleContourThickness(value) { this._AngularGauge_needleContourThickness = value; }\n    get ATTR_AngularGauge_needleLength1__DisplayName() { return \"Needle main size (%)\"; }\n    get ATTR_AngularGauge_needleLength1__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleLength1__DescriptionAttribute() { return \"Length of the needle part pointing to gradations, in % relative to radius\"; }\n    get AngularGauge_needleLength1() { return this._AngularGauge_needleLength1; }\n    set AngularGauge_needleLength1(value) { this._AngularGauge_needleLength1 = value; }\n    get ATTR_AngularGauge_needleLength2__DisplayName() { return \"Needle foot size (%)\"; }\n    get ATTR_AngularGauge_needleLength2__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleLength2__DescriptionAttribute() { return \"Length of the needle part not pointing to gradations, in % relative to radius\"; }\n    get AngularGauge_needleLength2() { return this._AngularGauge_needleLength2; }\n    set AngularGauge_needleLength2(value) { this._AngularGauge_needleLength2 = value; }\n    get ATTR_AngularGauge_needleWidth__DisplayName() { return \"Needle width (%)\"; }\n    get ATTR_AngularGauge_needleWidth__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleWidth__DescriptionAttribute() { return \"Width of the needle, in % relative to radius\"; }\n    get AngularGauge_needleWidth() { return this._AngularGauge_needleWidth; }\n    set AngularGauge_needleWidth(value) { this._AngularGauge_needleWidth = value; }\n    get ATTR_AngularGauge_needleMaxSpeed__DisplayName() { return \"Needle max speed (%)\"; }\n    get ATTR_AngularGauge_needleMaxSpeed__CategoryAttribute() { return \"Needle\"; }\n    get ATTR_AngularGauge_needleMaxSpeed__DescriptionAttribute() { return \"Needle Maximum speed, in % relative to (max-min). This is meant to limit \\\"teleporting\\\" effects.\"; }\n    get AngularGauge_needleMaxSpeed() { return this._AngularGauge_needleMaxSpeed; }\n    set AngularGauge_needleMaxSpeed(value) { this._AngularGauge_needleMaxSpeed = value; }\n    get ATTR_AngularGauge_unitFont__DisplayName() { return \"Unit Line Font\"; }\n    get ATTR_AngularGauge_unitFont__CategoryAttribute() { return \"Text lines\"; }\n    get ATTR_AngularGauge_unitFont__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_unitFont__DescriptionAttribute() { return \"Font used in the text line describing unit\"; }\n    get AngularGauge_unitFont() { return this._AngularGauge_unitFont; }\n    set AngularGauge_unitFont(value) { this._AngularGauge_unitFont = value; }\n    get ATTR_AngularGauge_statusFont__DisplayName() { return \"Status Line Font\"; }\n    get ATTR_AngularGauge_statusFont__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_statusFont__CategoryAttribute() { return \"Text lines\"; }\n    get ATTR_AngularGauge_statusFont__DescriptionAttribute() { return \"Font used in the text line gauge status\"; }\n    get AngularGauge_statusFont() { return this._AngularGauge_statusFont; }\n    set AngularGauge_statusFont(value) { this._AngularGauge_statusFont = value; }\n    get ATTR_AngularGauge_borderColor__DisplayName() { return \"Border color\"; }\n    get ATTR_AngularGauge_borderColor__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_AngularGauge_borderColor__DescriptionAttribute() { return \"Dial border color.\"; }\n    get AngularGauge_borderColor() { return this._AngularGauge_borderColor; }\n    set AngularGauge_borderColor(value) { this._AngularGauge_borderColor = value; }\n    get ATTR_AngularGauge_borderThickness__DisplayName() { return \"Border thickness \"; }\n    get ATTR_AngularGauge_borderThickness__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_AngularGauge_borderThickness__DescriptionAttribute() { return \"Thickness of the dial border\"; }\n    get AngularGauge_borderThickness() { return this._AngularGauge_borderThickness; }\n    set AngularGauge_borderThickness(value) { this._AngularGauge_borderThickness = value; }\n    get ATTR_AngularGauge_backgroundColor1__DisplayName() { return \"Background color 1\"; }\n    get ATTR_AngularGauge_backgroundColor1__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_AngularGauge_backgroundColor1__DescriptionAttribute() { return \"Dial background gradient color 1.\"; }\n    get AngularGauge_backgroundColor1() { return this._AngularGauge_backgroundColor1; }\n    set AngularGauge_backgroundColor1(value) { this._AngularGauge_backgroundColor1 = value; }\n    get ATTR_AngularGauge_backgroundColor2__DisplayName() { return \"Background color 2\"; }\n    get ATTR_AngularGauge_backgroundColor2__CategoryAttribute() { return \"Dial\"; }\n    get ATTR_AngularGauge_backgroundColor2__DescriptionAttribute() { return \"Dial background gradient color 2.\"; }\n    get AngularGauge_backgroundColor2() { return this._AngularGauge_backgroundColor2; }\n    set AngularGauge_backgroundColor2(value) { this._AngularGauge_backgroundColor2 = value; }\n    get ATTR_AngularGauge_zones0__DisplayName() { return \"Zone 1\"; }\n    get ATTR_AngularGauge_zones0__CategoryAttribute() { return \"Zones\"; }\n    get ATTR_AngularGauge_zones0__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_zones0__DescriptionAttribute() { return \"Zone 1 parameters\"; }\n    get AngularGauge_zones0() { return this._AngularGauge_zones0; }\n    set AngularGauge_zones0(value) { this._AngularGauge_zones0 = value; }\n    get ATTR_AngularGauge_zones1__DisplayName() { return \"Zone 2\"; }\n    get ATTR_AngularGauge_zones1__CategoryAttribute() { return \"Zones\"; }\n    get ATTR_AngularGauge_zones1__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_zones1__DescriptionAttribute() { return \"Zone 2 parameters\"; }\n    get AngularGauge_zones1() { return this._AngularGauge_zones1; }\n    set AngularGauge_zones1(value) { this._AngularGauge_zones1 = value; }\n    get ATTR_AngularGauge_zones2__DisplayName() { return \"Zone 2\"; }\n    get ATTR_AngularGauge_zones2__CategoryAttribute() { return \"Zones\"; }\n    get ATTR_AngularGauge_zones2__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_zones2__DescriptionAttribute() { return \"Zone 2 parameters\"; }\n    get AngularGauge_zones2() { return this._AngularGauge_zones2; }\n    set AngularGauge_zones2(value) { this._AngularGauge_zones2 = value; }\n    get ATTR_AngularGauge_annotationPanels0__DisplayName() { return \"Annotation 1\"; }\n    get ATTR_AngularGauge_annotationPanels0__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_AngularGauge_annotationPanels0__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_annotationPanels0__DescriptionAttribute() { return \"Customizable text panels\"; }\n    get AngularGauge_annotationPanels0() { return this._annotationPanels0; }\n    set AngularGauge_annotationPanels0(value) { this._annotationPanels0 = value; }\n    get ATTR_AngularGauge_annotationPanels1__DisplayName() { return \"Annotation 2\"; }\n    get ATTR_AngularGauge_annotationPanels1__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_AngularGauge_annotationPanels1__ReadOnlyAttribute() { return true; }\n    get ATTR_AngularGauge_annotationPanels1__DescriptionAttribute() { return \"Customizable text panels\"; }\n    get AngularGauge_annotationPanels1() { return this._annotationPanels1; }\n    set AngularGauge_annotationPanels1(value) { this._annotationPanels1 = value; }\n}\nexport class ZoneDescription {\n    constructor(min, max, color) {\n        this._visible = false;\n        this._min = min;\n        this._max = max;\n        this._color = color;\n    }\n    get summary() { return this._visible ? this._min.toString() + \"..\" + this._max.toString() : \"Disabled\"; }\n    get ATTR_visible__DisplayName() { return \"Visible\"; }\n    get ATTR_visible__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_visible__DescriptionAttribute() { return \"Zone visibility.\"; }\n    get visible() { return this._visible; }\n    set visible(value) { this._visible = value; }\n    get ATTR_min__DisplayName() { return \"Minimum value\"; }\n    get ATTR_min__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_min__DescriptionAttribute() { return \"Zone minimum value\"; }\n    get min() { return this._min; }\n    set min(value) { this._min = value; }\n    get ATTR_max__DisplayName() { return \"Maximum value\"; }\n    get ATTR_max__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_max__DescriptionAttribute() { return \"Zone maximum value\"; }\n    get max() { return this._max; }\n    set max(value) { this._max = value; }\n    get ATTR_color__DisplayName() { return \"Color\"; }\n    get ATTR_color__DescriptionAttribute() { return \"Zone color\"; }\n    get color() { return this._color; }\n    set color(value) { this._color = value; }\n}\nexport class AngularZoneDescription {\n    constructor(min, max, color) {\n        this._width = 5;\n        this._outerRadius = 98;\n        this._visible = false;\n        this._min = min;\n        this._max = max;\n        this._color = color;\n    }\n    get summary() { return this._visible ? this._min.toString() + \"..\" + this._max.toString() : \"Disabled\"; }\n    get ATTR_visible__DisplayName() { return \"Visible\"; }\n    get ATTR_visible__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_visible__DescriptionAttribute() { return \"Zone visibility.\"; }\n    get visible() { return this._visible; }\n    set visible(value) { this._visible = value; }\n    get ATTR_min__DisplayName() { return \"Minimum value\"; }\n    get ATTR_min__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_min__DescriptionAttribute() { return \"Zone minimum value\"; }\n    get min() { return this._min; }\n    set min(value) { this._min = value; }\n    get ATTR_max__DisplayName() { return \"Maximum value\"; }\n    get ATTR_max__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_max__DescriptionAttribute() { return \"Zone maximum value\"; }\n    get max() { return this._max; }\n    set max(value) { this._max = value; }\n    get ATTR_color__DisplayName() { return \"Color\"; }\n    get ATTR_color__DescriptionAttribute() { return \"Zone color\"; }\n    get color() { return this._color; }\n    set color(value) { this._color = value; }\n    get ATTR_outerRadius__DisplayName() { return \"Outer radius (%)\"; }\n    get ATTR_outerRadius__DescriptionAttribute() { return \"Zone outer radius, in percentage relative to dial radius \"; }\n    get outerRadius() { return this._outerRadius; }\n    set outerRadius(value) { this._outerRadius = value; }\n    get ATTR_width__DisplayName() { return \"Width (%)\"; }\n    get ATTR_width__DescriptionAttribute() { return \"Zone  width, in percentage relative to dial radius \"; }\n    get width() { return this._width; }\n    set width(value) { this._width = value; }\n}\n//****************************\n//  Fonts\n//****************************\nexport class FontDescription {\n    constructor(name, size, color, italic, bold) {\n        this._name = name;\n        this._size = size;\n        this._color = color;\n        this._italic = italic;\n        this._bold = bold;\n    }\n    ToString() { return this._name + \" \" + this._size.toString(); }\n    get summary() { return this._name + \" \" + this._size.toString(); }\n    get ATTR_name__DisplayName() { return \"Font name\"; }\n    get ATTR_name__AllowedValues() { return fontNameTypeDescription.AllowedValues; }\n    get ATTR_name__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_name__DescriptionAttribute() { return \"Name of the font\"; }\n    get name() { return this._name; }\n    set name(value) { this._name = value; }\n    get ATTR_size__DisplayName() { return \"Font size\"; }\n    get ATTR_size__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_size__DescriptionAttribute() { return \"Size of the font\"; }\n    get size() { return this._size; }\n    set size(value) { this._size = (Math.round(100 * value) / 100); }\n    get ATTR_color__DisplayName() { return \"Font color\"; }\n    get ATTR_color__DescriptionAttribute() { return \"Color of the font.\"; }\n    get color() { return this._color; }\n    set color(value) { this._color = value; }\n    get ATTR_italic__DisplayName() { return \"Italic\"; }\n    get ATTR_italic__DescriptionAttribute() { return \"Is the font style italic?.\"; }\n    get italic() { return this._italic; }\n    set italic(value) { this._italic = value; }\n    get ATTR_bold__DisplayName() { return \"Bold\"; }\n    get ATTR_bold__DescriptionAttribute() { return \"Is the font style bold?.\"; }\n    get bold() { return this._bold; }\n    set bold(value) { this._bold = value; }\n}\n//****************************\n//  Digital display\n//****************************\nexport class digitalDisplayFormProperties extends YoctoVisualization.GenericProperties {\n    constructor(initData, owner) {\n        super(owner);\n        this._DataSource_source = YoctoVisualization.sensorsManager.getNullSensor();\n        this._DataSource_precision = \"0.1\";\n        this._DataSource_AlarmSection0 = new AlarmSection(0);\n        this._DataSource_AlarmSection1 = new AlarmSection(1);\n        this._font = new FontDescription(\"Arial\", 48, YDataRendering.YColor.LightGreen, false, true);\n        this._display_backgroundColor1 = YDataRendering.YColor.Black;\n        this._display_backgroundColor2 = YDataRendering.YColor.Black;\n        this._hrzAlignment = YDataRendering.YDigitalDisplay.HrzAlignment.RIGHT;\n        this._hrzAlignmentOfset = 5.0;\n        this._outOfRangeMin = new YoctoVisualization.doubleNan(Number.NaN);\n        this._outOfRangeMax = new YoctoVisualization.doubleNan(Number.NaN);\n        this._outOfRangeColor = YDataRendering.YColor.Red;\n        this._annotationPanels0 = new AnnotationPanelDescription(YDataRendering.GenericPanel.HorizontalAlignPos.CENTER, YDataRendering.GenericPanel.VerticalAlignPos.CENTER, 0, false, \"$NAME$\", YDataRendering.YColor.FromArgb(0, 127, 127, 127), YDataRendering.YColor.FromArgb(0, 127, 127, 127), 10.0, YDataRendering.YColor.FromArgb(255, 0, 0, 0));\n        this._annotationPanels1 = new AnnotationPanelDescription(YDataRendering.GenericPanel.HorizontalAlignPos.CENTER, YDataRendering.GenericPanel.VerticalAlignPos.BOTTOM, 0, false, \"$NAME$\", YDataRendering.YColor.FromArgb(0, 127, 127, 127), YDataRendering.YColor.FromArgb(0, 127, 127, 127), 10.0, YDataRendering.YColor.FromArgb(255, 0, 0, 0));\n        this.initFromXmlData(initData);\n        this.PropagateDataSourceChange();\n    }\n    PropagateDataSourceChange() {\n        this.ownerForm.SourceChanged(this._DataSource_source, 0);\n        let props = YoctoVisualization.GenericProperties.getAllProperties(this).byName;\n        let name;\n        for (name in props) {\n            if (name.startsWith(\"DataSource_AlarmSection\")) {\n                this[name].setDataSource(this._DataSource_source); // not sure it will work\n            }\n        }\n    }\n    IsDataSourceAssigned() {\n        return !(this._DataSource_source instanceof YoctoVisualization.NullYSensor);\n    }\n    get ATTR_DataSource_source__DisplayName() { return \"Sensor\"; }\n    get ATTR_DataSource_source__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_source__ParamCategorySummaryAttribute() { return \"sensorDescription\"; }\n    get ATTR_DataSource_source__PreExpandedCategoryAttribute() { return true; }\n    get ATTR_DataSource_source__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_DataSource_source__DescriptionAttribute() { return \"Yoctopuce sensor feeding the display. \" + GenericHints.CheckSensor; }\n    get DataSource_source() { return this._DataSource_source; }\n    set DataSource_source(value) {\n        let prev = this._DataSource_source;\n        this._DataSource_source = value;\n        this.PropagateDataSourceChange();\n        //#ifndef READONLY\n        //        if (this._DataSource_source != prev) YoctoVisualization.constants.edited = true;\n        //        //#endif\n    }\n    get isSensorReadOnly() { return this._DataSource_source.isReadOnly; }\n    get sensorDescription() {\n        return this._DataSource_source instanceof YoctoVisualization.NullYSensor ? \"none\" : this._DataSource_source.get_friendlyName();\n    }\n    get ATTR_DataSource_freq__DisplayName() { return \"Sensor freq\"; }\n    get ATTR_DataSource_freq__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_freq__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_freq__IsReadonlyCallAttribute() { return \"isSensorReadOnly\"; }\n    get ATTR_DataSource_freq__DescriptionAttribute() { return \"Sensor data acquisition frequency.\" + GenericHints.DevConfAffected; }\n    get ATTR_DataSource_freq__AllowedValues() { return sensorFreqTypeDescription.AllowedValues; }\n    get DataSource_freq() { return this._DataSource_source.get_frequency(); }\n    set DataSource_freq(value) { this._DataSource_source.set_frequency(value); }\n    get ATTR_DataSource_precision__DisplayName() { return \"Precision\"; }\n    get ATTR_DataSource_precision__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_precision__DescriptionAttribute() { return \"How many digits shown after the decimal point.\"; }\n    get ATTR_DataSource_precision__AllowedValues() { return sensorPrecisionTypeDescription.AllowedValues; }\n    get DataSource_precision() { return this._DataSource_precision; }\n    set DataSource_precision(value) { this._DataSource_precision = value; }\n    get ATTR_DataSource_AlarmSection0__DisplayName() { return \"Sensor value alarm 1\"; }\n    get ATTR_DataSource_AlarmSection0__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__ReadOnlyAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_AlarmSection0__DescriptionAttribute() { return \"Alarm 1 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection0() { return this._DataSource_AlarmSection0; }\n    set DataSource_AlarmSection0(value) { this._DataSource_AlarmSection0 = value; }\n    get ATTR_DataSource_AlarmSection1__DisplayName() { return \"Sensor value alarm 2\"; }\n    get ATTR_DataSource_AlarmSection1__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__ReadOnlyAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__CategoryAttribute() { return \"Data source\"; }\n    get ATTR_DataSource_AlarmSection1__DescriptionAttribute() { return \"Alarm 2 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection1() { return this._DataSource_AlarmSection1; }\n    set DataSource_AlarmSection1(value) { this._DataSource_AlarmSection1 = value; }\n    get ATTR_display_font__DisplayName() { return \"Font\"; }\n    get ATTR_display_font__CategoryAttribute() { return \"Display\"; }\n    get ATTR_display_font__ReadOnlyAttribute() { return true; }\n    get ATTR_display_font__DescriptionAttribute() { return \"Display font\"; }\n    get display_font() { return this._font; }\n    set display_font(value) { this._font = value; }\n    get ATTR_display_backgroundColor1__DisplayName() { return \"Background color 1\"; }\n    get ATTR_display_backgroundColor1__CategoryAttribute() { return \"Display\"; }\n    get ATTR_display_backgroundColor1__DescriptionAttribute() { return \"Display background gradient color 1.\"; }\n    get display_backgroundColor1() { return this._display_backgroundColor1; }\n    set display_backgroundColor1(value) { this._display_backgroundColor1 = value; }\n    get ATTR_display_backgroundColor2__DisplayName() { return \"Background color 2\"; }\n    get ATTR_display_backgroundColor2__CategoryAttribute() { return \"Display\"; }\n    get ATTR_display_backgroundColor2__DescriptionAttribute() { return \"Display background gradient color 2.\"; }\n    get display_backgroundColor2() { return this._display_backgroundColor2; }\n    set display_backgroundColor2(value) { this._display_backgroundColor2 = value; }\n    get ATTR_display_hrzAlignment__DisplayName() { return \"Hrz alignment method\"; }\n    get ATTR_display_hrzAlignment__CategoryAttribute() { return \"Display\"; }\n    get ATTR_display_hrzAlignment__DescriptionAttribute() { return \"Horizontal alignment method\"; }\n    get display_hrzAlignment() { return this._hrzAlignment; }\n    set display_hrzAlignment(value) { this._hrzAlignment = value; }\n    get ATTR_display_hrzAlignmentOfset__DisplayName() { return \"Hrz alignment offset\"; }\n    get ATTR_display_hrzAlignmentOfset__CategoryAttribute() { return \"Display\"; }\n    get ATTR_display_hrzAlignmentOfset__DescriptionAttribute() { return \"Horizontal alignment offset in percentage. No effect when chosen horizontal alignment is CENTER\"; }\n    get display_hrzAlignmentOfset() { return this._hrzAlignmentOfset; }\n    set display_hrzAlignmentOfset(value) { this._hrzAlignmentOfset = value; }\n    get ATTR_display_outOfRangeMin__DisplayName() { return \"Minimum value\"; }\n    get ATTR_display_outOfRangeMin__CategoryAttribute() { return \"Range Control\"; }\n    get ATTR_display_outOfRangeMin__DescriptionAttribute() { return \"Regular range minimum value. if value goes  outside regular  range, color will turn to \\\"Out of range Color\\\".Leave blank if you don't want to define such a range. \"; }\n    get display_outOfRangeMin() { return this._outOfRangeMin; }\n    set display_outOfRangeMin(value) { this._outOfRangeMin = value; }\n    get ATTR_display_outOfRangeMax__DisplayName() { return \"Maximum value\"; }\n    get ATTR_display_outOfRangeMax__CategoryAttribute() { return \"Range Control\"; }\n    get ATTR_display_outOfRangeMax__DescriptionAttribute() { return \"Regular range minimum value. if value goes  outside regular  range, color will turn to \\\"Out of range Color\\\".Leave blank if you don't want to define such a range. \"; }\n    get display_outOfRangeMax() { return this._outOfRangeMax; }\n    set display_outOfRangeMax(value) { this._outOfRangeMax = value; }\n    get ATTR_display_outOfRangeColor__DisplayName() { return \"Out of range Color\"; }\n    get ATTR_display_outOfRangeColor__CategoryAttribute() { return \"Range Control\"; }\n    get ATTR_display_outOfRangeColor__DescriptionAttribute() { return \"Digits color when value is out of range.\"; }\n    get display_outOfRangeColor() { return this._outOfRangeColor; }\n    set display_outOfRangeColor(value) { this._outOfRangeColor = value; }\n    get ATTR_display_annotationPanels0__DisplayName() { return \"Annotation 1\"; }\n    get ATTR_display_annotationPanels0__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_display_annotationPanels0__ReadOnlyAttribute() { return true; }\n    get ATTR_display_annotationPanels0__DescriptionAttribute() { return \"Customizable text panels\"; }\n    get display_annotationPanels0() { return this._annotationPanels0; }\n    set display_annotationPanels0(value) { this._annotationPanels0 = value; }\n    get ATTR_display_annotationPanels1__DisplayName() { return \"Annotation 2\"; }\n    get ATTR_display_annotationPanels1__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_display_annotationPanels1__ReadOnlyAttribute() { return true; }\n    get ATTR_display_annotationPanels1__DescriptionAttribute() { return \"Customizable text panels\"; }\n    get display_annotationPanels1() { return this._annotationPanels1; }\n    set display_annotationPanels1(value) { this._annotationPanels1 = value; }\n}\n/****************************************\n * Alarm section\n */\nexport class AlarmSection {\n    get summary() {\n        let c = this._sensor.getAlarmCondition(this._index);\n        if (c == 0)\n            return \"Disabled\";\n        return \"Enabled\";\n    }\n    constructor(index) {\n        this._sensor = YoctoVisualization.sensorsManager.getNullSensor();\n        this._index = 0;\n        this._index = index;\n    }\n    get ATTR_source__DisplayName() { return \"Data source type\"; }\n    get ATTR_source__NotSavedInXMLAttribute() { return true; }\n    get ATTR_source__AllowedValues() { return sensorDataTypeDescription.AllowedValues; }\n    get ATTR_source__DescriptionAttribute() { return \"Alarm sensor data source (Average, minimum or maximum value during last interval)\"; }\n    get source() { return this._sensor.getAlarmSource(this._index); }\n    set source(value) { this._sensor.setAlarmSource(this._index, value); }\n    get ATTR_condition__DisplayName() { return \"Test Condition\"; }\n    get ATTR_condition__NotSavedInXMLAttribute() { return true; }\n    get ATTR_condition__AllowedValues() { return AlarmTestTypeDescription.AllowedValues; }\n    get ATTR_condition__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_condition__DescriptionAttribute() { return \"Alarm trigger condition\"; }\n    get condition() { return this._sensor.getAlarmCondition(this._index); }\n    set condition(value) { this._sensor.setAlarmCondition(this._index, value); }\n    setDataSource(sensor) { this._sensor = sensor; }\n    get ATTR_value__DisplayName() { return \"Test Value\"; }\n    get ATTR_value__NotSavedInXMLAttribute() { return true; }\n    get ATTR_value__DescriptionAttribute() { return \"Value for the Alarm trigger\"; }\n    get value() { return this._sensor.getAlarmValue(this._index); }\n    set value(value) { this._sensor.setAlarmValue(this._index, value); }\n    get ATTR_commandLine__DisplayName() { return \"Trigger action\"; }\n    get ATTR_commandLine__NotSavedInXMLAttribute() { return true; }\n    get ATTR_commandLine__DescriptionAttribute() { return \"Javascript snippet executed in your browser each time the alarm is triggered, you can use the following variables: $SENSORVALUE$, $UNIT$, $HWDID$, $NAME$, $CONDITION$, $TRIGGER$, $DATATYPE$, $NOW$. Example : <tt>alarm('Warning $NAME$ = $SENSORVALUE$!');</tt>. You can check logs to find out if your alarm code works.\"; }\n    get commandLine() { return this._sensor.getAlarmCommandline(this._index); }\n    set commandLine(value) { this._sensor.setAlarmCommandline(this._index, value); }\n    get ATTR_delay__DisplayName() { return \"Trigger delay\"; }\n    get ATTR_delay__NotSavedInXMLAttribute() { return true; }\n    get ATTR_delay__DescriptionAttribute() { return \"Minimum delay, in seconds, between two alarms. Think carefully and make sure you won't create alarm storms.\"; }\n    get delay() { return this._sensor.getAlarmDelay(this._index); }\n    ;\n    set delay(value) { this._sensor.setAlarmDelay(this._index, value); }\n    ;\n}\n/*********************************\n * SERIES\n */\nexport class ChartSerie {\n    constructor(defaultColor) {\n        this.ownerForm = null;\n        this.index = -1;\n        this._DataSource_source = YoctoVisualization.sensorsManager.getNullSensor();\n        this._DataType = 0;\n        this._thickness = 2.0;\n        this._legend = \"\";\n        this._color = YDataRendering.YColor.Red;\n        this._yAxisIndex = 0;\n        this._DataSource_AlarmSection0 = new AlarmSection(0);\n        this._DataSource_AlarmSection1 = new AlarmSection(1);\n        this._color = defaultColor;\n    }\n    get summary() { return this._DataSource_source instanceof YoctoVisualization.NullYSensor ? \"none\" : this._DataSource_source.get_friendlyName() + (this._DataSource_source.isOnline() ? \"\" : \" - OFFLINE\"); }\n    Init(owner, serieIndex) {\n        this.ownerForm = owner;\n        this.index = serieIndex;\n        this.PropagateDataSourceChange(this._DataSource_source);\n    }\n    PropagateDataSourceChange(value) {\n        this.ownerForm.SourceChanged(this._DataSource_source, this.index);\n        let props = YoctoVisualization.GenericProperties.getAllProperties(this).byName;\n        let name;\n        for (name in props) {\n            if (name.startsWith(\"DataSource_AlarmSection\")) {\n                this[name].setDataSource(this._DataSource_source); // not sure it will work\n            }\n        }\n    }\n    get ATTR_DataSource_source__DisplayName() { return \"Sensor\"; }\n    get ATTR_DataSource_source__CopyToTarget() { return false; } // this extra property doesn't exist is graph's series\n    get ATTR_DataSource_source__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_DataSource_source__DescriptionAttribute() { return \"Yoctopuce sensor feeding the graph. \" + GenericHints.CheckSensor; }\n    get DataSource_source() { return this._DataSource_source; }\n    set DataSource_source(value) {\n        let prev = this._DataSource_source;\n        this._DataSource_source = value;\n        //#ifndef READONLY\n        //        if (this._DataSource_source != prev) YoctoVisualization.constants.edited = true;\n        //        //#endif\n        if (this.ownerForm != null)\n            this.PropagateDataSourceChange(this._DataSource_source);\n    }\n    get isSensorReadOnly() { return this._DataSource_source.isReadOnly; }\n    get ATTR_DataSource_freq__DisplayName() { return \"Sensor frequency\"; }\n    get ATTR_DataSource_freq__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_freq__CopyToTarget() { return false; } // this extra property doesn't exist is graph's series\n    get ATTR_DataSource_freq__IsReadonlyCallAttribute() { return \"isSensorReadOnly\"; }\n    get ATTR_DataSource_freq__DescriptionAttribute() { return \"Sensor data acquisition frequency.\" + GenericHints.DevConfAffected; }\n    get ATTR_DataSource_freq__AllowedValues() { return sensorFreqTypeDescription.AllowedValues; }\n    get DataSource_freq() { return this._DataSource_source.get_frequency(); }\n    set DataSource_freq(value) { this._DataSource_source.set_frequency(value); }\n    get ATTR_DataSource_datatype__DisplayName() { return \"Sensor data\"; }\n    get ATTR_DataSource_datatype__AllowedValues() { return sensorDataTypeDescription.AllowedValues; }\n    get ATTR_DataSource_datatype__CopyToTarget() { return false; } // this extra property doesn't exist is graph's series\n    get ATTR_DataSource_datatype__DescriptionAttribute() { return \"Which data for sensor are displayed on the graph. Min and Max are available only for frequencies <1Hz\"; }\n    get DataSource_datatype() { return this._DataType; }\n    set DataSource_datatype(value) {\n        this._DataType = value;\n        if (this.ownerForm != null) {\n            this.ownerForm.SourceChanged(this._DataSource_source, this.index);\n        }\n    }\n    get ATTR_DataSource_recording__DisplayName() { return \"Sensor recording\"; }\n    get ATTR_DataSource_recording__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_recording__IsReadonlyCallAttribute() { return \"isSensorReadOnly\"; }\n    get ATTR_DataSource_recording__CopyToTarget() { return false; } // this extra property doesn't exist is graph's series\n    get ATTR_DataSource_recording__DescriptionAttribute() { return \"Enable/ disable sensor data recording in the device on-board datalogger.\" + GenericHints.DevConfAffected; }\n    get DataSource_recording() { return this._DataSource_source.get_recording(); }\n    set DataSource_recording(value) { this._DataSource_source.set_recording(value); }\n    get ATTR_thickness__DisplayName() { return \"Thickness\"; }\n    get ATTR_thickness__DescriptionAttribute() { return \"Line thickness.\"; }\n    get thickness() { return this._thickness; }\n    set thickness(value) { this._thickness = value; }\n    get ATTR_legend__DisplayName() { return \"Legend\"; }\n    get ATTR_legend__DescriptionAttribute() { return \"Short description of the series.\"; }\n    get legend() { return this._legend; }\n    set legend(value) { this._legend = value; }\n    get ATTR_color__DisplayName() { return \"Color\"; }\n    get ATTR_color__DescriptionAttribute() { return \"Line color.\"; }\n    get color() { return this._color; }\n    set color(value) { this._color = value; }\n    get ATTR_yAxisIndex__AllowedValues() { return yAxisDescription.AllowedValues; }\n    get ATTR_yAxisIndex__DisplayName() { return \"Y axis\"; }\n    get ATTR_yAxisIndex__DescriptionAttribute() { return \"Choose which Y axis the data with be scaled to.\"; }\n    get yAxisIndex() { return this._yAxisIndex; }\n    set yAxisIndex(value) { this._yAxisIndex = value; }\n    get ATTR_DataSource_AlarmSection0__DisplayName() { return \"Sensor value alarm 1\"; }\n    get ATTR_DataSource_AlarmSection0__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection0__DescriptionAttribute() { return \"Alarm 1 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection0() { return this._DataSource_AlarmSection0; }\n    set DataSource_AlarmSection0(value) { this._DataSource_AlarmSection0 = value; }\n    get ATTR_DataSource_AlarmSection1__DisplayName() { return \"Sensor value alarm 2\"; }\n    get ATTR_DataSource_AlarmSection1__NotSavedInXMLAttribute() { return true; }\n    get ATTR_DataSource_AlarmSection1__DescriptionAttribute() { return \"Alarm 2 for this data source, expand for more.\"; }\n    get DataSource_AlarmSection1() { return this._DataSource_AlarmSection1; }\n    set DataSource_AlarmSection1(value) { this._DataSource_AlarmSection1 = value; }\n}\n//****************************\n//  Legend panel\n//\n//****************************\nexport class LegendPanelDescription {\n    constructor() {\n        this._enabled = false;\n        this._overlap = false;\n        this._position = YDataRendering.LegendPanel.Position.RIGHT;\n        this._font = new FontDescription(\"Arial\", 7, YDataRendering.YColor.FromArgb(255, 32, 32, 32), false, true);\n        this._bgColor = YDataRendering.YColor.FromArgb(200, 255, 255, 255);\n        this._borderColor = YDataRendering.YColor.Black;\n        this._borderthickness = 1.0;\n        this._padding = 10;\n        this._verticalMargin = 10;\n        this._horizontalMargin = 10;\n        this._traceWidthFactor = 1;\n    }\n    get summary() { return this._enabled ? \"Enabled\" : \"Disabled\"; }\n    get ATTR_enabled__DisplayName() { return \"Enabled\"; }\n    get ATTR_enabled__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_enabled__DescriptionAttribute() { return \"Should the legend panel be shown or not\"; }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this._enabled = value; }\n    get ATTR_overlap__DisplayName() { return \"Overlap\"; }\n    get ATTR_overlap__DescriptionAttribute() { return \"Can the panel overlap the graph data, or should we explicitly make space for it?\"; }\n    get overlap() { return this._overlap; }\n    set overlap(value) { this._overlap = value; }\n    get ATTR_position__DisplayName() { return \"Position\"; }\n    get ATTR_position__DescriptionAttribute() { return \"Position of the legend panel\"; }\n    get position() { return this._position; }\n    set position(value) { this._position = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Legend panel contents fonts\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n    get ATTR_bgColor__DisplayName() { return \"Background color \"; }\n    get ATTR_bgColor__DescriptionAttribute() { return \"Legend panel background color.\"; }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) { this._bgColor = value; }\n    get ATTR_borderColor__DisplayName() { return \"Border color \"; }\n    get ATTR_borderColor__DescriptionAttribute() { return \"Legend panel border color.\"; }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) { this._borderColor = value; }\n    get ATTR_borderthickness__DisplayName() { return \"Border thickness \"; }\n    get ATTR_borderthickness__DescriptionAttribute() { return \"Legend panel border thickness\"; }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) { this._borderthickness = value; }\n    get ATTR_padding__DisplayName() { return \"Padding \"; }\n    get ATTR_padding__DescriptionAttribute() { return \"Distance between the panel border and the panel contents\"; }\n    get padding() { return this._padding; }\n    set padding(value) { this._padding = value; }\n    get ATTR_verticalMargin__DisplayName() { return \"Vertical margin \"; }\n    get ATTR_verticalMargin__DescriptionAttribute() { return \"Vertical distance between the panel border and its surroundings\"; }\n    get verticalMargin() { return this._verticalMargin; }\n    set verticalMargin(value) { this._verticalMargin = value; }\n    get ATTR_horizontalMargin__DisplayName() { return \"Horizontal margin \"; }\n    get ATTR_horizontalMargin__DescriptionAttribute() { return \"Distance between the panel border and its surroundings\"; }\n    get horizontalMargin() { return this._horizontalMargin; }\n    set horizontalMargin(value) { this._horizontalMargin = value; }\n    get ATTR_traceWidthFactor__DisplayName() { return \"Color Indicator Factor\"; }\n    get ATTR_traceWidthFactor__DescriptionAttribute() { return \"Factor used to enlarge series color indicators shown in the legend panel\"; }\n    get traceWidthFactor() { return this._traceWidthFactor; }\n    set traceWidthFactor(value) { this._traceWidthFactor = value; }\n}\nexport class AnnotationPanelDescription {\n    get summary() { return this._enabled ? \"Enabled\" : \"Disabled\"; }\n    get ATTR_enabled__DisplayName() { return \"Enabled\"; }\n    get ATTR_enabled__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_enabled__DescriptionAttribute() { return \"Should the annotation panel be shown or not\"; }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this._enabled = value; }\n    get ATTR_overlap__DisplayName() { return \"Overlap\"; }\n    get ATTR_overlap__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_overlap__DescriptionAttribute() { return \"Can the annotation panel overlap the display zone, or should the display zone be squeezed to make space for the panel?\"; }\n    get overlap() { return this._overlap; }\n    set overlap(value) { this._overlap = value; }\n    get ATTR_text__DisplayName() { return \"Text \"; }\n    get ATTR_text__DescriptionAttribute() { return GenericHints.Annotation; }\n    get text() { return this._text; }\n    set text(value) { this._text = value; }\n    get ATTR_panelTextAlign__DisplayName() { return \"Text Alignment\"; }\n    get ATTR_panelTextAlign__DescriptionAttribute() { return \"How text is aligned, makes sense on multi-lines text only.\"; }\n    get panelTextAlign() { return this._panelTextAlign; }\n    set panelTextAlign(value) { this._panelTextAlign = value; }\n    get ATTR_panelHrzAlign__DisplayName() { return \"X Position\"; }\n    get ATTR_panelHrzAlign__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_panelHrzAlign__DescriptionAttribute() { return \"Annotation panel X position\"; }\n    get panelHrzAlign() { return this._panelHrzAlign; }\n    set panelHrzAlign(value) { this._panelHrzAlign = value; }\n    get ATTR_positionOffsetX__DisplayName() { return \"X Offset\"; }\n    get ATTR_positionOffsetX__DescriptionAttribute() { return \"X Position offset, in %  (overlap mode only)\"; }\n    get positionOffsetX() { return this._positionOffsetX; }\n    set positionOffsetX(value) { this._positionOffsetX = value; }\n    get ATTR_panelVrtAlign__DisplayName() { return \"Y Position\"; }\n    get ATTR_panelVrtAlign__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_panelVrtAlign__DescriptionAttribute() { return \"Annotation panel Y position\"; }\n    get panelVrtAlign() { return this._panelVrtAlign; }\n    set panelVrtAlign(value) { this._panelVrtAlign = value; }\n    get ATTR_positionOffsetY__DisplayName() { return \"Y Offset\"; }\n    get ATTR_positionOffsetY__DescriptionAttribute() { return \"Y Position offset, in %  (overlap mode only)\"; }\n    get positionOffsetY() { return this._positionOffsetY; }\n    set positionOffsetY(value) { this._positionOffsetY = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Panel font\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n    get ATTR_bgColor__DisplayName() { return \"Background color \"; }\n    get ATTR_bgColor__DescriptionAttribute() { return \"Legend panel background color.\"; }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) { this._bgColor = value; }\n    get ATTR_borderColor__DisplayName() { return \"Border color \"; }\n    get ATTR_borderColor__DescriptionAttribute() { return \"Legend panel border color.\"; }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) { this._borderColor = value; }\n    get ATTR_borderthickness__DisplayName() { return \"Border thickness \"; }\n    get ATTR_borderthickness__DescriptionAttribute() { return \"Panel border thickness\"; }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) { this._borderthickness = value; }\n    get ATTR_padding__DisplayName() { return \"Padding \"; }\n    get ATTR_padding__DescriptionAttribute() { return \"Distance between the panel border and the panel contents\"; }\n    get padding() { return this._padding; }\n    set padding(value) { this._padding = value; }\n    constructor(hrzAlignInit, vrtAlignInit, offsetY, overlap, textInit, BgColorInit, BorderColorInit, fontSizeInit, FontColorInit) {\n        this._enabled = false;\n        this._overlap = false;\n        this._text = \"Date: $DAY$/$MONTH$/$YEAR$\";\n        this._panelTextAlign = YDataRendering.GenericPanel.TextAlign.CENTER;\n        this._panelHrzAlign = YDataRendering.GenericPanel.HorizontalAlignPos.CENTER;\n        this._positionOffsetX = 0;\n        this._panelVrtAlign = YDataRendering.GenericPanel.VerticalAlignPos.TOP;\n        this._positionOffsetY = 0;\n        this._font = new FontDescription(\"Arial\", 12, YDataRendering.YColor.FromArgb(255, 32, 32, 32), false, false);\n        this._bgColor = YDataRendering.YColor.FromArgb(200, 255, 255, 255);\n        this._borderColor = YDataRendering.YColor.Black;\n        this._borderthickness = 1.0;\n        this._padding = 5;\n        if (typeof textInit != \"undefined\")\n            this._text = textInit;\n        if (typeof offsetY != \"undefined\")\n            this._positionOffsetY = offsetY;\n        if (typeof overlap != \"undefined\")\n            this._overlap = overlap;\n        if (typeof BgColorInit != \"undefined\")\n            this._bgColor = BgColorInit;\n        if (typeof BorderColorInit != \"undefined\")\n            this._borderColor = BorderColorInit;\n        if (typeof fontSizeInit != \"undefined\")\n            this._font.size = fontSizeInit;\n        if (typeof FontColorInit != \"undefined\")\n            this._font.color = FontColorInit;\n        if (typeof vrtAlignInit != \"undefined\")\n            this._panelVrtAlign = vrtAlignInit;\n        if (typeof hrzAlignInit != \"undefined\")\n            this._panelHrzAlign = hrzAlignInit;\n    }\n}\nexport class AnnotationPanelDescriptionGraph extends AnnotationPanelDescription {\n    // position,\n    get ATTR_enabled__DisplayName() { return \"Enabled\"; }\n    get ATTR_enabled__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_enabled__DescriptionAttribute() { return \"Should the annotation panel be shown or not\"; }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this._enabled = value; }\n    get ATTR_overlap__DisplayName() { return \"Overlap\"; }\n    get ATTR_overlap__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_overlap__DescriptionAttribute() { return \"Can the annotation panel overlap the graph, or should the graph be squeezed to make space for the panel?\"; }\n    get overlap() { return this._overlap; }\n    set overlap(value) { this._overlap = value; }\n    get ATTR_text__DisplayName() { return \"Text \"; }\n    get ATTR_text__DescriptionAttribute() { return GenericHints.AnnotationGraph; }\n    get text() { return this._text; }\n    set text(value) { this._text = value; }\n}\nexport class DataTrackerDescription {\n    constructor() {\n        this._enabled = false;\n        this._showSerieName = false;\n        this._showTimeStamp = false;\n        this._dataPrecision = DataTrackerDescription.DataPrecision.PRECISION_NOLIMIT;\n        this._diameter = 5;\n        this._handleLength = 25;\n        this._font = new FontDescription(\"Arial\", 7, YDataRendering.YColor.FromArgb(255, 32, 32, 32), false, false);\n        this._bgColor = YDataRendering.YColor.FromArgb(200, 255, 255, 255);\n        this._borderColor = YDataRendering.YColor.Black;\n        this._borderthickness = 1.0;\n        this._padding = 5;\n        this._detectionDistance = 50;\n    }\n    get summary() { return this._enabled ? \"Enabled\" : \"Disabled\"; }\n    get ATTR_enabled__DisplayName() { return \"Enabled\"; }\n    get ATTR_enabled__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_enabled__DescriptionAttribute() { return \"Should the data tracker be shown or not.\"; }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this._enabled = value; }\n    get ATTR_showSerieName__DisplayName() { return \"Show Series legend\"; }\n    get ATTR_showSerieName__DescriptionAttribute() { return \"Should the data tracker show the value's series legend.\"; }\n    get showSerieName() { return this._showSerieName; }\n    set showSerieName(value) { this._showSerieName = value; }\n    get ATTR_showTimeStamp__DisplayName() { return \"Show Timestamp\"; }\n    get ATTR_showTimeStamp__DescriptionAttribute() { return \"Should the data tracker show the value's timestamp.\"; }\n    get showTimeStamp() { return this._showTimeStamp; }\n    set showTimeStamp(value) { this._showTimeStamp = value; }\n    get ATTR_dataPrecision__DisplayName() { return \"Precision\"; }\n    get ATTR_dataPrecision__DescriptionAttribute() { return \"A way to limit data precision to meaningful digits in the data tracker.\"; }\n    get dataPrecision() { return this._dataPrecision; }\n    set dataPrecision(value) { this._dataPrecision = value; }\n    get ATTR_diameter__DisplayName() { return \"Point Diameter\"; }\n    get ATTR_diameter__DescriptionAttribute() { return \"Data point diameter, in pixels\"; }\n    get diameter() { return this._diameter; }\n    set diameter(value) { this._diameter = value; }\n    get ATTR_handleLength__DisplayName() { return \"Handle size\"; }\n    get ATTR_handleLength__DescriptionAttribute() { return \"size of the handle between the data point and the value panel\"; }\n    get handleLength() { return this._handleLength; }\n    set handleLength(value) { this._handleLength = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Data tracker label fonts\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n    get ATTR_bgColor__DisplayName() { return \"Background color\"; }\n    get ATTR_bgColor__DescriptionAttribute() { return \"Value panel ground color.\"; }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) { this._bgColor = value; }\n    get ATTR_borderColor__DisplayName() { return \"Border color\"; }\n    get ATTR_borderColor__DescriptionAttribute() { return \"Value panel border and handle  color.\"; }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) { this._borderColor = value; }\n    get ATTR_borderthickness__DisplayName() { return \"Border thickness \"; }\n    get ATTR_borderthickness__DescriptionAttribute() { return \"Value panel border and handle  thickness\"; }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) { this._borderthickness = value; }\n    get ATTR_padding__DisplayName() { return \"Padding\"; }\n    get ATTR_padding__DescriptionAttribute() { return \"Distance between the panel border and its contents \"; }\n    get padding() { return this._padding; }\n    set padding(value) { this._padding = value; }\n    get ATTR_detectionDistance__DisplayName() { return \"Detection distance\"; }\n    get ATTR_detectionDistance__DescriptionAttribute() { return \"Maximum distance, in pixels, between the mouse and a data point for data tracker to show. Use zero for infinite distance\"; }\n    get detectionDistance() { return this._detectionDistance; }\n    set detectionDistance(value) { this._detectionDistance = value; }\n}\n(function (DataTrackerDescription) {\n    class DataPrecisionEnumItem extends YDataRendering.YEnumItem {\n        constructor(value, humanreadable, container) {\n            super(value, humanreadable, DataPrecision);\n        }\n    }\n    DataTrackerDescription.DataPrecisionEnumItem = DataPrecisionEnumItem;\n    class DataPrecision extends YDataRendering.YEnum {\n    }\n    DataPrecision.PRECISION_NOLIMIT = new DataPrecisionEnumItem(\"PRECISION_NOLIMIT\", \"As is\");\n    DataPrecision.PRECISION_1 = new DataPrecisionEnumItem(\"PRECISION_1\", \"1\");\n    DataPrecision.PRECISION_01 = new DataPrecisionEnumItem(\"PRECISION_01\", \"0.1\");\n    DataPrecision.PRECISION_001 = new DataPrecisionEnumItem(\"PRECISION_001\", \"0.01\");\n    DataPrecision.PRECISION_0001 = new DataPrecisionEnumItem(\"PRECISION_0001\", \"0.001\");\n    DataTrackerDescription.DataPrecision = DataPrecision;\n})(DataTrackerDescription || (DataTrackerDescription = {}));\n//****************************\n//  graph navigator\n//\n//****************************\nexport class NavigatorDescription {\n    get summary() { return this._enabled ? \"Enabled\" : \"Disabled\"; }\n    constructor() {\n        this._enabled = false;\n        this._bgColor1 = YDataRendering.YColor.FromArgb(255, 225, 225, 225);\n        this._bgColor2 = YDataRendering.YColor.FromArgb(255, 225, 225, 225);\n        this._borderThickness = 1.0;\n        this._borderColor = YDataRendering.YColor.Black;\n        this._cursorColor = YDataRendering.YColor.FromArgb(25, 0, 255, 0);\n        this._cursorBorderColor = YDataRendering.YColor.FromArgb(255, 96, 96, 96);\n        this._yAxisHandling = YDataRendering.Navigator.YAxisHandling.AUTO;\n        this._xAxisThickness = 1.0;\n        this._xAxisColor = YDataRendering.YColor.Black;\n        this._font = new FontDescription(\"Arial\", 10, YDataRendering.YColor.FromArgb(255, 32, 32, 32), false, false);\n    }\n    get ATTR_enabled__DisplayName() { return \"Enabled\"; }\n    get ATTR_enabled__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_enabled__DescriptionAttribute() { return \"Should the navigator be shown or not.\"; }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this._enabled = value; }\n    get ATTR_bgColor1__DisplayName() { return \"Background color 1\"; }\n    get ATTR_bgColor1__DescriptionAttribute() { return \"Navigator background gradient color 1.\"; }\n    get bgColor1() { return this._bgColor1; }\n    set bgColor1(value) { this._bgColor1 = value; }\n    get ATTR_bgColor2__DisplayName() { return \"Background color 2\"; }\n    get ATTR_bgColor2__DescriptionAttribute() { return \"Navigator background gradient color 2.\"; }\n    get bgColor2() { return this._bgColor2; }\n    set bgColor2(value) { this._bgColor2 = value; }\n    get ATTR_borderThickness__DisplayName() { return \"Border thickness\"; }\n    get ATTR_borderThickness__DescriptionAttribute() { return \"Navigator\"; }\n    get borderThickness() { return this._borderThickness; }\n    set borderThickness(value) { this._borderThickness = value; }\n    get ATTR_borderColor__DisplayName() { return \"Border color\"; }\n    get ATTR_borderColor__DescriptionAttribute() { return \"Navigator Border color.\"; }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) { this._borderColor = value; }\n    get ATTR_cursorColor__DisplayName() { return \"Navigator cursor fill color\"; }\n    get ATTR_cursorColor__DescriptionAttribute() { return \"Navigator\"; }\n    get cursorColor() { return this._cursorColor; }\n    set cursorColor(value) { this._cursorColor = value; }\n    get ATTR_cursorBorderColor__DisplayName() { return \"Navigator cursor left/right border color.\"; }\n    get ATTR_cursorBorderColor__DescriptionAttribute() { return \"Navigator\"; }\n    get cursorBorderColor() { return this._cursorBorderColor; }\n    set cursorBorderColor(value) { this._cursorBorderColor = value; }\n    get ATTR_yAxisHandling__DisplayName() { return \"Y axis range\"; }\n    get ATTR_yAxisHandling__DescriptionAttribute() { return \"Is navigator Y axis zoom automatic or inherited from main view settings?\"; }\n    get yAxisHandling() { return this._yAxisHandling; }\n    set yAxisHandling(value) { this._yAxisHandling = value; }\n    get ATTR_xAxisThickness__DisplayName() { return \"X axis thickness\"; }\n    get ATTR_xAxisThickness__DescriptionAttribute() { return \"Navigator\"; }\n    get xAxisThickness() { return this._xAxisThickness; }\n    set xAxisThickness(value) { this._xAxisThickness = value; }\n    get ATTR_xAxisColor__DisplayName() { return \"X axis color\"; }\n    get ATTR_xAxisColor__DescriptionAttribute() { return \"Navigator X axis color.\"; }\n    get xAxisColor() { return this._xAxisColor; }\n    set xAxisColor(value) { this._xAxisColor = value; }\n    get ATTR_font__DisplayName() { return \"X-Axis Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Navigator X axis font\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n}\n//****************************\n//  graph Legend\n//\n//****************************\nexport class LegendDescription {\n    constructor() {\n        this._title = \"\";\n        this._font = new FontDescription(\"Arial\", 12, YDataRendering.YColor.Black, false, true);\n    }\n    get ATTR_title__DisplayName() { return \"Text\"; }\n    get ATTR_title__DescriptionAttribute() { return \"Legend text\"; }\n    get title() { return this._title; }\n    set title(value) { this._title = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Legend font\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n}\n//****************************\n//  graph Y-axis\n//\n//****************************\nexport class YaxisDescription {\n    constructor(index, shown) {\n        this._visible = false;\n        this._position = YDataRendering.YAxis.HrzPosition.LEFT;\n        this._min = new YoctoVisualization.doubleNan(Number.NaN);\n        this._max = new YoctoVisualization.doubleNan(Number.NaN);\n        this._step = new YoctoVisualization.doubleNan(Number.NaN);\n        this._color = YDataRendering.YColor.FromArgb(255, 127, 127, 127);\n        this._thickness = 1.0;\n        this._showGrid = false;\n        this._gridColor = YDataRendering.YColor.FromArgb(255, 210, 210, 210);\n        this._gridThickness = 1.0;\n        this._font = new FontDescription(\"Arial\", 10, YDataRendering.YColor.Black, false, false);\n        this._legend = new LegendDescription();\n        this._zones0 = new ZoneDescription(0, 50, YDataRendering.YColor.LightGreen);\n        this._zones1 = new ZoneDescription(50, 80, YDataRendering.YColor.Yellow);\n        this._zones2 = new ZoneDescription(80, 100, YDataRendering.YColor.Red);\n        this._visible = shown;\n        this._showGrid = index == 0;\n        this._position = index == 0 ? YDataRendering.YAxis.HrzPosition.LEFT : YDataRendering.YAxis.HrzPosition.RIGHT;\n    }\n    get summary() { return this._visible ? \"Enabled\" : \"Disabled\"; }\n    get ATTR_visible__DisplayName() { return \"Visible\"; }\n    get ATTR_visible__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_visible__DescriptionAttribute() { return \"Should that YAxis be shown?.\"; }\n    get visible() { return this._visible; }\n    set visible(value) { this._visible = value; }\n    get ATTR_position__DisplayName() { return \"Position\"; }\n    get ATTR_position__DescriptionAttribute() { return \"Y Axis position (left / right)\"; }\n    get position() { return this._position; }\n    set position(value) { this._position = value; }\n    get ATTR_min__DisplayName() { return \"Minimum value\"; }\n    get ATTR_min__DescriptionAttribute() { return \"YAxis minimum value, leave blank for automatic behavior.\"; }\n    get min() { return this._min; }\n    set min(value) { this._min = value; }\n    get ATTR_max__DisplayName() { return \"Maximum value\"; }\n    get ATTR_max__DescriptionAttribute() { return \"YAxis maximum value, leave blank for automatic behavior.\"; }\n    get max() { return this._max; }\n    set max(value) { this._max = value; }\n    get ATTR_step__DisplayName() { return \"Steps\"; }\n    get ATTR_step__DescriptionAttribute() { return \"YAxis step size, leave blank for automatic behavior.\"; }\n    get step() { return this._step; }\n    set step(value) { this._step = value; }\n    get ATTR_color__DisplayName() { return \"Color\"; }\n    get ATTR_color__DescriptionAttribute() { return \"Y Axis Color.\"; }\n    get color() { return this._color; }\n    set color(value) { this._color = value; }\n    get ATTR_thickness__DisplayName() { return \"Thickness\"; }\n    get ATTR_thickness__DescriptionAttribute() { return \"Axis thickness\"; }\n    get thickness() { return this._thickness; }\n    set thickness(value) { this._thickness = value; }\n    get ATTR_showGrid__DisplayName() { return \"Show Grid\"; }\n    get ATTR_showGrid__DescriptionAttribute() { return \"Show grid horizontal lines, or not.\"; }\n    get showGrid() { return this._showGrid; }\n    set showGrid(value) { this._showGrid = value; }\n    get ATTR_gridColor__DisplayName() { return \"Grid Color\"; }\n    get ATTR_gridColor__DescriptionAttribute() { return \"Grid horizontal lines color.\"; }\n    get gridColor() { return this._gridColor; }\n    set gridColor(value) { this._gridColor = value; }\n    get ATTR_gridThickness__DisplayName() { return \"Grid thickness\"; }\n    get ATTR_gridThickness__DescriptionAttribute() { return \"Grid horizontal lines thickness\"; }\n    get gridThickness() { return this._gridThickness; }\n    set gridThickness(value) { this._gridThickness = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Axis font\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n    get ATTR_legend__DisplayName() { return \"Legend\"; }\n    get ATTR_legend__DescriptionAttribute() { return \"Axis legend\"; }\n    get legend() { return this._legend; }\n    set legend(value) { this._legend = value; }\n    get ATTR_zones0__DisplayName() { return \"Zone 1\"; }\n    get ATTR_zones0__CategoryAttribute() { return \"Zones\"; }\n    get ATTR_zones0__ReadOnlyAttribute() { return true; }\n    get ATTR_zones0__DescriptionAttribute() { return \"Zone 1 parameters\"; }\n    get zones0() { return this._zones0; }\n    set zones0(value) { this._zones0 = value; }\n    get ATTR_zones1__DisplayName() { return \"Zone 2\"; }\n    get ATTR_zones1__CategoryAttribute() { return \"Zones\"; }\n    get ATTR_zones1__ReadOnlyAttribute() { return true; }\n    get ATTR_zones1__DescriptionAttribute() { return \"Zone 2 parameters\"; }\n    get zones1() { return this._zones1; }\n    set zones1(value) { this._zones1 = value; }\n    get ATTR_zones2__DisplayName() { return \"Zone 3\"; }\n    get ATTR_zones2__CategoryAttribute() { return \"Zones\"; }\n    get ATTR_zones2__ReadOnlyAttribute() { return true; }\n    get ATTR_zones2__DescriptionAttribute() { return \"Zone 3 parameters\"; }\n    get zones2() { return this._zones2; }\n    set zones2(value) { this._zones2 = value; }\n}\n//****************************\n//  graph X-axis markers\n//\n//****************************\nexport class MarkerDescription {\n    constructor(defaultText) {\n        this._enabled = false;\n        this._text = \"\";\n        this._textAlign = YDataRendering.Marker.TextAlign.CENTER;\n        this._timereference = YDataRendering.TimeConverter.TimeReference.ABSOLUTE;\n        this._positionOnXAxis = new YDataRendering.xAxisPosition(YDataRendering.TimeConverter.ToUnixTime(new Date()), false);\n        this._yposition = 95;\n        this._bgColor = YDataRendering.YColor.FromArgb(200, 255, 255, 192);\n        this._borderColor = YDataRendering.YColor.DarkRed;\n        this._borderthickness = 1.0;\n        this._padding = 5;\n        this._font = new FontDescription(\"Arial\", 7, YDataRendering.YColor.Black, false, false);\n        this._text = defaultText;\n    }\n    get summary() { return this._enabled ? \"Enabled\" : \"Disabled\"; }\n    get ATTR_enabled__DisplayName() { return \"Enabled\"; }\n    get ATTR_enabled__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_enabled__DescriptionAttribute() { return \"Should that marker be shown?.\"; }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this._enabled = value; }\n    get ATTR_text__DisplayName() { return \"Text\"; }\n    get ATTR_text__DescriptionAttribute() { return \"Marker text. Use \\\\n for multi-line text. Some variables are allowed such as $MARKERTIME$, $LEGEND1$, $VALUE1$, $UNIT1$, $LEGEND1$, $VALUE2$ etc.. Extensive use of marker variables migh make the graph rendering significantly slower.\"; }\n    get text() { return this._text; }\n    set text(value) { this._text = value; }\n    get ATTR_textAlign__DisplayName() { return \"Text Alignment\"; }\n    get ATTR_textAlign__DescriptionAttribute() { return \"How text is aligned, makes sense on multi-lines text only.\"; }\n    get textAlign() { return this._textAlign; }\n    set textAlign(value) { this._textAlign = value; }\n    get ATTR_timereference__DisplayName() { return \"Time reference\"; }\n    get ATTR_timereference__ChangeCausesParentRefreshAttribute() { return true; }\n    get ATTR_timereference__NotSavedInXMLAttribute() { return true; }\n    get ATTR_timereference__DescriptionAttribute() { return \"Should the marker time position be absolute or relative to first data timestamp? Note: relative markers won't be drawn until there is actual data.\"; }\n    get timereference() { return this._timereference; }\n    set timereference(value) {\n        this._timereference = value;\n        this._positionOnXAxis.relative = value == (YDataRendering.TimeConverter.TimeReference.RELATIVE);\n    }\n    get ATTR_positionOnXAxis__DisplayName() { return \"Time position\"; }\n    get ATTR_positionOnXAxis__DescriptionAttribute() { return \"Marker position on X axis.\"; }\n    get positionOnXAxis() { return this._positionOnXAxis; }\n    set positionOnXAxis(value) {\n        this._positionOnXAxis = value;\n        this.timereference = value.relative ? YDataRendering.TimeConverter.TimeReference.RELATIVE : YDataRendering.TimeConverter.TimeReference.ABSOLUTE;\n    }\n    get ATTR_yposition__DisplayName() { return \"Vrt position (%)\"; }\n    get ATTR_yposition__DescriptionAttribute() { return \"Vertical position of the marker label in % of available space. Zero is bottom\"; }\n    get yposition() { return this._yposition; }\n    set yposition(value) { this._yposition = value; }\n    get ATTR_bgColor__DisplayName() { return \"Background color \"; }\n    get ATTR_bgColor__DescriptionAttribute() { return \"Marker  background color.\"; }\n    get bgColor() { return this._bgColor; }\n    set bgColor(value) { this._bgColor = value; }\n    get ATTR_borderColor__DisplayName() { return \"Border color \"; }\n    get ATTR_borderColor__DescriptionAttribute() { return \"Marker border color.\"; }\n    get borderColor() { return this._borderColor; }\n    set borderColor(value) { this._borderColor = value; }\n    get ATTR_borderthickness__DisplayName() { return \"Border thickness \"; }\n    get ATTR_borderthickness__DescriptionAttribute() { return \"Marker border thickness, in pixels.\"; }\n    get borderthickness() { return this._borderthickness; }\n    set borderthickness(value) { this._borderthickness = value; }\n    get ATTR_padding__DisplayName() { return \"Padding \"; }\n    get ATTR_padding__DescriptionAttribute() { return \"Distance between the marker border and the marker contents, in pixels.\"; }\n    get padding() { return this._padding; }\n    set padding(value) { this._padding = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Marker Font\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n}\n//****************************\n//  graph X-axis\n//\n//****************************\nexport class XaxisDescription {\n    constructor() {\n        this._initialZoom = 60;\n        this._initialOffset = 0;\n        this._position = YDataRendering.XAxis.VrtPosition.BOTTOM;\n        this._timeReference = YDataRendering.TimeConverter.TimeReference.ABSOLUTE;\n        this._overflowHandling = YDataRendering.XAxis.OverflowHandling.SCROLL;\n        this._color = YDataRendering.YColor.FromArgb(255, 127, 127, 127);\n        this._thickness = 1.0;\n        this._showGrid = false;\n        this._gridColor = YDataRendering.YColor.FromArgb(50, 0, 0, 0);\n        this._gridThickness = 1.0;\n        this._font = new FontDescription(\"Arial\", 10, YDataRendering.YColor.Black, false, false);\n        this._legend = new LegendDescription();\n        this._markers0 = new MarkerDescription(\"Marker 1\");\n        this._markers1 = new MarkerDescription(\"Marker 2\");\n        this._markers2 = new MarkerDescription(\"Marker 3\");\n        this._markers3 = new MarkerDescription(\"Marker 4\");\n        this._markers4 = new MarkerDescription(\"Marker 5\");\n        this._markers5 = new MarkerDescription(\"Marker 6\");\n        this._markers6 = new MarkerDescription(\"Marker 7\");\n        this._markers7 = new MarkerDescription(\"Marker 8\");\n    }\n    get ATTR_initialZoom__DisplayName() { return \"Initial Zoom\"; }\n    get ATTR_initialZoom__DescriptionAttribute() { return \"Zoom level at application startup, i.e. width of the view-port in seconds.\"; }\n    get initialZoom() { return this._initialZoom; }\n    set initialZoom(value) { this._initialZoom = value; }\n    get ATTR_initialOffset__DisplayName() { return \"Initial Offset\"; }\n    get ATTR_initialOffset__DescriptionAttribute() { return \"Offset of the first data point in percentage of the viewport width. For instance a 50% value will put the first point in the middle of the viewport. This can be used to give some room for datalogger contents.\"; }\n    get initialOffset() { return this._initialOffset; }\n    set initialOffset(value) { this._initialOffset = value; }\n    get ATTR_position__DisplayName() { return \"Position\"; }\n    get ATTR_position__DescriptionAttribute() { return \"X Axis position (top / bottom)\"; }\n    get position() { return this._position; }\n    set position(value) { this._position = value; }\n    get ATTR_timeReference__DisplayName() { return \"Time reference\"; }\n    get ATTR_timeReference__DescriptionAttribute() { return \"Are gradation timestamps absolute or relative to experiment start time? \"; }\n    get timeReference() { return this._timeReference; }\n    set timeReference(value) { this._timeReference = value; }\n    get ATTR_overflowHandling__DisplayName() { return \"Overflow Handling\"; }\n    get ATTR_overflowHandling__DescriptionAttribute() { return \"What to do when new data are about to reach the graph right border\"; }\n    get overflowHandling() { return this._overflowHandling; }\n    set overflowHandling(value) { this._overflowHandling = value; }\n    get ATTR_color__DisplayName() { return \"Color\"; }\n    get ATTR_color__DescriptionAttribute() { return \"X Axis Color.\"; }\n    get color() { return this._color; }\n    set color(value) { this._color = value; }\n    get ATTR_thickness__DisplayName() { return \"Thickness\"; }\n    get ATTR_thickness__DescriptionAttribute() { return \"Axis thickness\"; }\n    get thickness() { return this._thickness; }\n    set thickness(value) { this._thickness = value; }\n    get ATTR_showGrid__DisplayName() { return \"Show Grid\"; }\n    get ATTR_showGrid__DescriptionAttribute() { return \"Show grid vertical lines, or not.\"; }\n    get showGrid() { return this._showGrid; }\n    set showGrid(value) { this._showGrid = value; }\n    get ATTR_gridColor__DisplayName() { return \"Grid Color\"; }\n    get ATTR_gridColor__DescriptionAttribute() { return \"Grid vertical lines color.\"; }\n    get gridColor() { return this._gridColor; }\n    set gridColor(value) { this._gridColor = value; }\n    get ATTR_gridThickness__DisplayName() { return \"Grid thickness\"; }\n    get ATTR_gridThickness__DescriptionAttribute() { return \"Grid vertical lines thickness\"; }\n    get gridThickness() { return this._gridThickness; }\n    set gridThickness(value) { this._gridThickness = value; }\n    get ATTR_font__DisplayName() { return \"Font\"; }\n    get ATTR_font__ReadOnlyAttribute() { return true; }\n    get ATTR_font__DescriptionAttribute() { return \"Axis font\"; }\n    get font() { return this._font; }\n    set font(value) { this._font = value; }\n    get ATTR_legend__DisplayName() { return \"Legend\"; }\n    get ATTR_legend__ReadOnlyAttribute() { return true; }\n    get ATTR_legend__DescriptionAttribute() { return \"X Axis legend\"; }\n    get legend() { return this._legend; }\n    set legend(value) { this._legend = value; }\n    get ATTR_markers0__DisplayName() { return \"Marker 1\"; }\n    get ATTR_markers0__ReadOnlyAttribute() { return true; }\n    get ATTR_markers0__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers0__DescriptionAttribute() { return \"First marker parameters\"; }\n    get markers0() { return this._markers0; }\n    set markers0(value) { this._markers0 = value; }\n    get ATTR_markers1__DisplayName() { return \"Marker 2\"; }\n    get ATTR_markers1__ReadOnlyAttribute() { return true; }\n    get ATTR_markers1__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers1__DescriptionAttribute() { return \"Second marker parameters\"; }\n    get markers1() { return this._markers1; }\n    set markers1(value) { this._markers1 = value; }\n    get ATTR_markers2__DisplayName() { return \"Marker 3\"; }\n    get ATTR_markers2__ReadOnlyAttribute() { return true; }\n    get ATTR_markers2__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers2__DescriptionAttribute() { return \"Third marker parameters\"; }\n    get markers2() { return this._markers2; }\n    set markers2(value) { this._markers2 = value; }\n    get ATTR_markers3__DisplayName() { return \"Marker 4\"; }\n    get ATTR_markers3__ReadOnlyAttribute() { return true; }\n    get ATTR_markers3__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers3__DescriptionAttribute() { return \"Fourth marker parameters\"; }\n    get markers3() { return this._markers3; }\n    set markers3(value) { this._markers3 = value; }\n    get ATTR_markers4__DisplayName() { return \"Marker 5\"; }\n    get ATTR_markers4__ReadOnlyAttribute() { return true; }\n    get ATTR_markers4__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers4__DescriptionAttribute() { return \"Fith marker parameters\"; }\n    get markers4() { return this._markers4; }\n    set markers4(value) { this._markers4 = value; }\n    get ATTR_markers5__DisplayName() { return \"Marker 6\"; }\n    get ATTR_markers5__ReadOnlyAttribute() { return true; }\n    get ATTR_markers5__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers5__DescriptionAttribute() { return \"Sixth marker parameters\"; }\n    get markers5() { return this._markers5; }\n    set markers5(value) { this._markers5 = value; }\n    get ATTR_markers6__DisplayName() { return \"Marker 7\"; }\n    get ATTR_markers6__ReadOnlyAttribute() { return true; }\n    get ATTR_markers6__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers6__DescriptionAttribute() { return \"Seventh marker parameters\"; }\n    get markers6() { return this._markers6; }\n    set markers6(value) { this._markers6 = value; }\n    get ATTR_markers7__DisplayName() { return \"Marker 8\"; }\n    get ATTR_markers7__ReadOnlyAttribute() { return true; }\n    get ATTR_markers7__CategoryAttribute() { return \"Markers\"; }\n    get ATTR_markers7__DescriptionAttribute() { return \"Height marker parameters\"; }\n    get markers7() { return this._markers7; }\n    set markers7(value) { this._markers7 = value; }\n}\n//****************************\n//  graph display\n//\n//****************************\nexport class GraphFormProperties extends YoctoVisualization.GenericProperties {\n    constructor(initData, owner) {\n        super(owner);\n        this._Graph_series0 = new ChartSerie(YDataRendering.YColor.Tomato);\n        this._Graph_series1 = new ChartSerie(YDataRendering.YColor.DodgerBlue);\n        this._Graph_series2 = new ChartSerie(YDataRendering.YColor.SeaGreen);\n        this._Graph_series3 = new ChartSerie(YDataRendering.YColor.Gold);\n        this._Graph_showRecordedData = false;\n        this._Graph_borderColor = YDataRendering.YColor.LightGray;\n        this._Graph_borderThickness = 1.0;\n        this._Graph_bgColor1 = YDataRendering.YColor.FromArgb(255, 220, 220, 220);\n        this._Graph_bgColor2 = YDataRendering.YColor.FromArgb(55, 240, 240, 240);\n        this._Graph_resizeRule = YDataRendering.Proportional.ResizeRule.FIXED;\n        this._Graph_xAxis = new XaxisDescription();\n        this._Graph_yAxes0 = new YaxisDescription(0, true);\n        this._Graph_yAxes1 = new YaxisDescription(1, false);\n        this._Graph_yAxes2 = new YaxisDescription(2, false);\n        this._Graph_legendPanel = new LegendPanelDescription();\n        this._Graph_dataTracker = new DataTrackerDescription();\n        this._Graph_navigator = new NavigatorDescription();\n        this._annotationPanels0 = new AnnotationPanelDescriptionGraph();\n        this._annotationPanels1 = new AnnotationPanelDescriptionGraph();\n        this.initFromXmlData(initData);\n    }\n    IsDataSourceAssigned() {\n        let propList = Object.getOwnPropertyNames(this);\n        propList.forEach((name) => {\n            if (name.startsWith(\"Graphs_series\")) {\n                let s = this[name].GetValue(this, null);\n                if (!(s.DataSource_source instanceof YoctoVisualization.NullYSensor))\n                    return true;\n            }\n        });\n        return false;\n    }\n    get ATTR_Graph_series0__DisplayName() { return \"Series 1\"; }\n    get ATTR_Graph_series0__CategoryAttribute() { return \"Data Sources\"; }\n    get ATTR_Graph_series0__PreExpandedCategoryAttribute() { return true; }\n    get ATTR_Graph_series0__PreExpandedAttribute() { return true; }\n    get ATTR_Graph_series0__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_series0__DescriptionAttribute() { return \"First data series, expand for more.\"; }\n    get Graph_series0() { return this._Graph_series0; }\n    set Graph_series0(value) { this._Graph_series1 = value; }\n    get ATTR_Graph_series1__DisplayName() { return \"Series 2\"; }\n    get ATTR_Graph_series1__CategoryAttribute() { return \"Data Sources\"; }\n    get ATTR_Graph_series1__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_series1__DescriptionAttribute() { return \"Second data series, expand for more.\"; }\n    get Graph_series1() { return this._Graph_series1; }\n    set Graph_series1(value) { this._Graph_series1 = value; }\n    get ATTR_Graph_series2__DisplayName() { return \"Series 3\"; }\n    get ATTR_Graph_series2__CategoryAttribute() { return \"Data Sources\"; }\n    get ATTR_Graph_series2__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_series2__DescriptionAttribute() { return \"Third data series, expand for more.\"; }\n    get Graph_series2() { return this._Graph_series2; }\n    set Graph_series2(value) { this._Graph_series2 = value; }\n    get ATTR_Graph_series3__DisplayName() { return \"Series 4\"; }\n    get ATTR_Graph_series3__CategoryAttribute() { return \"Data Sources\"; }\n    get ATTR_Graph_series3__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_series3__DescriptionAttribute() { return \"Fourth data series, expand for more.\"; }\n    get Graph_series3() { return this._Graph_series3; }\n    set Graph_series3(value) { this._Graph_series3 = value; }\n    get ATTR_Graph_showRecordedData__DisplayName() { return \"Use datalogger data\"; }\n    get ATTR_Graph_showRecordedData__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_showRecordedData__CopyToTarget() { return false; } // this extra property doesn't exist is graph\n    get ATTR_Graph_showRecordedData__DescriptionAttribute() { return \"Makes the graph load the sensors datalogger contents. After disabling this feature, you may want to reset the dataview with the right-click context menu.\"; }\n    get Graph_showRecordedData() { return this._Graph_showRecordedData; }\n    set Graph_showRecordedData(value) {\n        if (this._Graph_showRecordedData != value) {\n            this._Graph_showRecordedData = value;\n            if (this.ownerForm != null) {\n                this.ownerForm.showRecordedDatachanged();\n            }\n        }\n    }\n    get ATTR_Graph_borderColor__DisplayName() { return \"Border color\"; }\n    get ATTR_Graph_borderColor__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_borderColor__DescriptionAttribute() { return \"Canvas borders color.\"; }\n    get Graph_borderColor() { return this._Graph_borderColor; }\n    set Graph_borderColor(value) { this._Graph_borderColor = value; }\n    get ATTR_Graph_borderThickness__DisplayName() { return \"Border thickness\"; }\n    get ATTR_Graph_borderThickness__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_borderThickness__DescriptionAttribute() { return \"Canvas borders thickness.\"; }\n    get Graph_borderThickness() { return this._Graph_borderThickness; }\n    set Graph_borderThickness(value) { this._Graph_borderThickness = value; }\n    get ATTR_Graph_bgColor1__DisplayName() { return \"Background color 1\"; }\n    get ATTR_Graph_bgColor1__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_bgColor1__DescriptionAttribute() { return \"Background gradient color 1.\"; }\n    get Graph_bgColor1() { return this._Graph_bgColor1; }\n    set Graph_bgColor1(value) { this._Graph_bgColor1 = value; }\n    get ATTR_Graph_bgColor2__DisplayName() { return \"Background color 2\"; }\n    get ATTR_Graph_bgColor2__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_bgColor2__DescriptionAttribute() { return \"Background gradient color 2.\"; }\n    get Graph_bgColor2() { return this._Graph_bgColor2; }\n    set Graph_bgColor2(value) { this._Graph_bgColor2 = value; }\n    get ATTR_Graph_resizeRule__DisplayName() { return \"Font sizes\"; }\n    get ATTR_Graph_resizeRule__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_resizeRule__DescriptionAttribute() { return \"Are font sizes fixed or do they change when window is resized?\"; }\n    get Graph_resizeRule() { return this._Graph_resizeRule; }\n    set Graph_resizeRule(value) { this._Graph_resizeRule = value; }\n    get ATTR_Graph_xAxis__DisplayName() { return \"X Axis\"; }\n    get ATTR_Graph_xAxis__CategoryAttribute() { return \"X/Y Axes\"; }\n    get ATTR_Graph_xAxis__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_xAxis__DescriptionAttribute() { return \"X-Axis, expand for more\"; }\n    get Graph_xAxis() { return this._Graph_xAxis; }\n    set Graph_xAxis(value) { this._Graph_xAxis = value; }\n    get ATTR_Graph_yAxes0__DisplayName() { return \"YAxis 1\"; }\n    get ATTR_Graph_yAxes0__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_yAxes0__CategoryAttribute() { return \"X/Y Axes\"; }\n    get ATTR_Graph_yAxes0__DescriptionAttribute() { return \"First Y Axis, expand for more.\"; }\n    get Graph_yAxes0() { return this._Graph_yAxes0; }\n    set Graph_yAxes0(value) { this._Graph_yAxes0 = value; }\n    get ATTR_Graph_yAxes1__DisplayName() { return \"YAxis 2\"; }\n    get ATTR_Graph_yAxes1__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_yAxes1__CategoryAttribute() { return \"X/Y Axes\"; }\n    get ATTR_Graph_yAxes1__DescriptionAttribute() { return \"Second Y Axis, expand for more.\"; }\n    get Graph_yAxes1() { return this._Graph_yAxes1; }\n    set Graph_yAxes1(value) { this._Graph_yAxes1 = value; }\n    get ATTR_Graph_yAxes2__DisplayName() { return \"YAxis 3\"; }\n    get ATTR_Graph_yAxes2__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_yAxes2__CategoryAttribute() { return \"X/Y Axes\"; }\n    get ATTR_Graph_yAxes2__DescriptionAttribute() { return \"Third Y Axis, expand for more.\"; }\n    get Graph_yAxes2() { return this._Graph_yAxes2; }\n    set Graph_yAxes2(value) { this._Graph_yAxes2 = value; }\n    get ATTR_Graph_legendPanel__DisplayName() { return \"Legend Panel\"; }\n    get ATTR_Graph_legendPanel__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_legendPanel__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_legendPanel__DescriptionAttribute() { return \"Panel containing a description of all data series. Expand for more.\"; }\n    get Graph_legendPanel() { return this._Graph_legendPanel; }\n    set Graph_legendPanel(value) { this._Graph_legendPanel = value; }\n    get ATTR_Graph_dataTracker__DisplayName() { return \"Data tracker\"; }\n    get ATTR_Graph_dataTracker__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_dataTracker__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_dataTracker__DescriptionAttribute() { return \"Show dynamic value labels while the mouse is moving over the graph. Expand for more.\"; }\n    get Graph_dataTracker() { return this._Graph_dataTracker; }\n    set Graph_dataTracker(value) { this._Graph_dataTracker = value; }\n    get ATTR_Graph_navigator__DisplayName() { return \"Navigator\"; }\n    get ATTR_Graph_navigator__CategoryAttribute() { return \"Graph\"; }\n    get ATTR_Graph_navigator__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_navigator__DescriptionAttribute() { return \"Small additional graph showing the whole data set and allowing to quickly navigate among data. Expand for more.\"; }\n    get Graph_navigator() { return this._Graph_navigator; }\n    set Graph_navigator(value) { this._Graph_navigator = value; }\n    get ATTR_Graph_annotationPanels0__DisplayName() { return \"Annotation 1\"; }\n    get ATTR_Graph_annotationPanels0__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_Graph_annotationPanels0__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_annotationPanels0__DescriptionAttribute() { return \"Customizable text panel 1\"; }\n    get Graph_annotationPanels0() { return this._annotationPanels0; }\n    set Graph_annotationPanels0(value) { this._annotationPanels0 = value; }\n    get ATTR_Graph_annotationPanels1__DisplayName() { return \"Annotation 2\"; }\n    get ATTR_Graph_annotationPanels1__CategoryAttribute() { return \"Annotations\"; }\n    get ATTR_Graph_annotationPanels1__ReadOnlyAttribute() { return true; }\n    get ATTR_Graph_annotationPanels1__DescriptionAttribute() { return \"Customizable text panel 2\"; }\n    get Graph_annotationPanels1() { return this._annotationPanels1; }\n    set Graph_annotationPanels1(value) { this._annotationPanels1 = value; }\n}\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Right click context menu\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nexport class ContextMenuSeparator {\n    constructor() {\n        this.TR = document.createElement(\"TR\");\n        this.TR[\"objectData\"] = this; // ok that's ugly,\n        this.TR.className = ContextMenu.SEPARATOR_MARKER;\n        this.TD_caption = document.createElement(\"TD\");\n        this.TD_caption.style.backgroundColor = ContextMenu.iconBGColor;\n        this.TD_caption.style.paddingLeft = \"3px\";\n        this.TD_caption.style.paddingRight = \"3px\";\n        let hr = document.createElement(\"HR\");\n        this.TD_caption.colSpan = 2;\n        this.TD_caption.appendChild(hr);\n        this.TD_icon = document.createElement(\"TD\");\n        this.TD_icon.style.backgroundColor = ContextMenu.captionBgColor;\n        this.TR.appendChild(this.TD_icon);\n        this.TR.appendChild(this.TD_caption);\n    }\n    toString() { return \"Separator\"; }\n    get focusable() {\n        return false;\n    }\n    parentMenuisClosing() { }\n    ;\n    get domData() { return this.TR; }\n}\nexport class ContextMenuItemBase {\n    get userdata() { return this._userdata; }\n    set userdata(value) { this._userdata = value; }\n    constructor(menu, icon, caption) {\n        this._clickHidesMenu = true;\n        this._userdata = null;\n        this._menu = menu;\n        this.TR = document.createElement(\"TR\");\n        this.TR[\"objectData\"] = this; // ok that's ugly,\n        this.TD_caption = document.createElement(\"TD\");\n        this.TD_caption.style.backgroundColor = ContextMenu.iconBGColor;\n        this.TD_caption.style.paddingLeft = \"3px\";\n        this.TD_caption.style.paddingRight = \"3px\";\n        this.TD_caption.style.whiteSpace = \"nowrap\";\n        this.TD_icon = document.createElement(\"TD\");\n        if (icon != null)\n            this.TD_icon.innerHTML = icon;\n        this.TD_icon.style.backgroundColor = ContextMenu.captionBgColor;\n        this.A_caption = document.createElement(\"A\");\n        this.A_caption.innerHTML = caption;\n        this.TR.style.cursor = \"pointer\";\n        this.TR.tabIndex = 0;\n        this.TR.style.outline = \"none\";\n        this._TR_keydown = (e) => {\n            e.preventDefault();\n            this.keydown(e);\n        };\n        this._TR_mouseover = (e) => { this.mouserOver(e); };\n        this._TR_mouseout = (e) => { this.mouserOut(e); };\n        this._A_mouseover = (e) => { this.mouserOver(e); };\n        this._A_mouseout = (e) => { this.mouserOut(e); };\n        this._A_click = (e) => { this.activate(); };\n        this._TR_focusin = () => { this.focusIn(); };\n        this._TR_focusout = () => { this.focusOut(); };\n        this.TR.addEventListener(\"mouseover\", this._TR_mouseover);\n        this.TR.addEventListener(\"mouseout\", this._TR_mouseout);\n        //this.A_caption.addEventListener(\"click\", this._A_click)\n        this.TR.addEventListener(\"click\", this._A_click);\n        this.TR.addEventListener(\"keydown\", this._TR_keydown);\n        this.A_caption.addEventListener(\"mouseover\", this._A_mouseover);\n        this.A_caption.addEventListener(\"mouseout\", this._A_mouseout);\n        this.TD_caption.appendChild(this.A_caption);\n        this.TR.appendChild(this.TD_icon);\n        this.TR.appendChild(this.TD_caption);\n        this.TR.addEventListener(\"focusin\", this._TR_focusin);\n        this.TR.addEventListener(\"focusout\", this._TR_focusout);\n    }\n    toString() { return this.TD_caption.innerText; }\n    get focusable() {\n        return this.visible;\n    }\n    activate() { }\n    focus() {\n        this.TR.focus();\n        this._menu.closeSubmenus();\n    }\n    focusIn() {\n        if (this.TD_caption.style.backgroundColor == ContextMenu.iconBGColor)\n            this._menu.closeSubmenus();\n        this.TD_caption.style.backgroundColor = ContextMenu.ActiveColor;\n        this.TD_icon.style.backgroundColor = ContextMenu.ActiveColor;\n    }\n    focusOut() {\n        this.TD_caption.style.backgroundColor = ContextMenu.iconBGColor;\n        this.TD_icon.style.backgroundColor = ContextMenu.captionBgColor;\n    }\n    removeAndDestroy() {\n        if (this.TR.parentNode != null)\n            this.TR.parentNode.removeChild(this.TR);\n        this.TR.removeEventListener(\"keydown\", this._TR_keydown);\n        this.TR.removeEventListener(\"mouseover\", this._TR_mouseover);\n        this.TR.removeEventListener(\"mouseout\", this._TR_mouseout);\n        this.A_caption.removeEventListener(\"mouseover\", this._A_mouseover);\n        this.A_caption.removeEventListener(\"mouseout\", this._A_mouseout);\n        this.A_caption.removeEventListener(\"click\", this._A_click);\n        this.TR.removeEventListener(\"focusin\", this._TR_focusin);\n        this.TR.removeEventListener(\"focusout\", this._TR_focusout);\n    }\n    set caption(value) { this.A_caption.innerHTML = value; }\n    get caption() { return this.A_caption.innerHTML; }\n    keydown(e) {\n        if (e.code == \"ArrowDown\")\n            this._menu.activateNext(this);\n        if (e.code == \"ArrowUp\")\n            this._menu.activatePrevious(this);\n        if (e.code == \"Enter\")\n            this.activate();\n        if (e.code == \"Escape\") {\n            this._menu.close();\n            if (this._menu.parentMenuItem != null)\n                this._menu.parentMenuItem.focus();\n        }\n        if (e.code == \"ArrowLeft\") {\n            if (this._menu.parentMenuItem != null) {\n                this._menu.close();\n                this._menu.parentMenuItem.focus();\n            }\n        }\n    }\n    mouserOver(e) {\n        this.TD_caption.style.backgroundColor = ContextMenu.ActiveColor;\n        this.TD_icon.style.backgroundColor = ContextMenu.ActiveColor;\n        this._menu.closeSubmenus();\n    }\n    mouserOut(e) {\n        this.TD_caption.style.backgroundColor = ContextMenu.iconBGColor;\n        this.TD_icon.style.backgroundColor = ContextMenu.captionBgColor;\n    }\n    get domData() {\n        return this.TR;\n    }\n    get visible() { return this.TR.style.display != \"none\"; }\n    set visible(value) { this.TR.style.display = value ? \"\" : \"none\"; }\n    parentMenuisClosing() { }\n    ;\n    closeMenu(all) {\n        if (all)\n            this._menu.closeAll();\n        else\n            this._menu.close();\n    }\n}\nexport class ContextMenuItem extends ContextMenuItemBase {\n    activate() {\n        if (this._clickHidesMenu)\n            this.closeMenu(true);\n        if (this._callback != null)\n            this._callback();\n    }\n    constructor(menu, icon, caption, callback) {\n        super(menu, icon, caption);\n        this._callback = callback;\n        this.TD_caption.colSpan = 2;\n    }\n}\nexport class ContextMenuItemSubMenuEntry extends ContextMenuItem {\n    constructor(menu, icon, caption, submenu) {\n        super(menu, icon, caption, null);\n        this.TD_caption.colSpan = 1;\n        this._submenu = submenu;\n        this._submenu.parentMenuItem = this;\n        this._parentmenu = menu;\n        this._clickHidesMenu = false;\n        this.TD_arrow = document.createElement(\"TD\");\n        this.TD_arrow.style.backgroundColor = ContextMenu.iconBGColor;\n        this.TD_arrow.style.textAlign = \"right\";\n        this.TD_arrow.style.paddingRight = \"3px\";\n        this.TD_arrow.innerHTML = \"&#9654;\";\n        this.TR.appendChild(this.TD_arrow);\n        this.A_caption.addEventListener(\"click\", (e) => { this.showSubmenu(); });\n        this.A_caption.addEventListener(\"touchstart\", (e) => {\n            if (e.touches.length == 1)\n                this.activate();\n        });\n        this._submenu.zIndex = this._parentmenu.zIndex + 1;\n    }\n    keydown(e) {\n        super.keydown(e);\n        if (e.code == \"ArrowRight\") {\n            this.activate();\n            this._submenu.focusFirst();\n        }\n    }\n    removeAndDestroy() {\n        this._submenu.close();\n        this._submenu.destroy();\n        super.removeAndDestroy();\n    }\n    activate() {\n        this.showSubmenu();\n    }\n    get submenu() { return this._submenu; }\n    showSubmenu() {\n        this._submenu.zIndex = this._parentmenu.zIndex + 1;\n        let x = 0;\n        let y = 0;\n        let it = this.TR;\n        do {\n            x += it.offsetLeft || 0;\n            y += it.offsetTop || 0;\n            it = it.offsetParent;\n        } while (it);\n        this._submenu.showContextMenu(x + this._parentmenu.width - 15, y + 5);\n    }\n    focusIn() {\n        super.focusIn();\n        this.TD_arrow.style.backgroundColor = ContextMenu.ActiveColor;\n    }\n    focusOut() {\n        super.focusOut();\n        this.TD_arrow.style.backgroundColor = ContextMenu.iconBGColor;\n    }\n    parentMenuisClosing() {\n        this._submenu.close();\n    }\n    ;\n    mouserOver(e) {\n        this.focusIn();\n        this._parentmenu.setDelayedAction(() => { if (this.visible)\n            this.showSubmenu(); });\n    }\n    mouserOut(e) {\n        this._parentmenu.cancelDelayedAction();\n        this.focusOut();\n    }\n}\nclass ContextMenuBase {\n    get parentMenuItem() { return this._parentMenuItem; }\n    set parentMenuItem(value) { this._parentMenuItem = value; }\n    get userdata() { return this._userdata; }\n    set userdata(value) { this._userdata = value; }\n    constructor(baseSize, openCallback, fontFamily) {\n        this._visible = false;\n        this._zIndex = 100002;\n        this._parentmenu = null;\n        this._parentMenuItem = null;\n        this._userdata = null;\n        this._openCallback = openCallback;\n        this.Menutable = document.createElement(\"TABLE\");\n        this.Menutable.style.position = \"absolute\";\n        this.Menutable.style.border = \"1px solid #808080\";\n        if (typeof fontFamily !== \"undefined\")\n            this.Menutable.style.fontFamily = fontFamily;\n        this.Menutable.style.fontSize = (2 * baseSize / 3).toFixed(1) + \"px\";\n        this.Menutable.style.borderSpacing = \"0\";\n        this.Menutable.style.boxShadow = \" 4px 4px 4px 1px rgba(0,0,0,0.05)\";\n        this.Menutable.style.zIndex = this._zIndex.toString();\n        this._timer = null;\n        this.visible = false;\n    }\n    closeAll() {\n        this.close();\n        if (this._parentmenu != null)\n            (this._parentmenu).closeAll();\n    }\n    cancelDelayedAction() {\n        if (this._timer != null) {\n            clearTimeout(this._timer);\n            this._timer = null;\n        }\n    }\n    setDelayedAction(action) {\n        this.cancelDelayedAction();\n        this._timer = setTimeout(() => { action(); }, 500);\n    }\n    get parentMenu() { return this._parentmenu; }\n    destroy() {\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            item.removeAndDestroy();\n        }\n        if (this.Menutable.parentNode != null)\n            this.Menutable.parentNode.removeChild(this.Menutable);\n    }\n    focusFirst() {\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            if (item.focusable) {\n                item.focus();\n                return;\n            }\n        }\n    }\n    toString() {\n        let res = '';\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            res = res + item.caption + \"\";\n        }\n        return res;\n    }\n    isXYOnMenu(x, y) {\n        if (!this.visible)\n            return false;\n        if ((x >= this.Menutable.offsetLeft) && (x <= this.Menutable.offsetLeft + this.Menutable.offsetWidth)\n            && (y >= this.Menutable.offsetTop) && (y <= this.Menutable.offsetTop + this.Menutable.offsetHeight)) {\n            return true;\n        }\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            if (item instanceof ContextMenuItemSubMenuEntry) {\n                if (item.submenu.isXYOnMenu(x, y))\n                    return true;\n            }\n        }\n        return false;\n    }\n    activateNext(source) {\n        let found = false;\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            if (item == source) {\n                found = true;\n            }\n            else if (found && item.focusable) {\n                item.focus();\n                return;\n            }\n        }\n    }\n    activatePrevious(source) {\n        let previous = null;\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            if (item == source) {\n                if (previous != null)\n                    previous.focus();\n                return;\n            }\n            if (item.focusable)\n                previous = item;\n        }\n    }\n    get width() { return this.Menutable.offsetWidth; }\n    closeSubmenus() {\n        this.closeSubMenusExcept(null);\n    }\n    get zIndex() { return this._zIndex; }\n    set zIndex(value) {\n        this._zIndex = value;\n        this.Menutable.style.zIndex = this._zIndex.toString();\n    }\n    get visible() { return this.Menutable.style.display != \"none\"; }\n    set visible(value) { this.Menutable.style.display = (value ? \"\" : \"none\"); }\n    close() {\n        this.cancelDelayedAction();\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            item.parentMenuisClosing();\n        }\n        this.visible = false;\n        this.closeSubmenus();\n    }\n    refresh() {\n        let showSeparation = false;\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let element = this.Menutable.childNodes[i];\n            if (element.className == ContextMenu.SEPARATOR_MARKER) {\n                element.style.display = showSeparation ? \"\" : \"none\";\n                showSeparation = false;\n            }\n            else if (element.style.display == \"\")\n                showSeparation = true;\n        }\n    }\n    addMenuItem(icon, caption, callback) {\n        let menuItem = new ContextMenuItem(this, icon, caption, callback);\n        this.Menutable.appendChild(menuItem.domData);\n        return menuItem;\n    }\n    get menuItemsCount() {\n        return this.Menutable.childNodes.length;\n    }\n    closeSubMenusExcept(doNotClose) {\n        for (let i = 0; i < this.Menutable.childNodes.length; i++) {\n            let item = this.Menutable.childNodes[i][\"objectData\"];\n            if (item instanceof ContextMenuItemSubMenuEntry) {\n                if (item.submenu != doNotClose) {\n                    item.submenu.close();\n                }\n            }\n        }\n    }\n    subMenuisOpening(source) {\n        this.closeSubMenusExcept(source);\n    }\n    addSubMenuItem(icon, caption, submenu) {\n        submenu.zIndex = this.zIndex + 1;\n        let menuItem = new ContextMenuItemSubMenuEntry(this, icon, caption, submenu);\n        this.Menutable.appendChild(menuItem.domData);\n        return menuItem;\n    }\n    clearAllContents() {\n        while (this.Menutable.childNodes.length > 0) {\n            let item = this.Menutable.childNodes[0][\"objectData\"];\n            item.removeAndDestroy();\n        }\n    }\n    AddSeparator() {\n        let separator = new ContextMenuSeparator();\n        this.Menutable.appendChild(separator.domData);\n        return separator;\n    }\n    showContextMenu(x, y) { }\n}\nContextMenuBase.SEPARATOR_MARKER = \"separator\";\nContextMenuBase.iconBGColor = \"#fdfdfd\";\nContextMenuBase.captionBgColor = \"#f1f1f1\";\nContextMenuBase.ActiveColor = \"#c4e1ff\";\nexport class ContextSubMenu extends ContextMenuBase {\n    constructor(baseSize, parentMenu, openCallback, fontFamily) {\n        super(baseSize, openCallback, fontFamily);\n        this._parentmenu = parentMenu;\n        document.body.appendChild(this.Menutable);\n    }\n    showContextMenu(x, y) {\n        if (this._parentmenu != null)\n            this._parentmenu.subMenuisOpening(this);\n        if (this._openCallback != null)\n            this._openCallback(x, y);\n        this.Menutable.style.left = x.toString() + 'px';\n        this.Menutable.style.top = y.toString() + 'px';\n        this.visible = true;\n        let right = this.Menutable.offsetLeft - this.Menutable.scrollLeft + this.Menutable.offsetWidth;\n        let bottom = this.Menutable.offsetTop - this.Menutable.scrollTop + this.Menutable.offsetHeight;\n        if (right > window.innerWidth)\n            this.Menutable.style.left = (x - (right - window.innerWidth)).toString() + 'px';\n        if (bottom > window.innerHeight)\n            this.Menutable.style.top = (y - (bottom - window.innerHeight)).toString() + 'px';\n    }\n}\nexport class ContextMenu extends ContextMenuBase {\n    constructor(baseSize, openCallback, fontFamily) {\n        super(baseSize, openCallback, fontFamily);\n        document.addEventListener(\"contextmenu\", (e) => {\n            let tagname = \"\";\n            // on Android long touch is used for both context menu and moving the cursor in an input\n            if ((e.target != null) && YoctoVisualization.constants.RunningOnAndroid)\n                tagname = e.target.tagName;\n            if (tagname != \"INPUT\") {\n                e.preventDefault();\n                this.showContextMenu(e.pageX, e.pageY);\n            }\n        });\n        document.addEventListener(\"dblclick\", (e) => {\n            if (YoctoVisualization.constants.dbleClickBringsUpContextMenu)\n                this.showContextMenu(e.pageX, e.pageY);\n        });\n        document.addEventListener(\"click\", (e) => { this.click(e); });\n        document.body.appendChild(this.Menutable);\n    }\n    click(e) {\n        if (!this.visible)\n            return;\n        if (!this.isXYOnMenu(e.pageX, e.pageY)) {\n            this.close();\n        }\n    }\n    showContextMenu(x, y) {\n        let z = YoctoVisualization.YWindow.ConTextMenuBestZindex;\n        if (z < 0)\n            return;\n        this.zIndex = z;\n        this.Menutable.style.left = x.toString() + 'px';\n        this.Menutable.style.top = y.toString() + 'px';\n        this.visible = true;\n        let right = this.Menutable.offsetLeft - this.Menutable.scrollLeft + this.Menutable.offsetWidth;\n        let bottom = this.Menutable.offsetTop - this.Menutable.scrollTop + this.Menutable.offsetHeight;\n        if (right > window.innerWidth)\n            this.Menutable.style.left = (Math.max(0, x - (right - window.innerWidth))).toString() + 'px';\n        if (bottom > window.innerHeight)\n            this.Menutable.style.top = (Math.max(0, y - (bottom - window.innerHeight))).toString() + 'px';\n        if (this._openCallback != null)\n            this._openCallback(x, y);\n        if ((x <= 5) && (y <= 5))\n            this.focusFirst();\n    }\n}\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  All SVG based icons are defined here\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nexport class ressources {\n    static SVGheader(size, shadowDef, title) {\n        let res = '<svg  xmlns=\"http://www.w3.org/2000/svg\" width=\"' + size + '\" height=\"' + size + '\" viewBox=\"0 0 128  128\">';\n        if (typeof (title) != \"undefined\")\n            res = res + \"<title>\" + title + \"</title>\";\n        if (shadowDef)\n            res = res + '<defs><filter id=\"f1\" x=\"0\" y=\"0\"><feGaussianBlur in=\"SourceGraphic\" stdDeviation=\"2\" /></filter></defs>';\n        res = res + '<g transform=\"translate(0,128)\">'\n            + '<g transform=\"scale(1,-1)\">';\n        return res;\n    }\n    static SVGFooter() {\n        return '</g></g></svg>';\n    }\n    static addIconTransparency() { return '<g opacity=\"0.5\">'; }\n    ;\n    static addIconSrcCode() {\n        return '<path d=\"m 8 24 L 8 40 L 24 40 L 24 56 L 40 56 L 40 40 L 56 40 L 56 24 L 40 24 L 40 8 L 24 8 L 24 24   Z\" fill=\"#40ff40\" stroke=\"black\" stroke-width=\"8\" stroke-linecap=\"round\"/>';\n    }\n    static deleteIconSrcCode() {\n        return '<path d=\"m 15 4 L 4 15 L 19 29 L 4 43 L 15 55 L 29 40 L 43 55 L 55 43 L 40 29 L 55 15 L 44 4 L 29 18 Z\" fill=\"#ff4040\" stroke=\"black\" stroke-width=\"8\" stroke-linecap=\"round\">';\n    }\n    static IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, shadowcode, activeCode, title) {\n        let res = ressources.SVGheader(size, shadow, title);\n        if (shadow)\n            res = res + '<g transform=\"translate(6,-6)\">' + shadowcode + \"</g>\";\n        if (semitransparent)\n            res = res + ressources.addIconTransparency();\n        res = res + activeCode;\n        if (semitransparent)\n            res = res + '</g>';\n        if (addIcon)\n            res = res + ressources.addIconSrcCode();\n        if (deleteIcon)\n            res = res + ressources.deleteIconSrcCode();\n        res = res + ressources.SVGFooter();\n        return res;\n    }\n    static GraphIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 12 24 L 103 24 L 103 107 L 12 107 z\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<path d=\"m 112 24 L 12 24 L 12 113\"  style=\"fill:none; stroke:lightgray; stroke-width:4px; stroke-linejoin:round;stroke-linecap:round;\" filter=\"url(#f1)\"/>', '<path d=\"m 12 24 L 103 24 L 103 107 L 12 107 z\" fill=\"#ffffe9\" />'\n            + '<line x1=\"43\" y1=\"24\" x2=\"43\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<line x1=\"43\" y1=\"24\" x2=\"43\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<line x1=\"73\" y1=\"24\" x2=\"73\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<line x1=\"12\" y1=\"51\" x2=\"103\" y2=\"51\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<line x1=\"12\" y1=\"79\" x2=\"103\" y2=\"79\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<line x1=\"12\" y1=\"107\" x2=\"103\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<path d=\"m 12 77 L 34 65 L 55 85 L 70 77 L 100 93\" fill=\"none\" stroke=\"#FF0000\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />'\n            + '<line x1=\"103\" y1=\"24\" x2=\"103\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\" stroke-linecap=\"round\" />'\n            + '<path d=\"m 112 24 L 12 24 L 12 113\"  style=\"fill:none; stroke:black; stroke-width:4px; stroke-linejoin:round;stroke-linecap:round;\"/>');\n    }\n    static SolidGaugeIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"M 34 40 L 14 40 14 52 A 50 50 0 0 0 114 52 L  114 40 L 94 40 L 94 52 A 30 30 0 1 1  34 52 Z\" style=\"fill:lightgray;fill-opacity=0.4;\" filter=\"url(#f1)\"/>'\n            + '<text x=\"43\" y=\"-30\" fill=\"black\" transform=\"scale(1,-1)\" style=\"font: bold 24px sans-serif;fill:lightgray;fill-opacity=0.4;\" filter=\"url(#f1)\">123</text>', '<path d=\"M 34 40 L 14 40 14 52 A 50 50 0 0 0 114 52 L  114 40 L 94 40 L 94 52 A 30 30 0 1 1  34 52 Z\" style=\"fill:#ffffe9; stroke:none; \"/>'\n            + '<path d=\"M 34 40 L 14 40 14 52 A 50 50 0 0 0 29 88 L  43 72.5   A 30 30 0 0 1  34 52 Z\" style=\"fill:red; stroke:none;\"/>'\n            + '<path d=\"M 34 40 L 14 40 14 52 A 50 50 0 0 0 114 52 L  114 40 L 94 40 L 94 52 A 30 30 0 1 1  34 52 Z\" style=\"fill:none; stroke:black; stroke-width:4px; stroke-linejoin:round;stroke-linecap:round;\"/>'\n            + '<text x=\"43\" y=\"-30\" fill=\"black\" transform=\"scale(1,-1)\" style=\"font: bold 24px sans-serif;\">123</text>');\n    }\n    static RawDataIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 16 27 L 107 27 L 107 107 L 16 107 z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 16 27 L 107 27 L 107 107 L 16 107 z\" style=\"fill:#ffffe9;\" />'\n            + '<line x1=\"47\" y1=\"27\" x2=\"47\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\"  />'\n            + '<line x1=\"76\" y1=\"27\" x2=\"76\" y2=\"107\" stroke=\"#e3e3e3\" stroke-width=\"2\"  />'\n            + '<line x1=\"16\" y1=\"44\" x2=\"107\" y2=\"44\" stroke=\"#e3e3e3\" stroke-width=\"2\"  />'\n            + '<line x1=\"16\" y1=\"60\" x2=\"107\" y2=\"60\" stroke=\"#e3e3e3\" stroke-width=\"2\"  />'\n            + '<line x1=\"16\" y1=\"76\" x2=\"107\" y2=\"76\" stroke=\"#e3e3e3\" stroke-width=\"2\"  />'\n            + '<path d=\"m 16 27 L 107 27 L 107 107 L 16 107 z\" style=\"fill:none;stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m 19 91 L 104 91 L 104 104 L 19 104 z\" style=\"fill:#b2b2b2; stroke:#6f6f6f; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<line x1=\"47\" y1=\"91\" x2=\"47\" y2=\"104\" stroke=\"#6f6f6f\" stroke-width=\"2\"  />'\n            + '<line x1=\"76\" y1=\"91\" x2=\"76\" y2=\"104\" stroke=\"#6f6f6f\" stroke-width=\"2\"  />');\n    }\n    static ConfigureIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"M85 85 L 102 80 L 113 91 A  41 100 45 0 0  86 71 L 37 21 A  5 11 45 1 0  21 37 L 71 86  A  41 100 45 0 0  91 113 L 80 102 Z\" style=\"fill:lightgray;fill-opacity=0.4;\" filter=\"url(#f1)\"/>', '<path d=\"M85 85 L 102 80 L 113 91 A  41 100 45 0 0  86 71 L 37 21 A  5 11 45 1 0  21 37 L 71 86  A  41 100 45 0 0  91 113 L 80 102 Z\" style=\"fill:grey; stroke:black; stroke-width:4px; stroke-linejoin:round;stroke-linecap:round;\"/>');\n    }\n    static DigitalDisplayIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 12 45 L 111 45 L 111 89 L 12 89 z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 12 45 L 111 45 L 111 89 L 12 89 z\" style=\"fill:#ffffe9; stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<text x=\"29\" y=\"-52\" fill=\"black\" transform=\"scale(1,-1)\" style=\"font: bold 40px sans-serif;\">123</text> ');\n    }\n    static AngularGaugeIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<circle  cx=\"64\" cy=\"64\" r=\"40\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<circle  cx=\"64\" cy=\"64\" r=\"40\" stroke=\"black\" stroke-width=\"4\" fill=\"#ffffe9\" />'\n            + '<line x1=\"64\" y1=\"104\" x2=\"64\" y2=\"94\" stroke=\"black\" stroke-width=\"2\"   stroke-linecap=\"round\" />'\n            + '<line x1=\"29\" y1=\"84\" x2=\"38\" y2=\"79\" stroke=\"black\" stroke-width=\"2\"   stroke-linecap=\"round\" />'\n            + '<line x1=\"29\" y1=\"44\" x2=\"38\" y2=\"48\" stroke=\"black\" stroke-width=\"2\"   stroke-linecap=\"round\" />'\n            + '<line x1=\"98\" y1=\"84\" x2=\"91\" y2=\"79\" stroke=\"black\" stroke-width=\"2\"   stroke-linecap=\"round\" />'\n            + '<line x1=\"98\" y1=\"44\" x2=\"91\" y2=\"48\" stroke=\"black\" stroke-width=\"2\"   stroke-linecap=\"round\" />'\n            + '<g transform=\"translate(64,64)\">'\n            + '<g transform=\"rotate(-70,0,0)\">'\n            + '<path d=\"m 5 0 L 0 5 L -25 0 L 0 -5 z\" style=\"fill:black;stroke:black; stroke-width:2px; stroke-linejoin:round;\"/>'\n            + '</g></g>');\n    }\n    static EditIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 16 48 L 108 48 L 108 88 L 16 88 z\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<path d=\"m 87 24 L 75 40 L 67 31 L 62 64 L 93 50 L 82 44  L 94 29 z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 16 48 L 108 48 L 108 88 L 16 88 z\" style=\"fill:#ffffe9; stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m 87 24 L 75 40 L 67 31 L 62 64 L 93 50 L 82 44  L 94 29 z\" style=\"fill:white; stroke:black; stroke-width:2px; stroke-linejoin:round;\" /> ');\n    }\n    static AllIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 60 108 L 46 74 L 8 72 L 38 48 L 28 12 L 60 32 L 92 12  L 82 48 L 112 70  L 74 74  z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 60 108 L 46 74 L 8 72 L 38 48 L 28 12 L 60 32 L 92 12  L 82 48 L 112 70  L 74 74  z\" style=\"fill:#fee403; stroke:#918201; stroke-width:4px; stroke-linejoin:round;\" />');\n    }\n    static TrashIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 33 12 L 24 94 L 104 94 L 95 12 z\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<g transform=\"translate(70,105)\">'\n            + '<g transform=\"rotate(-10,0,0)\">'\n            + '<path d=\"m -40 0 L -30 5 L 30 5 L 40 0 z\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<path d=\"m -9 5 L -9 12 L 9 12 L 9 5\" stroke=\"lightgray\" filter=\"url(#f1)\"/>'\n            + ' </g></g>', '<path d=\"m 33 12 L 24 94 L 104 94 L 95 12 z\" style=\"fill:#f8f8f8; stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<Line x1=\"43\" y1=\"82\" x2=\"48\" y2=\"21\" style=\" stroke:black; stroke-width:4px; stroke-linecap:round;\" />'\n            + '<Line x1=\"64\" y1=\"82\" x2=\"64\" y2=\"21\" style=\" stroke:black; stroke-width:4px; stroke-linecap:round;\" />'\n            + '<Line x1=\"86\" y1=\"82\" x2=\"80\" y2=\"21\" style=\" stroke:black; stroke-width:4px; stroke-linecap:round;\" />'\n            + '<g transform=\"translate(70,105)\">'\n            + '<g transform=\"rotate(-10,0,0)\">'\n            + '<path d=\"m -40 0 L -30 5 L 30 5 L 40 0 z\" style=\"fill:#f8f8f8; stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m -9 5 L -9 12 L 9 12 L 9 5\" style=\"fill:none; stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '</g></g>');\n    }\n    static SaveIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 20 12 A 4 4 0 0 0 16 16 L 16 106  A 4 4 0 0 0 20 110 L 24 110 L 24 108 L 97 108 L 97 110 L 104 110  A 4 4 0 0 0 108 106 L 108 16   A 4 4 0 0 0 104 12  z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 20 12 A 4 4 0 0 0 16 16 L 16 106  A 4 4 0 0 0 20 110 L 24 110 L 24 108 L 97 108 L 97 110 L 104 110  A 4 4 0 0 0 108 106 L 108 16   A 4 4 0 0 0 104 12  z\" style=\"fill:#3583dd; stroke:#226fc8; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m 24 11 L 24 65  A 5 5 0 0 0 29 70 L 95 70  A 5 5 0 0 0 100 65 L 100 11  z\" style=\"fill:#f7f7f7; stroke:#c6c6c6; stroke-width:2px; stroke-linejoin:round;\"/>'\n            + '<path d=\"m 36 111 L 90 111 L 90 80 A 4 4 0 0 0 86 76 L 40 76 A 4 4 0 0 0 36 80 z\"  style=\"fill:#e5e5e5; stroke:#c6c6c6; stroke-width:2px; stroke-linejoin:round;\" />'\n            + '<rect x=\"67\" y=\"79\" width=\"14\" height =\"28\"     style=\"fill:#3583dd; stroke:#c6c6c6; stroke-width:2px; stroke-linejoin:round;\"');\n    }\n    static SaveNeededIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 8 16 L 64 110 L 120 16 z \" style=\"fill:lightgray; stroke:lightgray; stroke-width:10px; stroke-linejoin:round;filter:url(#f1)\" />', '<path d=\"m 8 16 L 64 110 L 120 16 z\" style=\"fill:#FAE701; stroke:#FAE701; stroke-width:10px; stroke-linejoin:round;\" />'\n            + '<path d=\"m 8 16 L 64 110 L 120 16 z\" style=\"fill:none; stroke:black; stroke-width:2px; stroke-linejoin:round;\" />'\n            + '<g transform=\"translate(-64,-64) scale(0.4 0.4) translate(260,215)\">'\n            + '<path d=\"m 20 12 A 4 4 0 0 0 16 16 L 16 106  A 4 4 0 0 0 20 110 L 24 110 L 24 108 L 97 108 L 97 110 L 104 110  A 4 4 0 0 0 108 106 L 108 16   A 4 4 0 0 0 104 12  z\" style=\"fill:black; stroke:black; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m 24 11 L 24 65  A 5 5 0 0 0 29 70 L 95 70  A 5 5 0 0 0 100 65 L 100 11  z\" style=\"fill:#FAE701; stroke:black; stroke-width:2px; stroke-linejoin:round;\"/>'\n            + '<path d=\"m 36 111 L 90 111 L 90 80 A 4 4 0 0 0 86 76 L 40 76 A 4 4 0 0 0 36 80 z\"  style=\"fill:#FAE701; stroke:black; stroke-width:2px; stroke-linejoin:round;\" />'\n            + '<rect x=\"67\" y=\"79\" width=\"14\" height =\"28\"     style=\"fill:#FAE701; stroke:black; stroke-width:2px; stroke-linejoin:round;\"'\n            + '</g>', \"Don't forget to save.\");\n    }\n    static snapshotIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 16 32  L 16 78 A 6 6 0 0 0 22 84 L 46 84 L 48 94 A 5.75 3.25 30 0 0 54 100 L 78 100 A 3.25 5.75  30 0 0 84 94  L 86 84 L 104 84  A 6 6 0 0 0 110 78  L 110 32 A 6 6 0 0 0 104 26 L 22 26 A 6 6 0 0 0 16 32 z\"  fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 16 32  L 16 78 A 6 6 0 0 0 22 84 L 46 84 L 48 94 A 5.75 3.25 30 0 0 54 100 L 78 100 A 3.25 5.75  30 0 0 84 94  L 86 84 L 104 84  A 6 6 0 0 0 110 78  L 110 32 A 6 6 0 0 0 104 26 L 22 26 A 6 6 0 0 0 16 32 z\" style=\"fill:#707070; stroke:#464646; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<Circle cx=\"65\" cy=\"55\" r=\"26\"   style=\"fill:#895e96; stroke:#464646; stroke-width:6px; stroke-linejoin:round;\" />');\n    }\n    static CloseIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 21.6 38.6 L 47.1 64.3 L 22 89.5 L 38.4 106.2 L 64 81 L 89.3 106.2 L 105.8 89.5 L 80.6 64 L 105.8 38.9 L 89.3 22.2 L 64 47.5  L 38.3 22.1 z\"  fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 21.6 38.6 L 47.1 64.3 L 22 89.5 L 38.4 106.2 L 64 81 L 89.3 106.2 L 105.8 89.5 L 80.6 64 L 105.8 38.9 L 89.3 22.2 L 64 47.5  L 38.3 22.1 z\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />', title);\n    }\n    static MoveToRightIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<rect x=\"12\" y=\"52\" width=\"4\"  height=\"24\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<rect x=\"20\" y=\"52\" width=\"8\"  height=\"24\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<rect x=\"56\" y=\"16\" width=\"16\"  height=\"96\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<path d=\"m  32 52 L 32 76 L 56 76 L 56 96 L 88 64 L 56 32 L 56 52 z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<rect x=\"12\" y=\"52\" width=\"4\"  height=\"24\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<rect x=\"20\" y=\"52\" width=\"8\"  height=\"24\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<rect x=\"96\" y=\"16\" width=\"16\"  height=\"96\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m  32 52 L 32 76 L 56 76 L 56 96 L 88 64 L 56 32 L 56 52 z\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />', title);\n    }\n    static MoveToLeftIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<rect x=\"112\" y=\"52\" width=\"4\"  height=\"24\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<rect x=\"100\" y=\"52\" width=\"8\"  height=\"24\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<rect x=\"16\" y=\"16\" width=\"16\"  height=\"96\" fill=\"lightgray\" filter=\"url(#f1)\" />'\n            + '<path d=\"m  96 52 L 96 76 L 72 76 L 72 96 L 40 64 L 72 32 L 72 52 z\" fill=\"lightgray\" filter=\"url(#f1)\" />', '<rect x=\"112\" y=\"52\" width=\"4\"  height=\"24\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<rect x=\"100\" y=\"52\" width=\"8\"  height=\"24\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<rect x=\"16\" y=\"16\" width=\"16\"  height=\"96\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />'\n            + '<path d=\"m  96 52 L 96 76 L 72 76 L 72 96 L 40 64 L 72 32 L 72 52 z\" style=\"fill:#ffffff; stroke:#004a82; stroke-width:4px; stroke-linejoin:round;\" />', title);\n    }\n    static ExpandIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m  24 56 L 24 72 L 56 72 L 56 104 L 72 104 L 72 72 L 104 72 L 104 56 L 72 56 L 72 24 L 56 24 L 56 56 z\"  fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 24 56 L 24 72 L 56 72 L 56 104 L 72 104 L 72 72 L 104 72 L 104 56 L 72 56 L 72 24 L 56 24 L 56 56  z\" style=\"fill:black; \" />', title);\n    }\n    static OkIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<circle cx=\"64\" cy=\"64\" r=\"56\"   fill=\"lightgray\" filter=\"url(#f1)\" />', '<circle cx=\"64\" cy=\"64\" r=\"56\" fill=\"#00b20f\"/>'\n            + '<path d=\"m 19 72 L 34 87 L 60 62 L 94 96 L 109 81 L 60 32  z\" style=\"fill:white; \" />', title);\n    }\n    static FailedIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<circle cx=\"64\" cy=\"64\" r=\"56\"   fill=\"lightgray\" filter=\"url(#f1)\" />', '<circle cx=\"64\" cy=\"64\" r=\"56\" fill=\"#ff101e\"/>'\n            + '<path d=\"m 43 99 L 64 79 L 85 99 L 100 85 L 79 64 L 100 43 L 85 28 L 64 49 L 43 28 L 28  43 L 49 64 L  28 85   z\" style=\"fill:white; \" />', title);\n    }\n    static DontKnowIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<circle cx=\"64\" cy=\"64\" r=\"56\"   fill=\"lightgray\" filter=\"url(#f1)\" />', '<circle cx=\"64\" cy=\"64\" r=\"56\" fill=\"#f1ba00\"/>'\n            + '<text x=\"35\" y=\"-30\" fill=\"white\" transform=\"scale(1,-1)\" style=\"font: bold 96px sans-serif;\">?</text> ', title);\n    }\n    static infoIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<circle cx=\"64\" cy=\"64\" r=\"56\"   fill=\"lightgray\" filter=\"url(#f1)\" />', '<circle cx=\"64\" cy=\"64\" r=\"56\" fill=\"DodgerBlue\"/>'\n            + '<text x=\"50\" y=\"-30\" fill=\"white\" transform=\"scale(1,-1)\" style=\"font: bold 96px sans-serif;\">i</text> ', title);\n    }\n    static ColapseIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '<path d=\"m 24 56 L 24 72 L 104 72 L 104 56 z\"  fill=\"lightgray\" filter=\"url(#f1)\" />', '<path d=\"m 24 56 L 24 72 L 104 72 L 104 56 z\" style=\"fill:black; \" />', title);\n    }\n    static AddMarkerIcon(size, index) {\n        return ressources.IconSourceCode(size, false, false, false, false, '', '<circle  cx=\"64\" cy=\"64\"  r=\"50\"   style=\"fill:lightyellow;\" stroke-width=\"8\" stroke=\"darkred\" />'\n            + '<text x=\"46\" y=\"-40\" fill=\"black\" transform=\"scale(1,-1)\" style=\"font: bold 64px sans-serif;\">' + index.toString() + '</text>');\n    }\n    static AddMarker(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<line x1=\"80\" y1=\"8\" x2=\"80\" y2=\"128\" stroke=\"darkred\" stroke-width=\"8\" stroke-linecap=\"round\" />'\n            + '<path d=\"m 60 64 L 100 64 L 80 20 z\" style=\"fill:darkred; \" />'\n            + '<rect x=\"40\" y=\"56\" width=\"80\" height=\"32\" style=\"fill:lightYellow\" stroke=\"darkred\" stroke-width=\"8\" />');\n    }\n    static EraseDatalogger(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<g transform=\"rotate(-35,0,0)\">'\n            + '<g transform=\"translate(-56,24)\">'\n            + '<path d=\"m 108 24 L 108 46 L 60 46  A 22 22 0 1 0 60 90 L 108 90  L 108 112 L 60 112 A 44 44 0 1 1 60 24 z\" style=\"fill:#808080; \" />'\n            + '<rect x=\"88\" y=\"24\" width=\"20\" height=\"22\" style=\"fill:red\" stroke=\"none\"  />'\n            + '<rect x=\"88\" y=\"90\" width=\"20\" height=\"22\" style=\"fill:blue\" stroke=\"none\"  />'\n            + '<path d=\"m 108 24 L 108 46 L 60 46  A 22 22 0 1 0 60 90 L 108 90  L 108 112 L 60 112 A 44 44 0 1 1 60 24 z\"  style=\"fill:none\" stroke=\"black\"  stroke-width=\"4\" stroke-linejoin=\"round\"/>'\n            + \"</g></g>\");\n    }\n    static resetViewPort(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<line x1=\"116\" y1=\"52\" x2=\"116\" y2=\"12\"  stroke=\"black\"  stroke-width=\"4\"/>'\n            + '<line x1=\"12\" y1=\"52\" x2=\"12\" y2=\"12\"  stroke=\"black\"  stroke-width=\"4\"/>'\n            + '<path d=\"m 100 36 L 28 36 L 28 48 L 12 32  L 28 16 L 28 28 L 100 28 L 100 16 L 116 32 L 100 48z\" style=\"fill:white\" stroke=\"black\"  stroke-width=\"4\" stroke-linejoin=\"round\" />'\n            + '<path d=\"m 7.3 97.7 L 20 107.4 L 51.6 114.7 L 78.5 112.2 L 101.6 103.3 L 114.4 91.7  L 117.7 81.7 L 104.3 66.9 L 80.9 61.2 L49.9 65 L 25 76.3 L 12.6 87.5 Z \" style=\"fill:white\" stroke=\"none\" />'\n            + '<circle  cx=\"64\" cy=\"88\" r=\"27\" style=\"fill:#6cc87b\" stroke=\"none\"  /> '\n            + '<path d=\"m 37.2 84.8 A 27 27 0 0 0 46.5 108.8 L 64 88 z\" style=\"fill:#8ed698\" stroke=\"none\" /> '\n            + '<circle  cx=\"64\" cy=\"88\" r=\"16\" style=\"fill:black\" stroke=\"none\"  /> '\n            + '<path d=\"m 6 97 A 59 34 -4 0 0 119 80\" style=\"fill:none\" stroke=\"black\"  stroke-width=\"4\"  stroke-linecap=\"round\"/> '\n            + '<path d=\"m 113 79 A 56 31 -16 0 0 9 93 \" style=\"fill:none\" stroke=\"black\"  stroke-width=\"4\"  stroke-linecap=\"round\" /> ');\n    }\n    static DeleteMarker(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<line x1=\"80\" y1=\"8\" x2=\"80\" y2=\"128\" stroke=\"darkred\" stroke-width=\"8\" stroke-linecap=\"round\" />'\n            + '<path d=\"m 60 64 L 100 64 L 80 20 z\" style=\"fill:darkred; \" />'\n            + '<rect x=\"40\" y=\"56\" width=\"80\" height=\"32\" style=\"fill:lightYellow\" stroke=\"darkred\" stroke-width=\"8\" />');\n    }\n    static targetIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<circle  cx=\"64\" cy=\"64\"  r=\"42\"   style=\"fill:none;\" stroke-width=\"8\" stroke=\"black\" />'\n            + '<line  x1=\"0\"   y1=\"64\"  x2=\"42\"  y2=\"64\"  style=\"fill:none;\" stroke-width=\"8\" stroke=\"black\" />'\n            + '<line  x1=\"128\" y1=\"64\"  x2=\"86\"  y2=\"64\"  style=\"fill:none;\" stroke-width=\"8\" stroke=\"black\" />'\n            + '<line  y1=\"0\"   x1=\"64\"  y2=\"42\"  x2=\"64\"  style=\"fill:none;\" stroke-width=\"8\" stroke=\"black\" />'\n            + '<line  y1=\"128\" x1=\"64\"  y2=\"86\"  x2=\"64\"  style=\"fill:none;\" stroke-width=\"8\" stroke=\"black\" />', title);\n    }\n    static DotDotDotIcon(size, shadow, semitransparent, addIcon, deleteIcon, title) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<rect x=\"18\" y=\"36\" width=\"18\" height=\"18\" style=\"fill:black\" />'\n            + '<rect x=\"54\" y=\"36\" width=\"18\" height=\"18\" style=\"fill:black\" />'\n            + '<rect x=\"90\" y=\"36\" width=\"18\" height=\"18\" style=\"fill:black\" />', title);\n    }\n    static LogFileIcon(size, shadow, semitransparent, addIcon, deleteIcon) {\n        return ressources.IconSourceCode(size, shadow, semitransparent, addIcon, deleteIcon, '', '<line x1=\"4\" y1=\"24\" x2=\"30\" y2=\"24\"     style=\" stroke:black; stroke-width:8px;\" />'\n            + '<line x1=\"34\" y1=\"24\" x2=\"56\" y2=\"24\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"64\" y1=\"24\" x2=\"74\" y2=\"24\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"80\" y1=\"24\" x2=\"88\" y2=\"24\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"4\" y1=\"40\" x2=\"30\" y2=\"40\"     style=\" stroke:black; stroke-width:8px;\" />'\n            + '<line x1=\"34\" y1=\"40\" x2=\"56\" y2=\"40\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"61\" y1=\"40\" x2=\"90\" y2=\"40\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"94\" y1=\"40\" x2=\"110\" y2=\"40\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"4\" y1=\"56\" x2=\"30\" y2=\"56\"     style=\" stroke:black; stroke-width:8px;\" />'\n            + '<line x1=\"34\" y1=\"56\" x2=\"56\" y2=\"56\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"61\" y1=\"56\" x2=\"86\" y2=\"56\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"4\" y1=\"72\" x2=\"30\" y2=\"72\"     style=\" stroke:black; stroke-width:8px;\" />'\n            + '<line x1=\"34\" y1=\"72\" x2=\"50\" y2=\"72\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"56\" y1=\"72\" x2=\"100\" y2=\"72\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"4\" y1=\"88\" x2=\"30\" y2=\"88\"     style=\" stroke:black; stroke-width:8px;\" />'\n            + '<line x1=\"34\" y1=\"88\" x2=\"56\" y2=\"88\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"61\" y1=\"88\" x2=\"72\" y2=\"88\"    style=\" stroke:black; stroke-width:8px; \" />'\n            + '<line x1=\"78\" y1=\"88\" x2=\"106\" y2=\"88\"    style=\" stroke:black; stroke-width:8px; \" />');\n    }\n}\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  log file window\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nexport class logForm {\n    static show() {\n        if (logForm._window == null) {\n            let params = new YoctoVisualization.newWindowParam();\n            params.positionType = 0 /* YoctoVisualization.WindowPositionType.REGULAR */;\n            params.width = (8 * window.innerWidth / 10) >> 0;\n            params.height = (6 * window.innerHeight / 10) >> 0;\n            params.left = (1 * window.innerWidth / 10) >> 0;\n            params.top = (2 * window.innerHeight / 10) >> 0;\n            params.title = \"LogFile\";\n            logForm._window = new YoctoVisualization.YWindow(params);\n            logForm._contents = logForm._window.innerContentDiv;\n            logForm._contents.style.fontFamily = \"courrier\";\n            logForm._contents.style.fontSize = (10 * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            logForm._contents.style.overflow = \"auto\";\n            for (let i = 0; i < logForm._lines.length; i++) {\n                logForm.addLine(logForm._lines[i]);\n            }\n        }\n        logForm._window.show();\n    }\n    static addLine(st) {\n        let pre = document.createElement(\"PRE\");\n        pre.style.marginTop = \"0\";\n        pre.style.marginBottom = \"0\";\n        pre.innerText = st;\n        logForm._contents.appendChild(pre);\n        while (logForm._contents.childElementCount > 1000) {\n            logForm._contents.removeChild(logForm._contents.firstChild);\n        }\n    }\n    static padStart(st, length) {\n        while (st.length < length) {\n            st = '0' + st;\n        }\n        return st;\n    }\n    static dateToString(d) {\n        return d.getFullYear().toString() + \"-\" + logForm.padStart((d.getMonth() + 1).toString(), 2) + \"-\" + logForm.padStart(d.getDate().toString(), 2) + \" \"\n            + logForm.padStart(d.getHours().toString(), 2) + \":\" + logForm.padStart(d.getMinutes().toString(), 2) + \":\" + logForm.padStart((d.getSeconds() + d.getMilliseconds() / 1000).toFixed(3), 6);\n    }\n    static log(st) {\n        logForm.logNOTS(logForm.dateToString(new Date()) + \" \" + st);\n    }\n    static logNOTS(st) {\n        logForm._lines.push(st);\n        if (logForm._lines.length > 1000) {\n            logForm._lines.splice(0, logForm._lines.length - 1000);\n        }\n        if (logForm._window != null)\n            logForm.addLine(st);\n    }\n}\nlogForm._lines = [];\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Raw data visualization and export interface\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nexport class rawDataForm {\n    static hide() {\n        if (rawDataForm._window == null)\n            return;\n        rawDataForm._window.visible = false;\n    }\n    static show() {\n        if (rawDataForm._window == null) {\n            let params = new YoctoVisualization.newWindowParam();\n            params.positionType = 1 /* YoctoVisualization.WindowPositionType.CENTERED */;\n            params.width = (9 * window.innerWidth / 10) >> 0;\n            params.height = (8 * window.innerHeight / 10) >> 0;\n            params.title = \"Raw data\";\n            rawDataForm._window = new YoctoVisualization.YWindow(params);\n            rawDataForm._contents = rawDataForm._window.innerContentDiv;\n            rawDataForm._statusline = document.createElement(\"DIV\");\n            rawDataForm._statusline.style.position = \"absolute\";\n            rawDataForm._statusline.style.left = YoctoVisualization.constants.WindowPadding.toString() + \"px\";\n            rawDataForm._statusline.style.right = YoctoVisualization.constants.WindowPadding.toString() + \"px\";\n            rawDataForm._statusline.style.height = (rawDataForm.STATUSLINEHEIGHT * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._statusline.style.bottom = (YoctoVisualization.constants.WindowPadding.toString()) + \"px\";\n            rawDataForm._statusline.style.paddingTop = Math.round(5 * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._statusline.style.paddingLeft = \"5px\";\n            rawDataForm._statusline.style.paddingRight = \"5px\";\n            rawDataForm._statusline.style.overflowX = \"auto\";\n            rawDataForm._statusline.style.paddingRight = \"5px\";\n            rawDataForm._contents.append(rawDataForm._statusline);\n            rawDataForm._sensorsList = document.createElement(\"DIV\");\n            rawDataForm._sensorsList.style.position = \"absolute\";\n            rawDataForm._sensorsList.style.left = YoctoVisualization.constants.WindowPadding.toString() + \"px\";\n            rawDataForm._sensorsList.style.right = (rawDataForm.sensorListWidth * YoctoVisualization.constants.generalSizeCoef + 8 * YoctoVisualization.constants.WindowPadding).toString() + \"px\";\n            rawDataForm._sensorsList.style.top = \"2px\";\n            rawDataForm._sensorsList.style.overflowY = \"auto\";\n            rawDataForm._sensorsList.style.height = (rawDataForm.topMargin * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._sensorsList.style.paddingLeft = \"5px\";\n            rawDataForm._sensorsList.style.paddingRight = \"5px\";\n            rawDataForm._sensorsList.style.border = YoctoVisualization.constants.WindowInnerBorder;\n            rawDataForm._sensorsList.style.backgroundColor = YoctoVisualization.constants.WindowInnerBackgroundColor;\n            rawDataForm._contents.append(rawDataForm._sensorsList);\n            rawDataForm._optionsList = document.createElement(\"DIV\");\n            rawDataForm._optionsList.style.position = \"absolute\";\n            rawDataForm._optionsList.style.width = (rawDataForm.sensorListWidth * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._optionsList.style.right = YoctoVisualization.constants.WindowPadding.toString() + \"px\";\n            rawDataForm._optionsList.style.top = \"0px\";\n            rawDataForm._optionsList.style.height = (rawDataForm.topMargin * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._optionsList.style.paddingLeft = \"5px\";\n            rawDataForm._optionsList.style.paddingRight = \"5px\";\n            rawDataForm._optionsList.style.border = \"1px solid transparent\";\n            rawDataForm._contents.append(rawDataForm._optionsList);\n            let br;\n            rawDataForm._optionMIN = document.createElement(\"INPUT\");\n            rawDataForm._optionMIN.type = \"input\";\n            rawDataForm._optionMIN.checked = false;\n            rawDataForm._optionMIN.style.display = \"inline\";\n            rawDataForm._optionMIN.type = \"checkbox\";\n            rawDataForm._optionMIN.style.transform = \"scale(\" + YoctoVisualization.constants.generalSizeCoef.toString() + \")\";\n            rawDataForm._optionMIN.style.marginRight = Math.round(5 * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._optionMIN.addEventListener(\"change\", () => { rawDataForm.refresh(); });\n            rawDataForm._optionsList.append(rawDataForm._optionMIN);\n            let span;\n            span = document.createElement(\"SPAN\");\n            span.innerText = \"Include minimum values\";\n            rawDataForm._optionsList.append(span);\n            br = document.createElement(\"BR\");\n            rawDataForm._optionsList.append(br);\n            rawDataForm._optionAVG = document.createElement(\"INPUT\");\n            rawDataForm._optionAVG.type = \"input\";\n            rawDataForm._optionAVG.checked = true;\n            rawDataForm._optionAVG.style.display = \"inline\";\n            rawDataForm._optionAVG.type = \"checkbox\";\n            rawDataForm._optionAVG.style.transform = \"scale(\" + YoctoVisualization.constants.generalSizeCoef.toString() + \")\";\n            rawDataForm._optionAVG.style.marginRight = Math.round(5 * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._optionAVG.addEventListener(\"change\", () => { rawDataForm.refresh(); });\n            rawDataForm._optionsList.append(rawDataForm._optionAVG);\n            span = document.createElement(\"SPAN\");\n            span.innerText = \"Include average values\";\n            rawDataForm._optionsList.append(span);\n            br = document.createElement(\"BR\");\n            rawDataForm._optionsList.append(br);\n            rawDataForm._optionMAX = document.createElement(\"INPUT\");\n            rawDataForm._optionMAX.type = \"input\";\n            rawDataForm._optionMAX.checked = false;\n            rawDataForm._optionMAX.style.display = \"inline\";\n            rawDataForm._optionMAX.type = \"checkbox\";\n            rawDataForm._optionMAX.style.transform = \"scale(\" + YoctoVisualization.constants.generalSizeCoef.toString() + \")\";\n            rawDataForm._optionMAX.style.marginRight = Math.round(5 * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._optionMAX.addEventListener(\"change\", () => { rawDataForm.refresh(); });\n            rawDataForm._optionsList.append(rawDataForm._optionMAX);\n            span = document.createElement(\"SPAN\");\n            span.innerText = \"Include maximum values\";\n            rawDataForm._optionsList.append(span);\n            rawDataForm._optionsList.append(document.createElement(\"BR\"));\n            rawDataForm._optionsList.append(document.createElement(\"BR\"));\n            let p = document.createElement(\"P\");\n            p.style.textAlign = \"center\";\n            let refreshBtn = new YoctoVisualization.button(\"refresh\", () => { rawDataForm.refresh(); });\n            p.appendChild(refreshBtn.Element);\n            let ExportBtn = new YoctoVisualization.button(\"export\", () => { rawDataForm.export(); });\n            p.appendChild(ExportBtn.Element);\n            rawDataForm._optionsList.append(p);\n            rawDataForm._datacontents = document.createElement(\"DIV\");\n            rawDataForm._datacontents.style.position = \"absolute\";\n            rawDataForm._datacontents.style.left = YoctoVisualization.constants.WindowPadding.toString() + \"px\";\n            rawDataForm._datacontents.style.right = YoctoVisualization.constants.WindowPadding.toString() + \"px\";\n            rawDataForm._datacontents.style.top = (rawDataForm.topMargin * YoctoVisualization.constants.generalSizeCoef + 5 * YoctoVisualization.constants.WindowPadding).toString() + \"px\";\n            rawDataForm._datacontents.style.bottom = (4 * YoctoVisualization.constants.WindowPadding + rawDataForm.STATUSLINEHEIGHT * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n            rawDataForm._datacontents.style.paddingLeft = \"5px\";\n            rawDataForm._datacontents.style.paddingRight = \"5px\";\n            rawDataForm._datacontents.style.overflowX = \"auto\";\n            rawDataForm._datacontents.style.paddingRight = \"5px\";\n            rawDataForm._contents.append(rawDataForm._datacontents);\n            rawDataForm._dataTable = document.createElement(\"TABLE\");\n            rawDataForm._dataTable.style.position = \"absolute\";\n            rawDataForm._dataTable.style.overflow = \"auto\";\n            rawDataForm._dataTable.style.left = \"0px\";\n            rawDataForm._dataTable.style.width = \"100%\";\n            rawDataForm._dataTable.style.top = \"0px\";\n            rawDataForm._dataTable.style.bottom = \"0px\";\n            rawDataForm._dataTable.style.fontSize = YoctoVisualization.constants.generalFontSize.toString() + \"px\";\n            rawDataForm._dataTable.style.borderCollapse = \"colapse\";\n            rawDataForm._dataTable.style.borderSpacing = \"0px\";\n            rawDataForm._dataTable.style.fontFamily = \"sans-serif\";\n            rawDataForm._datacontents.appendChild(rawDataForm._dataTable);\n        }\n        rawDataForm._window.show();\n        rawDataForm.refresh();\n    }\n    static refresh() {\n        let list = [];\n        for (let i = 0; i < YoctoVisualization.sensorsManager.sensorList.length; i++) {\n            if (!(YoctoVisualization.sensorsManager.sensorList[i] instanceof YoctoVisualization.NullYSensor)) {\n                list.push(YoctoVisualization.sensorsManager.sensorList[i]);\n            }\n        }\n        rawDataForm._selection = [];\n        for (let i = 0; i < list.length; i++) {\n            let spanNode;\n            let spanText;\n            let input;\n            if (i >= rawDataForm._sensorsList.childNodes.length) {\n                spanNode = document.createElement(\"SPAN\");\n                input = document.createElement(\"INPUT\");\n                input.type = \"input\";\n                input.checked = false;\n                input.style.display = \"inline\";\n                input.type = \"checkbox\";\n                input.style.transform = \"scale(\" + YoctoVisualization.constants.generalSizeCoef.toString() + \")\";\n                input.style.marginRight = Math.round(5 * YoctoVisualization.constants.generalSizeCoef).toString() + \"px\";\n                input.addEventListener(\"change\", () => { rawDataForm.refresh(); });\n                spanNode.appendChild(input);\n                spanText = document.createElement(\"SPAN\");\n                spanNode.appendChild(spanText);\n                rawDataForm._sensorsList.appendChild(spanNode);\n                spanNode.appendChild(document.createElement(\"BR\"));\n            }\n            else {\n                spanNode = rawDataForm._sensorsList.childNodes[i];\n                input = spanNode.childNodes[0];\n                spanText = spanNode.childNodes[1];\n            }\n            if (input.checked)\n                rawDataForm._selection.push(list[i]);\n            input.id = list[i].get_hardwareId();\n            spanText.innerText = list[i].get_friendlyName();\n        }\n        while (rawDataForm._sensorsList.childNodes.length > list.length) {\n            rawDataForm._sensorsList.removeChild(rawDataForm._sensorsList.lastChild);\n        }\n        rawDataForm.RefreshContents(rawDataForm._selection);\n    }\n    static padStart(st, length) {\n        while (st.length < length) {\n            st = '0' + st;\n        }\n        return st;\n    }\n    static UnixTimeStampTostring(ts) {\n        let d = new Date(Date.UTC(1970, 0, 1));\n        d.setUTCSeconds(ts >> 0, 1000 * (ts % 1));\n        return d.getFullYear().toString() + \"-\" + rawDataForm.padStart((d.getMonth() + 1).toString(), 2) + \"-\" + rawDataForm.padStart(d.getDate().toString(), 2) + \" \"\n            + rawDataForm.padStart(d.getHours().toString(), 2) + \":\" + rawDataForm.padStart(d.getMinutes().toString(), 2) + \":\" + rawDataForm.padStart((d.getSeconds() + d.getMilliseconds() / 1000).toFixed(3), 6);\n    }\n    static RefreshContents(slist) {\n        let TH = document.createElement(\"THEAD\");\n        let TB = document.createElement(\"TBODY\");\n        let HR1 = document.createElement(\"TR\");\n        let HR2 = document.createElement(\"TR\");\n        let indexes = [];\n        for (let i = 0; i < slist.length; i++) {\n            indexes.push(slist[i].curData.length - 1);\n        }\n        while (rawDataForm._dataTable.childNodes.length > 0) {\n            rawDataForm._dataTable.removeChild(rawDataForm._dataTable.lastChild);\n        }\n        rawDataForm._dataTable.appendChild(TH);\n        rawDataForm._dataTable.appendChild(TB);\n        let sMin = false;\n        let sMax = false;\n        let sAvg = false;\n        let toShow = 0;\n        if (rawDataForm._optionMIN.checked) {\n            sMin = true;\n            toShow++;\n        }\n        if (rawDataForm._optionAVG.checked) {\n            sAvg = true;\n            toShow++;\n        }\n        if (rawDataForm._optionMAX.checked) {\n            sMax = true;\n            toShow++;\n        }\n        TH.appendChild(HR1);\n        TH.appendChild(HR2);\n        let cell = document.createElement(\"TH\");\n        HR1.appendChild(cell);\n        cell = document.createElement(\"TH\");\n        HR2.appendChild(cell);\n        for (let i = 0; i < slist.length; i++) {\n            cell = document.createElement(\"TH\");\n            cell.innerText = slist[i].get_friendlyName();\n            cell.colSpan = Math.max(1, toShow);\n            cell.style.backgroundColor = \"#f0f0f0\";\n            cell.style.borderLeft = YoctoVisualization.constants.WindowInnerBorder;\n            cell.style.borderRight = YoctoVisualization.constants.WindowInnerBorder;\n            cell.style.borderTop = YoctoVisualization.constants.WindowInnerBorder;\n            HR1.appendChild(cell);\n            if (sMin) {\n                cell = document.createElement(\"TH\");\n                cell.innerText = \"Min\";\n                cell.style.borderLeft = YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.borderRight = (sAvg || sMax) ? \"\" : YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.backgroundColor = \"#f0f0f0\";\n                cell.style.textAlign = \"right\";\n                HR2.appendChild(cell);\n            }\n            if (sAvg) {\n                cell = document.createElement(\"TH\");\n                cell.innerText = \"Avg\";\n                cell.style.borderLeft = (sMin) ? \"\" : YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.borderRight = (sMax) ? \"\" : YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.backgroundColor = \"#f0f0f0\";\n                cell.style.textAlign = \"right\";\n                HR2.appendChild(cell);\n            }\n            if (sMax) {\n                cell = document.createElement(\"TH\");\n                cell.innerText = \"Max\";\n                cell.style.borderLeft = (sAvg || sMin) ? \"\" : YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.borderRight = YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.backgroundColor = \"#f0f0f0\";\n                cell.style.textAlign = \"right\";\n                HR2.appendChild(cell);\n            }\n        }\n        let colcount = slist.length * toShow;\n        let MaxTimeStamp = 0;\n        for (let i = 0; i < slist.length; i++) {\n            if (indexes[i] >= 0) {\n                if (MaxTimeStamp < slist[i].curData[indexes[i]].DateTime) {\n                    MaxTimeStamp = slist[i].curData[indexes[i]].DateTime;\n                }\n            }\n        }\n        let rowcount = 0;\n        let currentRow = null;\n        while ((MaxTimeStamp > 0) && (rowcount < rawDataForm.MAXRAWDATAROWS)) {\n            let row = new Array(colcount);\n            let nextTimeStamp = 0;\n            for (let i = 0; i < slist.length; i++) {\n                let Shown = false;\n                if (indexes[i] >= 0) {\n                    if (slist[i].curData[indexes[i]].DateTime == MaxTimeStamp) {\n                        let n = 0;\n                        if (sMin) {\n                            row[n + i * toShow] = slist[i].minData[indexes[i]].value.toString();\n                            n++;\n                        }\n                        if (sAvg) {\n                            row[n + i * toShow] = slist[i].curData[indexes[i]].value.toString();\n                            n++;\n                        }\n                        if (sMax) {\n                            row[n + i * toShow] = slist[i].maxData[indexes[i]].value.toString();\n                            n++;\n                        }\n                        Shown = true;\n                        indexes[i]--;\n                    }\n                    if (indexes[i] >= 0) {\n                        if (slist[i].curData[indexes[i]].DateTime > nextTimeStamp) {\n                            nextTimeStamp = slist[i].curData[indexes[i]].DateTime;\n                        }\n                    }\n                }\n                if (!Shown) {\n                    let n = 0;\n                    if (sMin) {\n                        row[n + i * toShow] = \"\";\n                        n++;\n                    }\n                    if (sAvg) {\n                        row[n + i * toShow] = \"\";\n                        n++;\n                    }\n                    if (sMax) {\n                        row[n + i * toShow] = \"\";\n                        n++;\n                    }\n                }\n            }\n            if ((colcount > 0) && (toShow > 0)) {\n                currentRow = document.createElement(\"TR\");\n                let cell = document.createElement(\"TD\");\n                cell.innerText = rawDataForm.UnixTimeStampTostring(MaxTimeStamp).toLocaleString();\n                cell.style.borderLeft = YoctoVisualization.constants.WindowInnerBorder;\n                cell.style.borderTop = (rowcount == 0) ? YoctoVisualization.constants.WindowInnerBorder : \"\";\n                cell.style.backgroundColor = \"#f0f0f0\";\n                currentRow.style.backgroundColor = ((rowcount & 1) == 0) ? \"white\" : \"#f0f0f0\";\n                currentRow.appendChild(cell);\n                for (let j = 0; j < row.length; j++) {\n                    cell = document.createElement(\"TD\");\n                    cell.innerText = row[j];\n                    cell.style.textAlign = \"right\";\n                    cell.style.borderLeft = (j % toShow) == 0 ? YoctoVisualization.constants.WindowInnerBorder : \"\";\n                    cell.style.borderRight = ((j + 1) % toShow) == 0 ? YoctoVisualization.constants.WindowInnerBorder : \"\";\n                    cell.style.fontFamily = \"monospace\";\n                    currentRow.appendChild(cell);\n                }\n                TB.appendChild(currentRow);\n                rowcount++;\n            }\n            MaxTimeStamp = nextTimeStamp;\n        }\n        if (currentRow != null) {\n            for (let i = 0; i < currentRow.childNodes.length; i++) {\n                currentRow.childNodes[i].style.borderBottom = YoctoVisualization.constants.WindowInnerBorder;\n            }\n        }\n        if (toShow == 0) {\n            rawDataForm._statusline.style.backgroundColor = \"#FF8080\";\n            rawDataForm._statusline.innerText = \"No data shown, select at least Min, Avg or Max options in the top-right checkboxes\";\n        }\n        else if ((rowcount) == 0) {\n            rawDataForm._statusline.style.backgroundColor = \"#FF8080\";\n            rawDataForm._statusline.innerText = \"No data shown, select at least one sensor in the list above.\";\n        }\n        else {\n            rawDataForm._statusline.style.backgroundColor = YoctoVisualization.constants.WindowBackgroundColor;\n            if (rowcount < rawDataForm.MAXRAWDATAROWS) {\n                rawDataForm._statusline.innerText = \"These are the last \" + rowcount.toString() + \" data rows.\";\n            }\n            else {\n                rawDataForm._statusline.innerText = \"These are the last \" + rowcount.toString() + \" data rows.  Use the export feature to get the whole data set.\";\n            }\n        }\n        //CsvBtn.Enabled = ((rowcount > 0) && (toShow > 0));\n    }\n    static getCvsdata(slist, sMin, sAvg, sMax) {\n        let toShow = 0;\n        let indexes = [];\n        for (let i = 0; i < slist.length; i++) {\n            indexes.push(0);\n        }\n        if (sMin)\n            toShow++;\n        if (sAvg)\n            toShow++;\n        if (sMax)\n            toShow++;\n        let res;\n        let ColumnHeader = \"Timestamp\";\n        for (let i = 0; i < slist.length; i++) {\n            let sName = slist[i].toString();\n            if (sMin)\n                ColumnHeader += \";\" + sName + \"(min)\";\n            if (sAvg)\n                ColumnHeader += \";\" + sName + \"(avg)\";\n            if (sMax)\n                ColumnHeader += \";\" + sName + \"(max)\";\n        }\n        res = ColumnHeader + \"\\r\\n\";\n        let colcount = slist.length * toShow;\n        let MinTimeStamp = Number.POSITIVE_INFINITY;\n        for (let i = 0; i < slist.length; i++) {\n            if (indexes[i] < slist[i].curData.length) {\n                if (MinTimeStamp > slist[i].curData[indexes[i]].DateTime) {\n                    MinTimeStamp = slist[i].curData[indexes[i]].DateTime;\n                }\n            }\n        }\n        while ((MinTimeStamp < Number.POSITIVE_INFINITY)) {\n            let line = \"\";\n            let nextTimeStamp = Number.POSITIVE_INFINITY;\n            for (let i = 0; i < slist.length; i++) {\n                let Shown = false;\n                if (indexes[i] < slist[i].curData.length) {\n                    if (slist[i].curData[indexes[i]].DateTime == MinTimeStamp) {\n                        if (sMin)\n                            line += \";\" + slist[i].minData[indexes[i]].value.toString();\n                        if (sAvg)\n                            line += \";\" + slist[i].curData[indexes[i]].value.toString();\n                        if (sMax)\n                            line += \";\" + slist[i].maxData[indexes[i]].value.toString();\n                        Shown = true;\n                        indexes[i]++;\n                    }\n                    if (indexes[i] < slist[i].curData.length) {\n                        if (slist[i].curData[indexes[i]].DateTime < nextTimeStamp) {\n                            nextTimeStamp = slist[i].curData[indexes[i]].DateTime;\n                        }\n                    }\n                }\n                if (!Shown) {\n                    if (sMin)\n                        line += \" ; \";\n                    if (sAvg)\n                        line += \" ; \";\n                    if (sMax)\n                        line += \" ; \";\n                }\n            }\n            if (colcount > 0)\n                line = rawDataForm.UnixTimeStampTostring(MinTimeStamp) + line;\n            res += line + \"\\r\\n\";\n            MinTimeStamp = nextTimeStamp;\n        }\n        return res;\n    }\n    static export() {\n        let element = document.createElement('a');\n        let data = 'data:text/csv;charset=utf-8,' + encodeURI(rawDataForm.getCvsdata(rawDataForm._selection, rawDataForm._optionMIN.checked, rawDataForm._optionAVG.checked, rawDataForm._optionMAX.checked));\n        element.setAttribute('href', data);\n        element.setAttribute('download', \"rawdata.csv\");\n        element.style.display = 'none';\n        document.body.appendChild(element);\n        element.click();\n        document.body.removeChild(element);\n    }\n}\nrawDataForm._lines = [];\nrawDataForm.topMargin = 100;\nrawDataForm.sensorListWidth = 200;\nrawDataForm.MAXRAWDATAROWS = 100;\nrawDataForm.STATUSLINEHEIGHT = 20;\nrawDataForm._selection = [];\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*   Application windows management\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nexport class button {\n    constructor(caption, action, sizeCoefOverload) {\n        this._enabled = true;\n        this._visible = true;\n        this._caption = \"\";\n        this._caption = caption;\n        this._action = action;\n        let GUIcoef = YoctoVisualization.constants.generalSizeCoef;\n        if (typeof (sizeCoefOverload) !== \"undefined\")\n            GUIcoef = sizeCoefOverload;\n        this._link = document.createElement(\"A\");\n        this._link.innerText = this._caption;\n        this._link.style.cursor = \"pointer\";\n        this._link.style.display = \"inlineblock\";\n        let padding = Math.round(5 * GUIcoef).toString() + \"px\";\n        let margin = Math.round(3 * GUIcoef).toString() + \"px\";\n        this._link.tabIndex = 0;\n        this._link.style.padding = padding + \" \" + padding + \" \" + padding + \" \" + padding;\n        this._link.style.margin = margin + \" \" + margin + \" \" + margin + \" \" + margin;\n        this._link.style.borderColor = \"#808080\";\n        this._link.style.backgroundColor = \"#f0f0f0\";\n        this._link.style.fontFamily = YoctoVisualization.constants.generalFontFamily;\n        this._link.style.fontSize = (16 * GUIcoef).toString() + \"px\";\n        this._link.style.cursor = \"pointer\";\n        this._link.style.border = YoctoVisualization.constants.WindowInnerBorder;\n        this._link.addEventListener('mouseover', () => { if (this._enabled)\n            this._link.style.backgroundColor = \"white\"; });\n        this._link.addEventListener('mouseout', () => { if (this._enabled)\n            this._link.style.backgroundColor = \"#f0f0f0\"; });\n        this._link.addEventListener('click', () => { if (this._enabled)\n            this._action(this); });\n        this._link.addEventListener('keypress', (e) => { if (this._enabled && ((e.key == 'Enter') || (e.key == ' ')))\n            this._action(this); });\n    }\n    get Element() { return this._link; }\n    set tabIndex(index) {\n        this._link.tabIndex = index;\n    }\n    focus() {\n        this._link.focus();\n    }\n    get visible() { return this._visible; }\n    set visible(value) {\n        this._visible = value;\n        this._link.style.display = this._visible ? \"\" : \"none\";\n    }\n    get enabled() { return this._enabled; }\n    set enabled(value) { this.enable(value); }\n    performAction() {\n        if (!this._enabled)\n            return;\n        this._action(this);\n    }\n    showShortcut(enable) {\n        if (!this._enabled)\n            enable = false;\n        if (enable) {\n            this._link.innerHTML = \"<u>\" + this._caption.substring(0, 1) + \"</u>\" + this._caption.substring(1);\n        }\n        else {\n            this._link.innerText = this._caption;\n        }\n    }\n    enable(state) {\n        if (state == this._enabled)\n            return;\n        this._enabled = state;\n        this._link.tabIndex = state ? 0 : -1;\n        if (this._enabled) {\n            this._link.style.cursor = \"pointer\";\n            this._link.style.backgroundColor = \"#f0f0f0\";\n            this._link.style.color = \"black\";\n        }\n        else {\n            this._link.style.backgroundColor = \"#e0e0e0\";\n            this._link.style.cursor = \"default\";\n            this._link.style.color = \"#A0A0A0\";\n        }\n    }\n}\nexport class newWindowParam {\n    get GUICoef() {\n        return this._GUICoef;\n    }\n    constructor(sizeCoefOverload) {\n        this.createNow = false; // force all the window UI Element to be allocated now instead of when show() is called\n        this.left = 100;\n        this.top = 100;\n        this.positionType = 0 /* WindowPositionType.REGULAR */;\n        this.width = 400;\n        this.height = 300;\n        this.isModal = false;\n        this.showShadow = true;\n        this.showContainerBorders = true;\n        this.showHeader = true;\n        this.title = \"new Window\";\n        this.closeIcon = true;\n        this.headerBgColor = \"\";\n        this.bottomKeepClear = 0;\n        this.contentsDefaultFontSize = YoctoVisualization.constants.generalFontSize;\n        this.contentsDefaultFontFamily = YoctoVisualization.constants.generalFontFamily;\n        this.closingCallBack = null;\n        this.WindowBackgroundColor = \"#f0f0f0\";\n        this.WindowBorder = \"1px solid #808080\";\n        this.WindowPadding = 2;\n        this.WindowInnerBorderColor = \" #A0A0A0\";\n        this.WindowInnerBackgroundColor = \"#fAfAfA\";\n        this.WindowInnerBorder = \"1px solid \" + this.WindowInnerBorderColor;\n        this.WindowHeaderBackgroundColor = \"#0072ca\";\n        this.WindowHeaderColor = \"white\";\n        this.WindowHeaderBorder = \"1px solid #0072ca\";\n        this._GUICoef = YoctoVisualization.constants.generalSizeCoef;\n        this.WindowHeaderHeight = Math.round(20 * YoctoVisualization.constants.generalSizeCoef);\n        this.WindowHeaderFontSize = 16 * YoctoVisualization.constants.generalSizeCoef;\n        this.WindowHeaderFontFamily = YoctoVisualization.constants.generalFontFamily;\n        this.buttons = [];\n        if (typeof (sizeCoefOverload) !== \"undefined\") {\n            this.WindowHeaderHeight = 20 * sizeCoefOverload;\n            this.WindowHeaderFontSize = 16 * sizeCoefOverload;\n            this._GUICoef = sizeCoefOverload;\n        }\n    }\n    clone() {\n        let it = new newWindowParam();\n        let keys = Object.keys(this);\n        for (let i = 0; i < keys.length; i++) {\n            if (keys[i] != \"buttons\")\n                it[keys[i]] = this[keys[i]];\n        }\n        for (let i = 0; i < this.buttons.length; i++) {\n            it.buttons.push(this.buttons[i]);\n        }\n        return it;\n    }\n}\nexport class YWindow {\n    static get ConTextMenuBestZindex() {\n        for (let i = 0; i < YWindow.windowList.length; i++) {\n            if (YWindow.windowList[i].isModal())\n                return -1;\n        }\n        return 100000 + 2 * YWindow.windowList.length;\n    }\n    constructor(params) {\n        this._div = null; // main contain\n        this._titleSpan = null;\n        this._ModalDivShield = null;\n        this._switchSideDiv = null;\n        this._buttonsContainer = null;\n        this._params = params.clone();\n        YWindow.windowList.push(this);\n        this._contents = document.createElement(\"DIV\");\n        if (params.createNow)\n            this.allocate();\n    }\n    get innerContentDiv() { return this._contents; }\n    get bottomKeepClear() { return this._params.bottomKeepClear; }\n    set bottomKeepClear(value) {\n        this._params.bottomKeepClear = value;\n        if (this._contents != null) {\n            this._contents.style.bottom = (this._params.WindowPadding + this._params.bottomKeepClear).toString() + \"px\";\n        }\n    }\n    get outterContentDiv() { return this._div; }\n    isModal() {\n        if (this._div == null)\n            return false;\n        return (this._div.style.display == \"\") && (this._params.isModal);\n    }\n    get visible() {\n        if (this._div == null)\n            return false;\n        return this._div.style.display == \"\";\n    }\n    set visible(v) {\n        v ? this.show() : this.hide();\n    }\n    show(width) {\n        if (this._div == null)\n            this.allocate();\n        this._div.style.display = \"\";\n        if (this._ModalDivShield != null)\n            this._ModalDivShield.style.display = \"\";\n        this.brintToFront();\n        if ((typeof (width) !== \"undefined\") && (this._params.positionType == 2 /* WindowPositionType.SIDEANCHORED */)) {\n            this._div.style.width = width.toString() + \"px\";\n        }\n    }\n    allocate() {\n        if (this._div != null)\n            return;\n        if (this._params.isModal) {\n            this._ModalDivShield = document.createElement(\"DIV\");\n            this._ModalDivShield.style.position = \"fixed\";\n            this._ModalDivShield.style.left = \"0px\";\n            this._ModalDivShield.style.top = \"0px\";\n            this._ModalDivShield.style.right = \"0px\";\n            this._ModalDivShield.style.bottom = \"0px\";\n            this._ModalDivShield.style.backgroundColor = \"rgba(255,255,255,0.85) \";\n            document.body.appendChild(this._ModalDivShield);\n        }\n        this._div = document.createElement(\"DIV\");\n        this._div.style.display = \"none\";\n        switch (this._params.positionType) {\n            case 0 /* WindowPositionType.REGULAR */:\n                this._div.style.position = \"absolute\";\n                this._div.style.left = this._params.left.toString() + \"px\";\n                this._div.style.top = this._params.top.toString() + \"px\";\n                this._div.style.width = this._params.width.toString() + \"px\";\n                this._div.style.height = this._params.height.toString() + \"px\";\n                break;\n            case 1 /* WindowPositionType.CENTERED */:\n                this._div.style.position = \"absolute\";\n                this._div.style.left = \"50%\";\n                this._div.style.top = \"50%\";\n                this._div.style.transform = \"translate(-50%, -50%)\";\n                this._div.style.width = this._params.width.toString() + \"px\";\n                this._div.style.height = this._params.height.toString() + \"px\";\n                break;\n            case 2 /* WindowPositionType.SIDEANCHORED */:\n                this._div.style.position = \"fixed\";\n                this._div.style.top = \"5px\";\n                this._div.style.right = \"5px\";\n                this._div.style.bottom = \"5px\";\n                this._div.style.width = this._params.width.toString() + \"px\";\n                break;\n        }\n        this._div.style.border = this._params.WindowBorder;\n        this._div.style.backgroundColor = this._params.WindowBackgroundColor;\n        if (this._params.showShadow)\n            this._div.style.boxShadow = \" 4px 4px 4px 1px rgba(0,0,0,0.05)\";\n        let containerTop = this._params.WindowPadding;\n        if (this._params.showHeader) {\n            containerTop = this._params.WindowHeaderHeight + 3 * this._params.WindowPadding;\n            let title = document.createElement(\"DIV\");\n            title.style.position = \"absolute\";\n            title.style.left = this._params.WindowPadding.toString() + \"px\";\n            title.style.top = this._params.WindowPadding.toString() + \"px\";\n            title.style.right = this._params.WindowPadding.toString() + \"px\";\n            title.style.height = this._params.WindowHeaderHeight.toString() + \"px\";\n            title.style.border = this._params.WindowHeaderBorder;\n            title.style.backgroundColor = this._params.WindowHeaderBackgroundColor;\n            title.style.fontFamily = this._params.WindowHeaderFontFamily;\n            title.style.color = this._params.WindowHeaderColor;\n            title.style.fontSize = this._params.WindowHeaderFontSize.toString() + \"px\";\n            title.style.paddingLeft = \"5px\";\n            title.style.whiteSpace = \"nowrap\";\n            title.addEventListener(\"click\", () => { this.brintToFront(); });\n            this._titleSpan = document.createElement(\"SPAN\");\n            this._titleSpan.innerText = this._params.title;\n            title.appendChild(this._titleSpan);\n            if (this._params.closeIcon) {\n                let closeDiv = document.createElement(\"DIV\");\n                closeDiv.style.position = \"absolute\";\n                closeDiv.style.right = \"0px\";\n                closeDiv.style.top = \"0px\";\n                closeDiv.style.width = Math.round(this._params.WindowHeaderHeight + 5).toString() + \"px\";\n                closeDiv.style.height = this._params.WindowHeaderHeight.toString() + \"px\";\n                closeDiv.style.overflow = \"hide\";\n                closeDiv.style.paddingLeft = \"5px\";\n                closeDiv.tabIndex = 0;\n                closeDiv.style.cursor = \"pointer\";\n                closeDiv.style.backgroundColor = this._params.WindowHeaderBackgroundColor;\n                closeDiv.innerHTML = YoctoVisualization.ressources.CloseIcon(this._params.WindowHeaderHeight.toString(), false, false, false, false, \"Click to close this window\");\n                closeDiv.addEventListener(\"click\", () => { this.hide(); });\n                closeDiv.addEventListener(\"keypress\", (e) => { if (e.key == \"Enter\")\n                    this.hide(); });\n                title.appendChild(closeDiv);\n            }\n            if (this._params.positionType == 2 /* WindowPositionType.SIDEANCHORED */) {\n                this._switchSideDiv = document.createElement(\"DIV\");\n                this._switchSideDiv.style.position = \"absolute\";\n                this._switchSideDiv.style.width = Math.round(this._params.WindowHeaderHeight + 5).toString() + \"px\";\n                this._switchSideDiv.style.right = Math.round(this._params.WindowHeaderHeight + 5) + \"px\";\n                this._switchSideDiv.style.height = this._params.WindowHeaderHeight.toString() + \"px\";\n                this._switchSideDiv.style.overflow = \"hide\";\n                this._switchSideDiv.style.paddingLeft = \"5px\";\n                this._switchSideDiv.style.top = \"0px\";\n                this._switchSideDiv.style.cursor = \"pointer\";\n                this._switchSideDiv.style.backgroundColor = this._params.WindowHeaderBackgroundColor;\n                this._switchSideDiv.innerHTML = YoctoVisualization.ressources.MoveToLeftIcon(this._params.WindowHeaderHeight.toString(), false, false, false, false, \"Click to move editor on left side\");\n                this._switchSideDiv.addEventListener(\"click\", () => { this.switchSide(); });\n                title.appendChild(this._switchSideDiv);\n            }\n            this._div.appendChild(title);\n        }\n        if (this._params.buttons.length > 0) {\n            this._buttonsContainer = document.createElement(\"DIV\");\n            this._buttonsContainer.style.position = \"absolute\";\n            this._buttonsContainer.style.bottom = Math.round(this._params.WindowPadding).toString() + \"px\";\n            this._buttonsContainer.style.right = Math.round(this._params.WindowPadding).toString() + \"px\";\n            this._buttonsContainer.style.textAlign = \"right\";\n            for (let i = 0; i < this._params.buttons.length; i++) {\n                this._buttonsContainer.appendChild(this._params.buttons[i].Element);\n            }\n            this._div.appendChild(this._buttonsContainer);\n            this._buttonsContainer.style.height = (25 * this._params.GUICoef).toString() + \"px\";\n            this._params.bottomKeepClear += Math.round(35 * this._params.GUICoef);\n        }\n        this._contents.style.position = \"absolute\";\n        this._contents.style.left = this._params.WindowPadding.toString() + \"px\";\n        this._contents.style.right = this._params.WindowPadding.toString() + \"px\";\n        this._contents.style.top = containerTop.toString() + \"px\";\n        this._contents.style.bottom = (this._params.WindowPadding + this._params.bottomKeepClear).toString() + \"px\";\n        this._contents.style.paddingLeft = \"5px\";\n        this._contents.style.paddingRight = \"5px\";\n        if (this._contents.style.fontSize == \"\") {\n            this._contents.style.fontSize = this._params.contentsDefaultFontSize.toString() + \"px\";\n        }\n        if (this._contents.style.fontFamily == \"\") {\n            this._contents.style.fontFamily = this._params.contentsDefaultFontFamily;\n        }\n        if (this._params.showContainerBorders) {\n            this._contents.style.border = this._params.WindowInnerBorder;\n            this._contents.style.backgroundColor = this._params.WindowInnerBackgroundColor;\n        }\n        else {\n            this._contents.style.border = \"1px solid rgba(0, 0, 0, 0)\";\n            this._contents.style.backgroundColor = \"\";\n        }\n        this._contents.style.overflow = \"hide\";\n        this._div.append(this._contents);\n        document.body.appendChild(this._div);\n    }\n    hide() {\n        if (this._div == null)\n            return;\n        this._div.style.display = \"none\";\n        if (this._ModalDivShield != null)\n            this._ModalDivShield.style.display = \"none\";\n        if (this._params.closingCallBack != null)\n            this._params.closingCallBack(this);\n    }\n    set title(value) {\n        this._params.title = value;\n        if (this._titleSpan != null) {\n            this._titleSpan.innerText = value;\n        }\n    }\n    brintToFront() {\n        let n = -1;\n        for (let i = 0; i < YWindow.windowList.length; i++) {\n            if (YWindow.windowList[i] == this)\n                n = i;\n        }\n        if (n < 0)\n            return;\n        YWindow.windowList.splice(n, 1);\n        YWindow.windowList.push(this);\n        for (let i = 0; i < YWindow.windowList.length; i++) {\n            YWindow.windowList[i].zIndex = i;\n        }\n    }\n    set zIndex(index) {\n        if (this._div == null)\n            return;\n        this._div.style.zIndex = (100001 + 2 * index).toString();\n        if (this._params.isModal)\n            this._ModalDivShield.style.zIndex = (100000 + 2 * index).toString();\n    }\n    switchSide() {\n        if (this._div.style.left == \"\") {\n            this._div.style.left = \"5px\";\n            this._div.style.right = \"\";\n            this._switchSideDiv.innerHTML = YoctoVisualization.ressources.MoveToRightIcon(Math.round(20 * this._params.GUICoef).toString(), false, false, false, false, \"Click to move editor on right side\");\n        }\n        else {\n            this._div.style.left = \"\";\n            this._div.style.right = \"5px\";\n            this._switchSideDiv.innerHTML = YoctoVisualization.ressources.MoveToLeftIcon(Math.round(20 * this._params.GUICoef).toString(), false, false, false, false, \"Click to move editor on left side\");\n        }\n    }\n}\nYWindow.windowList = [];\nexport class confirm {\n    static ask(message, yes, no, userdata) {\n        let params = new YoctoVisualization.newWindowParam();\n        params.positionType = 1 /* WindowPositionType.CENTERED */;\n        params.width = Math.min(Math.round(400 * YoctoVisualization.constants.generalSizeCoef), Math.round(screen.width * 0.9));\n        params.height = Math.min(Math.round(160 * YoctoVisualization.constants.generalSizeCoef), Math.round(screen.height * 0.7));\n        params.isModal = true;\n        params.showHeader = false;\n        params.showContainerBorders = false;\n        let YesButton = new button(\"Yes\", () => {\n            confirm._window.hide();\n            if (yes != null)\n                yes(userdata);\n        });\n        let NoButton = new button(\"No\", () => {\n            confirm._window.hide();\n            if (no != null)\n                no(userdata);\n        });\n        params.buttons.push(YesButton);\n        params.buttons.push(NoButton);\n        confirm._window = new YWindow(params);\n        let contents = confirm._window.innerContentDiv;\n        let table = document.createElement(\"TABLE\");\n        table.style.width = \"100%\";\n        let TR = document.createElement(\"TR\");\n        let TD = document.createElement(\"TD\");\n        TD.style.width = \"10\";\n        TD.innerHTML = YoctoVisualization.ressources.DontKnowIcon(Math.round(80 * YoctoVisualization.constants.generalSizeCoef).toString(), true, false, false, false, \"\");\n        TR.appendChild(TD);\n        TD = document.createElement(\"TD\");\n        TD.style.paddingLeft = \"20px\";\n        TD.style.fontFamily = YoctoVisualization.constants.generalFontFamily;\n        TD.style.fontSize = YoctoVisualization.constants.generalFontSize.toString() + \"px\";\n        TD.style.textAlign = \"justify\";\n        TD.innerText = message;\n        TR.appendChild(TD);\n        table.appendChild(TR);\n        contents.appendChild(table);\n        confirm._window.show();\n        return confirm._window;\n    }\n}\nclass notififaction {\n    static show(icon, message) {\n        let params = new YoctoVisualization.newWindowParam();\n        params.positionType = 1 /* WindowPositionType.CENTERED */;\n        params.width = Math.min(Math.round(400 * YoctoVisualization.constants.generalSizeCoef), screen.width);\n        params.height = Math.min(Math.round(160 * YoctoVisualization.constants.generalSizeCoef), screen.height);\n        params.isModal = true;\n        params.showHeader = false;\n        params.showContainerBorders = false;\n        let okButton = new button(\"OK\", () => { alert._window.hide(); });\n        params.buttons.push(okButton);\n        alert._window = new YWindow(params);\n        let contents = alert._window.innerContentDiv;\n        let table = document.createElement(\"TABLE\");\n        table.style.width = \"100%\";\n        let TR = document.createElement(\"TR\");\n        let TD = document.createElement(\"TD\");\n        TD.style.width = \"10\";\n        TD.innerHTML = icon;\n        TR.appendChild(TD);\n        TD = document.createElement(\"TD\");\n        TD.style.paddingLeft = \"20px\";\n        TD.style.fontFamily = YoctoVisualization.constants.generalFontFamily;\n        TD.style.fontSize = YoctoVisualization.constants.generalFontSize.toString() + \"px\";\n        TD.style.textAlign = \"justify\";\n        TD.innerText = message;\n        TR.appendChild(TD);\n        table.appendChild(TR);\n        contents.appendChild(table);\n        alert._window.show();\n        return alert._window;\n    }\n}\nexport class alert extends notififaction {\n    static show(message) {\n        return super.show(YoctoVisualization.ressources.FailedIcon(Math.round(80 * YoctoVisualization.constants.generalSizeCoef).toString(), true, false, false, false, \"\"), message);\n    }\n}\nexport class info extends notififaction {\n    static show(message) {\n        return super.show(YoctoVisualization.ressources.OkIcon(Math.round(80 * YoctoVisualization.constants.generalSizeCoef).toString(), true, false, false, false, \"\"), message);\n    }\n}\n", "/*\n*   Yocto-Visualization (for web), a free web-based application\n*   to visualize Yoctopuce Sensors.\n*\n*  Web page management, this is the application entry point\n*  just add the following lines in you web page.\n*\n*  import * as YoctoVisualization from './YoctoVisualizationFull.js';\n*  YoctoVisualization.YWebPage.run(xmlConfigFileContents);\n*\n*  xmlConfigFileContents being a string containing the XML\n*  Configuration data ( Compatible with the native version\n*  of Yocto-Visualization)\n*\n*   - - - - - - - - - License information: - - - - - - - - -\n*\n*  Copyright (C) 2021 and beyond by Yoctopuce Sarl, Switzerland.\n*\n*  Yoctopuce Sarl (hereafter Licensor) grants to you a perpetual\n*  non-exclusive license to use, modify, copy and integrate this\n*  file into your software for the sole purpose of interfacing\n*  with Yoctopuce products.\n*\n*  You may reproduce and distribute copies of this file in\n*  source or object form, as long as the sole purpose of this\n*  code is to interface with Yoctopuce products. You must retain\n*  this notice in the distributed source file.\n*\n*  You should refer to Yoctopuce General Terms and Conditions\n*  for additional information regarding your rights and\n*  obligations.\n*\n*  THE SOFTWARE AND DOCUMENTATION ARE PROVIDED \"AS IS\" WITHOUT\n*  WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING\n*  WITHOUT LIMITATION, ANY WARRANTY OF MERCHANTABILITY, FITNESS\n*  FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO\n*  EVENT SHALL LICENSOR BE LIABLE FOR ANY INCIDENTAL, SPECIAL,\n*  INDIRECT OR CONSEQUENTIAL DAMAGES, LOST PROFITS OR LOST DATA,\n*  COST OF PROCUREMENT OF SUBSTITUTE GOODS, TECHNOLOGY OR\n*  SERVICES, ANY CLAIMS BY THIRD PARTIES (INCLUDING BUT NOT\n*  LIMITED TO ANY DEFENSE THEREOF), ANY CLAIMS FOR INDEMNITY OR\n*  CONTRIBUTION, OR OTHER SIMILAR COSTS, WHETHER ASSERTED ON THE\n*  BASIS OF CONTRACT, TORT (INCLUDING NEGLIGENCE), BREACH OF\n*  WARRANTY, OR OTHERWISE.\n*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport * as YoctoVisualization from \"./YoctoVisualizationFull.js\";\nimport * as YoctoAPI from \"./YoctoApiFull.js\";\nexport * from \"./YoctoApiFull.js\";\nexport * from \"./YoctoVisualizationFull.js\";\nexport class YWebPage {\n    static get resetDataViewMenuItem() { return YWebPage._resetDataViewMenuItem; }\n    static get snapshotMenuItem() { return YWebPage._snapshotMenuItem; }\n    static applicationGlobalinit() {\n        if (YWebPage._MarkerCountPerXaxis == 0) {\n            let xAxisProp = new YoctoVisualization.XaxisDescription();\n            let propDesc = YoctoVisualization.GenericProperties.getAllProperties(xAxisProp);\n            for (let propname in propDesc.byName) {\n                if (propname.startsWith(\"markers\"))\n                    YWebPage._MarkerCountPerXaxis++;\n            }\n        }\n        if (YWebPage.manager == null)\n            YWebPage.manager = new YoctoVisualization.sensorsManager();\n        //#ifndef READONLY\n        //        if (!YWebPage.readonly && (YWebPage._editor == null)) YWebPage._editor = new YoctoVisualization.PropertiesForm2();\n        //        if (!YWebPage.readonly && (YWebPage._mainform == null)) YWebPage._mainform = new YoctoVisualization.mainForm();\n        ////#endif\n        if (YWebPage._contextMenu == null) {\n            YWebPage._contextMenu = new YoctoVisualization.ContextMenu(YWebPage.baseSize, (mouseX, mouseY) => { YWebPage.menuIsOpening(mouseX, mouseY); }, YoctoVisualization.constants.generalFontFamily);\n            //#ifndef READONLY\n            //            YWebPage._contextMarkerSubMenu = new YoctoVisualization.ContextSubMenu(YWebPage.baseSize, YWebPage._contextMenu, null, YoctoVisualization.constants.generalFontFamily);\n            //            for (let i: number = 0; i < YWebPage._MarkerCountPerXaxis; i++)\n            //            {\n            //                YWebPage._markersSubMenuItems.push(YWebPage._contextMarkerSubMenu.addMenuItem(YoctoVisualization.ressources.AddMarkerIcon(YWebPage.baseSize.toString(), i + 1), \"Place marker \" + (i + 1).toString(),\n            //                    () =>\n            //                    {\n            //                        let target: YoctoVisualization.graphWidget = YWebPage._markersSubMenuItems[i].userdata as YoctoVisualization.graphWidget;\n            //                        target.startMarkerCapture(i);\n            //                    }\n            //                ))\n            //            }\n            //\n            //            if (!YWebPage.readonly)\n            //            {\n            //                YWebPage._contextWidgetsSubMenu = new YoctoVisualization.ContextSubMenu(YWebPage.baseSize, YWebPage._contextMenu,\n            //                    (mouseX: number, mouseY: number) => {YWebPage.WidgetsSubMenuIsOpening(mouseX, mouseY) },\n            //                    YoctoVisualization.constants.generalFontFamily);\n            //                YWebPage._widgetsMenuItem = YWebPage._contextMenu.addSubMenuItem(YoctoVisualization.ressources.AllIcon(YWebPage.baseSize.toString(), false, false, false, false), \"All widgets\", YWebPage._contextWidgetsSubMenu)\n            //\n            //                YWebPage._editMenuItem = YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.EditIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Configure this widget\", () => {YWebPage.editWidget()})\n            //                YWebPage._deleteMenuItem = YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.TrashIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Delete this widget\", () => {YWebPage.deleteWidget()})\n            //                YWebPage._editMenuItem.visible = false;\n            //                YWebPage._deleteMenuItem.visible = false;\n            //\n            //            }\n            ////#endif\n            YWebPage._resetDataViewMenuItem = YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.resetViewPort(YWebPage.baseSize.toString(), false, false, false, false), \"Reset dataview\", () => { YWebPage.resetDataView(); });\n            YWebPage._resetDataViewMenuItem.visible = false;\n            //#ifndef READONLY\n            //            if (!YWebPage.readonly)\n            //            {\n            //                YWebPage._clearDataloggerMenuItem = YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.EraseDatalogger(YWebPage.baseSize.toString(), false, false, false, false), \"Clear datalogger\", () => {YWebPage.clearDatalogger()})\n            //                YWebPage._resetDataViewMenuItem.visible = false;\n            //            }\n            ////#endif\n            YWebPage._contextMenu.AddSeparator();\n            //#ifndef READONLY\n            //            if (!YWebPage.readonly)\n            //            {\n            //                YWebPage._addMarkerMenuItem = YWebPage._contextMenu.addSubMenuItem(YoctoVisualization.ressources.AddMarker(YWebPage.baseSize.toString(), false, true, true, false), \"Place markers\", YWebPage._contextMarkerSubMenu)\n            //                YWebPage._disableMarkerMenuItem = YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.DeleteMarker(YWebPage.baseSize.toString(), false, true, false, true), \"Disable Allmarkers\", () => {YWebPage.disableAllMarker()})\n            //                YWebPage._addMarkerMenuItem.visible = false;\n            //                YWebPage._disableMarkerMenuItem.visible = false;\n            //                YWebPage._contextMenu.AddSeparator();\n            //                YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.SolidGaugeIcon(YWebPage.baseSize.toString(), false, true, true, false), \"Add a new Solid gauge\", () => {YWebPage.newGaugeWidget();})\n            //                YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.AngularGaugeIcon(YWebPage.baseSize.toString(), false, true, true, false), \"Add a new Angular gauge\", () => {YWebPage.newAngularGaugeWidget();})\n            //                YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.DigitalDisplayIcon(YWebPage.baseSize.toString(), false, true, true, false), \"Add a new Digital Display\", () => {YWebPage.newDigitalDisplayWidget();})\n            //                YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.GraphIcon(YWebPage.baseSize.toString(), false, true, true, false), \"Add a new Graph\", () => {YWebPage.newGraphWidget();})\n            //            }\n            ////#endif\n            YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.RawDataIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Show raw data\", () => { YoctoVisualization.rawDataForm.show(); });\n            YWebPage._snapshotMenuItem = YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.snapshotIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Snapshot\", () => { YWebPage.snapShot(); });\n            //#ifndef READONLY\n            //            if (!YWebPage.readonly) {\n            //                YWebPage._contextMenu.AddSeparator();\n            //                YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.ConfigureIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Global configuration\", () => {YoctoVisualization.configForm.show();})\n            //                YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.SaveIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Save now\", () => {YWebPage.save(true);})\n            //                \n            //              //  YWebPage._contextMenu.addMenuItem(null, \"Run internal test\", () =>\n            //              //  {\n            //              //  YWebPage.runInternalTest();\n            //              //  })\n            //            }\n            ////#endif\n            YWebPage._contextMenu.addMenuItem(YoctoVisualization.ressources.LogFileIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Show logs\", () => { YWebPage.showLogsWindow(); });\n        }\n    }\n    //#ifndef READONLY\n    //    private static WidgetsSubMenuIsOpening(mouseX: number, mouseY: number)\n    //    {\n    //        YWebPage._contextWidgetsSubMenu.clearAllContents();\n    //        for (let i: number = 0; i < YWebPage.widgets.length; i++)\n    //        {\n    //            let icon: string = \"\";\n    //            let subMenu: YoctoVisualization.ContextSubMenu = new YoctoVisualization.ContextSubMenu(YWebPage.baseSize, YWebPage._contextWidgetsSubMenu,\n    //                (mouseX: number, mouseY: number) => {YWebPage.specificWidgetSubMenuIsOpening(subMenu, mouseX, mouseY) },\n    //                YoctoVisualization.constants.generalFontFamily);\n    //            subMenu.userdata = YWebPage.widgets[i];\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.graphWidget) icon = YoctoVisualization.ressources.GraphIcon(YWebPage.baseSize.toString(), false, false, false, false)\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.digitalDisplayWidget) icon = YoctoVisualization.ressources.DigitalDisplayIcon(YWebPage.baseSize.toString(), false, false, false, false)\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.gaugeWidget) icon = YoctoVisualization.ressources.SolidGaugeIcon(YWebPage.baseSize.toString(), false, false, false, false)\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.angularGaugeWidget) icon = YoctoVisualization.ressources.AngularGaugeIcon(YWebPage.baseSize.toString(), false, false, false, false)\n    //\n    //            YWebPage._contextWidgetsSubMenu.addSubMenuItem(icon, YWebPage.widgets[i].Text, subMenu)\n    //        }\n    //    }\n    //\n    //    private static specificWidgetSubMenuIsOpening(source: YoctoVisualization.ContextSubMenu, mouseX: number, mouseY: number)\n    //    {\n    //        if (source.menuItemsCount > 0) return;\n    //\n    //        let w: YoctoVisualization.YWidget = source.userdata as YoctoVisualization.YWidget;\n    //        source.addMenuItem(YoctoVisualization.ressources.EditIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Configure\", () => {w.edit()})\n    //        source.addMenuItem(YoctoVisualization.ressources.TrashIcon(YWebPage.baseSize.toString(), false, false, false, false), \"Delete\", () => {YWebPage.deleteWidget(w)})\n    //        if (w instanceof YoctoVisualization.graphWidget)\n    //        {\n    //            source.addMenuItem(YoctoVisualization.ressources.resetViewPort(YWebPage.baseSize.toString(), false, false, false, false), \"Reset dataview\", () => {(w as YoctoVisualization.graphWidget).resetDataView()})\n    //            source.addMenuItem(YoctoVisualization.ressources.EraseDatalogger(YWebPage.baseSize.toString(), false, false, false, false), \"Clear datalogger\", () => {(w as YoctoVisualization.graphWidget).clearDataLogger()})\n    //        }\n    //\n    //    }\n    //\n    //    //#endif\n    static showLogsWindow() { YoctoVisualization.logForm.show(); }\n    static snapShot() {\n        let w = YWebPage._snapshotMenuItem.userdata;\n        w.snapshot();\n    }\n    static menuIsOpening(mouseX, mouseY) {\n        //#ifndef READONLY\n        //        if (YWebPage.disableMarkerMenuItem != null) YWebPage.disableMarkerMenuItem.visible = false;\n        //        if (YWebPage.addMarkerMenuItem != null) YWebPage.addMarkerMenuItem.visible = false;\n        //        if (YWebPage.clearDataloggerMenuItem != null) YWebPage.clearDataloggerMenuItem.visible = false;\n        //        if (YWebPage.editMenuItem != null) YWebPage.editMenuItem.visible = false;\n        //        if (YWebPage.deleteMenuItem != null) YWebPage.deleteMenuItem.visible = false;\n        //\n        ////#endif\n        YWebPage.resetDataViewMenuItem.visible = false;\n        YWebPage.snapshotMenuItem.visible = false;\n        for (let i = 0; i < YWebPage.widgets.length; i++) {\n            YWebPage.widgets[i].contextMenuCallBack(mouseX, mouseY);\n        }\n        //#ifndef READONLY\n        //\n        //        YWebPage._widgetsMenuItem.visible = (!YWebPage.readonly) && (YWebPage.widgets.length > 0) && (!YWebPage._editMenuItem.visible);\n        //        //#endif\n        YWebPage._contextMenu.refresh();\n    }\n    static resetDataView() {\n        YWebPage._resetDataViewMenuItem.userdata.resetDataView();\n    }\n    //#ifndef READONLY\n    //    private static editWidget()\n    //    {\n    //        let w: YoctoVisualization.YWidget = YWebPage._editMenuItem.userdata as YoctoVisualization.YWidget;\n    //        w.edit();\n    //    }\n    //\n    //    private static disableAllMarker()\n    //    {\n    //        (YWebPage._disableMarkerMenuItem.userdata as YoctoVisualization.graphWidget).disableAllMarkers();\n    //    }\n    //\n    //    private static clearDatalogger()\n    //    {\n    //        (YWebPage._clearDataloggerMenuItem.userdata as YoctoVisualization.graphWidget).clearDataLogger();\n    //    }\n    //\n    //    private static deleteWidget(widget?: YoctoVisualization.YWidget)\n    //    {\n    //        let w: YoctoVisualization.YWidget = typeof (widget) == \"undefined\" ? YWebPage._deleteMenuItem.userdata as YoctoVisualization.YWidget : widget;\n    //\n    //        YoctoVisualization.confirm.ask(w.confirmDeleteString,\n    //            () =>\n    //            {\n    //                if (!YWebPage.readonly && (w.isBeingEdited) && (YWebPage._editor != null)) YWebPage._editor.hide();\n    //\n    //                w.delete();\n    //                YoctoVisualization.constants.edited = true;\n    //                for (let i: number = YWebPage.widgets.length - 1; i >= 0; i--)\n    //                {\n    //                    if (YWebPage.widgets[i] == w)\n    //                    {\n    //                        YWebPage.widgets.splice(i, 1)\n    //                    }\n    //                }\n    //                if ((YWebPage.widgets.length <= 0) && (YWebPage._mainform != null)) YWebPage._mainform.show();\n    //            },\n    //            null, null);\n    //    }\n    //\n    //    public static FindUniqueNewName(prefix: string): string\n    //    {\n    //        let n: number = 1;\n    //        for (let i: number = 0; i < YWebPage.widgets.length; i++)\n    //        {\n    //            if (YWebPage.widgets[i].Text.startsWith(prefix)) n++;\n    //        }\n    //        if (n > 1) prefix = prefix + \" \" + n.toString();\n    //        return prefix;\n    //    }\n    //\n    //    public static newGraphWidget(): void\n    //    {\n    //        let w: number = (window.innerWidth / 2) >> 0;\n    //        let h: number = (window.innerHeight / 2) >> 0;\n    //        if (w < 350) w = 350;\n    //        if (h < 200) w = 200;\n    //\n    //        let x: number = ((window.innerWidth - w) / 2) >> 0;\n    //        let y: number = ((window.innerHeight - h) / 2) >> 0;\n    //\n    //        let index: number = YWebPage.widgets.length;\n    //        if (index > 0)\n    //        {\n    //            x = index * 25;\n    //            y = index * 25;\n    //        }\n    //        let wdg: YoctoVisualization.graphWidget = new YoctoVisualization.graphWidget(null, YWebPage._editor, x, y, 765, 470)\n    //        wdg.set_name(YWebPage.FindUniqueNewName(\"New Graph\"));\n    //\n    //        YWebPage.widgets.push(wdg);\n    //        wdg.resize(w, h);   // first create it with default size, then resize so default font sizes  are resized accordingly\n    //        if (this._mainform != null) this._mainform.hide();\n    //        if (!YWebPage.readonly)\n    //        {\n    //            if ((YWebPage._editor != null) && (YWebPage._editor.visible)) wdg.edit();\n    //        }\n    //\n    //    }\n    //\n    //    public static newAngularGaugeWidget(): void\n    //    {\n    //        let s = Math.min(window.innerWidth, window.innerHeight) / 2;\n    //        if (s < 350) s = 350;\n    //        let x: number = ((window.innerWidth - s) / 2) >> 0;\n    //        let y: number = ((window.innerHeight - s) / 2) >> 0;\n    //        let w: number = s >> 0;\n    //        let h: number = s >> 0;\n    //        let index: number = YWebPage.widgets.length;\n    //        if (index > 0)\n    //        {\n    //            x = index * 25;\n    //            y = index * 25;\n    //        }\n    //        let wdg: YoctoVisualization.angularGaugeWidget = new YoctoVisualization.angularGaugeWidget(null, YWebPage._editor, x, y, 375, 300)\n    //        wdg.set_name(YWebPage.FindUniqueNewName(\"New Angular Gauge\"));\n    //        YWebPage.widgets.push(wdg);\n    //        wdg.resize(w, h);   // first create it with default size, then resize so default font sizes  are resized accordingly\n    //        if (this._mainform != null) this._mainform.hide();\n    //        if (!YWebPage.readonly)\n    //        {\n    //            if ((YWebPage._editor != null) && (YWebPage._editor.visible)) wdg.edit();\n    //        }\n    //    }\n    //\n    //    public static newGaugeWidget(): void\n    //    {\n    //        let s = Math.min(window.innerWidth, window.innerHeight) / 2;\n    //        if (s < 350) s = 350;\n    //        let x: number = ((window.innerWidth - s) / 2) >> 0;\n    //        let y: number = ((window.innerHeight - s) / 2) >> 0;\n    //        let w: number = s >> 0;\n    //        let h: number = s >> 0;\n    //        let index: number = YWebPage.widgets.length;\n    //        if (index > 0)\n    //        {\n    //            x = index * 25;\n    //            y = index * 25;\n    //        }\n    //        let wdg: YoctoVisualization.gaugeWidget = new YoctoVisualization.gaugeWidget(null, YWebPage._editor, x, y, 355, 201)\n    //        wdg.set_name(YWebPage.FindUniqueNewName(\"New Solid Gauge\"));\n    //        YWebPage.widgets.push(wdg);\n    //        wdg.resize(w, h);   // first create it with default size, then resize so default font sizes  are resized accordingly\n    //        if (this._mainform != null) this._mainform.hide();\n    //        if (!YWebPage.readonly)\n    //        {\n    //            if ((YWebPage._editor != null) && (YWebPage._editor.visible)) wdg.edit();\n    //        }\n    //    }\n    //\n    //    public static newDigitalDisplayWidget(): void\n    //    public static newDigitalDisplayWidget(): void\n    //    {\n    //        let s = Math.min(window.innerWidth, window.innerHeight) / 8;\n    //        if (s < 90) s = 90;\n    //        let x: number = ((window.innerWidth - (4 * s)) / 2) >> 0;\n    //        let y: number = ((window.innerHeight - s) / 2) >> 0;\n    //        let w: number = (4 * s) >> 0;\n    //        let h: number = s >> 0;\n    //        let index: number = YWebPage.widgets.length;\n    //        if (index > 0)\n    //        {\n    //            x = index * 25;\n    //            y = index * 25;\n    //        }\n    //        let wdg: YoctoVisualization.digitalDisplayWidget = new YoctoVisualization.digitalDisplayWidget(null, YWebPage._editor, x, y, 410, 125)\n    //        wdg.set_name(YWebPage.FindUniqueNewName(\"New Digital Display\"));\n    //\n    //        let n: number = 1;\n    //        for (let i: number = 0; i < YWebPage.widgets.length; i++)\n    //        {\n    //            if (YWebPage.widgets[i].Text.startsWith(wdg.Text)) n++;\n    //        }\n    //        if (n > 1) wdg.Text = wdg.Text + \" \" + n.toString();\n    //\n    //        YWebPage.widgets.push(wdg);\n    //        wdg.resize(w, h);   // first create it with default size, then resize so default font sizes  are resized accordingly\n    //        if (this._mainform != null) this._mainform.hide();\n    //        if (!YWebPage.readonly)\n    //        {\n    //            if ((YWebPage._editor != null) && (YWebPage._editor.visible)) wdg.edit();\n    //        }\n    //    }\n    //\n    //    static refreshPropertiesForm()\n    //    {\n    //        if ((!YWebPage.readonly) && (YWebPage._editor != null)) YWebPage._editor.refresh();\n    //    }\n    //\n    ////#endif\n    static sensorListHaschanged() {\n        //#ifndef READONLY\n        //        YWebPage.refreshPropertiesForm()\n        ////#endif\n    }\n    static EmptyReadonlyConfig() {\n        YoctoVisualization.alert.show(\"Yocto-Visualization Error\\n\\nConfiguration is both empty and read only, check configuration file.\");\n    }\n    static ForceReloadConfig(newXMLdata) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //#ifndef READONLY\n            //        if (!YWebPage.readonly)\n            //        {\n            //            if (YWebPage._editor != null) YWebPage._editor.visible = false;\n            //            YoctoVisualization.configForm.hide();\n            //            YoctoVisualization.rawDataForm.hide();\n            //            YoctoVisualization.HubEdit.hide();\n            //        }\n            ////#endif\n            YoctoVisualization.logForm.log(\"Reloading the whole configuration.\");\n            yield YoctoVisualization.sensorsManager.clearHublist();\n            for (let i = YWebPage.widgets.length - 1; i >= 0; i--) {\n                YWebPage.widgets[i].destroy();\n                YWebPage.widgets.splice(i, 1);\n            }\n            YWebPage.loadFromXML(newXMLdata);\n            //#ifndef READONLY\n            //        YoctoVisualization.constants.edited = false;\n            //        //#endif\n        });\n    }\n    static ConfigChanged(newXMLdata) {\n        if (YWebPage.ConfigChangedConfirmWindows != null) // prevent confirmation from stacking\n         {\n            YWebPage.ConfigChangedConfirmWindows.hide();\n        }\n        let newCRC = YoctoVisualization.constants.crc32(newXMLdata);\n        if (newCRC == YWebPage.xmlDataCRC)\n            return;\n        YoctoVisualization.logForm.log(\"Config file changed behind our back!\");\n        if (!this.readonly) {\n            YWebPage.ConfigChangedConfirmWindows = YoctoVisualization.confirm.ask(\"Configuration has changed on server\\nWould you like to reload it?\", () => {\n                YWebPage.ForceReloadConfig(newXMLdata);\n                YWebPage.ConfigChangedConfirmWindows = null;\n            }, () => { YWebPage.ConfigChangedConfirmWindows = null; }, null);\n        }\n        else {\n            YWebPage.ForceReloadConfig(newXMLdata);\n        }\n        YWebPage.xmlDataCRC = newCRC;\n        //#ifndef READONLY\n        //        YoctoVisualization.constants.edited = false;\n        //        //#endif\n    }\n    //#ifndef READONLY\n    //    private static saveIntDiv: HTMLDivElement | null = null;\n    //    public static ShowSaveReminder(visible: boolean)\n    //    {\n    //        if (YWebPage.saveIntDiv == null)\n    //        {\n    //            YWebPage.saveIntDiv = document.createElement(\"DIV\") as HTMLDivElement;\n    //            YWebPage.saveIntDiv.style.position = \"fixed\";\n    //            YWebPage.saveIntDiv.style.left = \"5px\";\n    //            YWebPage.saveIntDiv.style.top = \"5px\";\n    //            YWebPage.saveIntDiv.style.zIndex = \"200000\";\n    //            YWebPage.saveIntDiv.style.cursor = \"pointer\";\n    //            YWebPage.saveIntDiv.innerHTML = YoctoVisualization.ressources.SaveNeededIcon((48 * YoctoVisualization.constants.guiDPIFactor).toString(), false, false, false, false)\n    //            YWebPage.saveIntDiv.addEventListener(\"click\", () =>\n    //            {\n    //                (<HTMLDivElement>YWebPage.saveIntDiv).style.display = \"none\";\n    //                YWebPage.save(true);\n    //            });\n    //            document.body.appendChild(YWebPage.saveIntDiv)\n    //        }\n    //        YWebPage.saveIntDiv.style.display = visible ? \"\" : \"none\";\n    //    }\n    ////#endif\n    static loadFromXML(xmlData) {\n        if (xmlData == \"\") {\n            //#ifndef READONLY\n            //            if ((!YWebPage.readonly) && (YWebPage._mainform != null))\n            //            {\n            //                YWebPage._mainform.show();\n            //            }\n            //            else\n            ////#endif\n            {\n                YWebPage.EmptyReadonlyConfig();\n            }\n            return;\n        }\n        let parser = new DOMParser();\n        let doc = parser.parseFromString(xmlData.replace(\"<\" + \"!-->\", \"<\" + \"!-- \"), \"application/xml\");\n        let root = null;\n        doc.childNodes.forEach(node => { if ((node.nodeName.toUpperCase() == \"ROOT\") && (root == null))\n            root = node; });\n        if (root == null)\n            throw \"No ROOT top node in XML data\";\n        // sensor configuration must be loaded first\n        root.childNodes.forEach(node => {\n            if (node.nodeName.toUpperCase() == \"SENSORS\") {\n                YoctoVisualization.sensorsManager.setKnownSensors(new YoctoVisualization.YXmlNode(node));\n            }\n        });\n        root.childNodes.forEach(node => {\n            let editor = null;\n            //#ifndef READONLY\n            //            editor = YWebPage._editor;\n            ////#endif\n            switch (node.nodeName.toUpperCase()) {\n                case \"CONFIG\":\n                    YoctoVisualization.constants.Init(new YoctoVisualization.YXmlNode(node));\n                    break;\n                case \"GRAPHFORM\":\n                    YWebPage.widgets.push(new YoctoVisualization.graphWidget(new YoctoVisualization.YXmlNode(node), editor));\n                    break;\n                case \"ANGULARGAUGEFORM\":\n                    YWebPage.widgets.push(new YoctoVisualization.angularGaugeWidget(new YoctoVisualization.YXmlNode(node), editor));\n                    break;\n                case \"GAUGEFORM\":\n                    YWebPage.widgets.push(new YoctoVisualization.gaugeWidget(new YoctoVisualization.YXmlNode(node), editor));\n                    break;\n                case \"DIGITALDISPLAYFORM\":\n                    YWebPage.widgets.push(new YoctoVisualization.digitalDisplayWidget(new YoctoVisualization.YXmlNode(node), editor));\n                    break;\n            }\n            YoctoVisualization.sensorsManager.registerChangeCallback(() => { YWebPage.sensorListHaschanged(); });\n            if ((node.nodeName.toUpperCase() == \"ROOT\") && (root == null))\n                root = node;\n        });\n        if (YWebPage.widgets.length <= 0) {\n            //#ifndef READONLY\n            //            YoctoVisualization.constants.edited = false;\n            //            if ((!YWebPage.readonly) && (YWebPage._mainform != null))\n            //            {\n            //                YWebPage._mainform.show();\n            //            }\n            //            else\n            ////#endif\n            {\n                YWebPage.EmptyReadonlyConfig();\n            }\n        }\n        //#ifndef READONLY\n        //        else if ((!YWebPage.readonly) && (YWebPage._mainform != null)) YWebPage._mainform.hide();\n        //        //#endif\n    }\n    //#ifndef READONLY\n    //\n    //    private static  NewVersionSizeX  : number =350;\n    //    private static  NewVersionSizeY  : number =75;\n    //    private static NewVersionmessageDiv : HTMLDivElement;\n    //\n    //    private static AnimateNewVerwsionMessage(step :number)\n    //    { YWebPage.NewVersionmessageDiv.style.left = Math.round((100-step)*YWebPage.NewVersionSizeX /100  )+\"px\"\n    //      if (step<100)\n    //        { step+=2;\n    //            if (step>100) step=100;\n    //            setTimeout(    () => {YWebPage.AnimateNewVerwsionMessage(step);});\n    //\n    //        }\n    //    }\n    //\n    //    private static StartInstaller(roothub : YoctoVisualization.Hub |null)\n    //         {\n    //           let installerDiv :  HTMLDivElement = document.createElement(\"DIV\") as HTMLDivElement;\n    //\n    //           installerDiv.style.position=\"absolute\";\n    //           installerDiv.style.top=\"50%\";\n    //           installerDiv.style.left=\"50%\";\n    //           installerDiv.style.transform=\"translate(-50%,-50%)\";\n    //           installerDiv.style.width=\"550px\";\n    //           installerDiv.style.height=\"380px\";\n    //           installerDiv.style.zIndex=\"999999\";\n    //           installerDiv.style.border=\"1px solid black\";\n    //           installerDiv.style.boxShadow=\"rgba(0, 0, 0, 0.05) 4px 4px 4px 1px\";\n    //           document.body.appendChild(installerDiv);\n    //           let options : any = {};\n    //           if (roothub != null)\n    //               options = {\"protocol\": roothub.protocol,\n    //                         \"addr\":  roothub.addr,\n    //                         \"port\": parseInt(roothub.port),\n    //                         \"path\" : roothub.path};\n    //\n    //         /*options = {\"protocol\": \"http\",\n    //             \"addr\":  \"youpi.com\",\n    //             \"port\": 666,\n    //             \"path\" : \"AvenueFoch\"};\n    //*/\n    //           (window as any).startYV4W_installer(installerDiv,options);\n    //\n    //\n    //        }\n    //\n    //\n    //\n    //    private static DownloadAndStartInstaller(roothub : YoctoVisualization.Hub |null ,deleteTimer : NodeJS.Timeout)\n    //       { clearTimeout(deleteTimer);\n    //         let installerURL=\"https://www.yoctopuce.com/FR/downloads/yoctovisualization4web/yoctovisualization4web.999.installer.js\";\n    //         console.log(\"Downloading installer (\"+installerURL+\")...\");\n    //         let P : HTMLParagraphElement = document.createElement(\"P\") as HTMLParagraphElement;\n    //         P.style.textAlign=\"center\";\n    //         P.style.fontFamily=YoctoVisualization.constants.generalFontFamily;\n    //         P.style.fontSize=\"16px\";\n    //         P.innerHTML =\"Downloading Installer<br>Please wait...\";\n    //         YWebPage.NewVersionmessageDiv.removeChild(YWebPage.NewVersionmessageDiv.firstChild as ChildNode );\n    //         YWebPage.NewVersionmessageDiv.appendChild(P)\n    //         //debugger\n    //         let  script : HTMLScriptElement = document.createElement(\"script\") as HTMLScriptElement;\n    //         script.async = false;\n    //         script.type = \"module\";\n    //         script.onerror = (err : Event | string)=>\n    //             { console.log(\"Failed to donwload installer (\"+Event.toString()+\")\" );\n    //               P.innerHTML =(\"Failed to download installer,<br>Check conole logs\");\n    //             };\n    //\n    //          script.onload = () =>\n    //            { P.innerHTML =\"Starting installer...\";\n    //             YWebPage.DeleteNewVersionMessage(100)\n    //             YWebPage.StartInstaller(roothub);\n    //            }\n    //\n    //\n    //         document.body.appendChild(script);\n    //\n    //         script.src = installerURL;\n    //\n    //     }\n    //\n    //    private static  DeleteNewVersionMessage(opacity : number)\n    //    {   opacity-=5;\n    //        if (opacity>0)\n    //        {  YWebPage.NewVersionmessageDiv.style.opacity=(opacity/100).toString();\n    //           setTimeout(    () => {YWebPage.DeleteNewVersionMessage(opacity);},100);\n    //           return;\n    //\n    //        }\n    //        document.body.removeChild(YWebPage.NewVersionmessageDiv.parentNode as Node);\n    //    }\n    //\n    //    private static CheckForNewVersion()\n    //    {   if (!YoctoVisualization.constants.mustCheckForUpdate) return;\n    //\n    //        let containerDiv : HTMLDivElement = document.createElement(\"DIV\") as HTMLDivElement;\n    //        containerDiv.style.position=\"absolute\";\n    //        containerDiv.style.width=YWebPage.NewVersionSizeX+\"px\";\n    //        containerDiv.style.height=YWebPage.NewVersionSizeY+\"px\";\n    //\n    //\n    //        containerDiv.style.top=\"5px\";\n    //        containerDiv.style.right=\"0px\";\n    //        containerDiv.style.overflow=\"hidden\"\n    //        document.body.appendChild(containerDiv);\n    //\n    //        YWebPage.NewVersionmessageDiv = document.createElement(\"DIV\") as HTMLDivElement;\n    //        YWebPage.NewVersionmessageDiv.style.position=\"absolute\";\n    //        YWebPage.NewVersionmessageDiv.style.width=(YWebPage.NewVersionSizeX-7)+\"px\";\n    //        YWebPage.NewVersionmessageDiv.style.height=(YWebPage.NewVersionSizeY-2)+\"px\";\n    //        YWebPage.NewVersionmessageDiv.style.backgroundColor=\"GhostWhite\";\n    //        YWebPage.NewVersionmessageDiv.style.border=\"1px solid dimgray\";\n    //\n    //        YWebPage.NewVersionmessageDiv.style.top=\"0px\";\n    //        YWebPage.NewVersionmessageDiv.style.left=YWebPage.NewVersionSizeX+\"px\";\n    //        YWebPage.NewVersionmessageDiv.style.fontFamily=YoctoVisualization.constants.generalFontFamily;\n    //        YWebPage.NewVersionmessageDiv.style.fontSize=\"10px\";\n    //\n    //        let table : HTMLTableElement = document.createElement(\"TABLE\") as HTMLTableElement;\n    //        let TR  :  HTMLTableRowElement = document.createElement(\"TR\") as HTMLTableRowElement;\n    //\n    //        let TD1  :  HTMLTableCellElement = document.createElement(\"TD\") as HTMLTableCellElement;\n    //        TD1.style.paddingLeft=\"5px\";\n    //        TD1.style.paddingRight=\"10px\";\n    //        TD1.rowSpan=2;\n    //        TD1.innerHTML=  YoctoVisualization.ressources.infoIcon(\"32\", false, false, false, false, \"information\")\n    //        TR.appendChild(TD1)\n    //        let TD2  :  HTMLTableCellElement = document.createElement(\"TD\") as HTMLTableCellElement;\n    //        TD2.innerHTML=  \"A new Yocto-Visualitation (for web)<br>version is available\";\n    //        TR.appendChild(TD2)\n    //        table.appendChild(TR);\n    //\n    //        TR   =  document.createElement(\"TR\") as HTMLTableRowElement;\n    //        TD2  =  document.createElement(\"TD\") as HTMLTableCellElement;\n    //        TD2.style.textAlign=\"right\";\n    //\n    //        let hubList: YoctoVisualization.Hub[] = YoctoVisualization.sensorsManager.hubList;\n    //        let rootHub : YoctoVisualization.Hub | null  =null;\n    //        for (let i:number =0;i<hubList.length;i++)\n    //        { if (!hubList[i].removable) rootHub = hubList[i];\n    //\n    //        }\n    //\n    //        let a : HTMLAnchorElement = document.createElement(\"A\") as HTMLAnchorElement;\n    //        let deleteTimer : NodeJS.Timeout  = setTimeout(    () => {YWebPage.DeleteNewVersionMessage(100);},5000);\n    //        a.style.fontSize=\"12px\";\n    //        a.style.color=\" #0000EE\"\n    //        a.style.textDecoration=\"underline\";\n    //        a.style.cursor=\"pointer\";\n    //\n    //       if (rootHub!=null)\n    //        {   a.innerText=\"Download and start installer..\";\n    //            a.addEventListener(\"click\" ,()=>{YWebPage.DownloadAndStartInstaller(rootHub as YoctoVisualization.Hub,deleteTimer);});\n    //        }\n    //        else\n    //        { a.innerText=\"www.yoctopuce.com\";\n    //          a.addEventListener(\"click\" ,()=>{window.location.assign(\"http://www.yoctopuce.com/EN/tools.php\")});\n    //        }\n    //\n    //\n    //\n    //        TD2.appendChild(a);\n    //        TR.appendChild(TD2)\n    //        table.appendChild(TR);\n    //\n    //        YWebPage.NewVersionmessageDiv.appendChild(table);\n    //\n    //        containerDiv.appendChild(YWebPage.NewVersionmessageDiv);\n    //        YWebPage.AnimateNewVerwsionMessage(0);\n    //\n    //    }\n    ////#endif\n    // YWebPage.run is the application entry point.\n    //\n    // params:\n    // xmldata  : XML  configuration data string\n    // ExternalConfigChange:  will be called if a module config changes , can be used to track configuration file changes,\n    // ExternalConfigChange should return the new  XML  configuration data string or null. If you don't want\n    // to use that feature, set ExternalConfigChange to null\n    // saveFunction will be called at save time and is supposed to sve the configuration data the way it sees fit\n    // One can use the internal  YWebPage.Dummysave to test.\n    static run(xmlData, ExternalConfigChange, saveFunction) {\n        if (typeof (ExternalConfigChange) !== \"undefined\") {\n            if (ExternalConfigChange != null) {\n                YoctoVisualization.sensorsManager.registerChangeExternalCallback(ExternalConfigChange);\n            }\n        }\n        YWebPage.xmlDataCRC = YoctoVisualization.constants.crc32(xmlData);\n        //#ifndef READONLY\n        //        if (typeof saveFunction !== \"undefined\") YWebPage._saveFunction = saveFunction;\n        ////#endif\n        YoctoVisualization.logForm.log(\"Application start, Welcome to Yocto-Visualization (for web).\");\n        //#ifndef READONLY\n        //        YoctoVisualization.logForm.log(\"This application contains code ported from the Pako library (www.github.com/nodeca/pako).\");\n        //        //#endif\n        YoctoVisualization.logForm.log(\"Yocto-Visualization version is \" + YoctoVisualization.constants.buildVersion);\n        YoctoVisualization.logForm.log(\"Yoctopuce API version is \" + YoctoAPI.YAPI.imm_GetAPIVersion());\n        if (YoctoVisualization.constants.RunningOnAndroid)\n            YoctoVisualization.logForm.log(\"Browser is running on Android\");\n        let widthCm = Math.round(2.54 * YoctoVisualization.constants.deviceScreenWidth / YoctoVisualization.constants.screenDPI);\n        let heightCm = Math.round(2.54 * YoctoVisualization.constants.deviceScreenHeight / YoctoVisualization.constants.screenDPI);\n        YoctoVisualization.logForm.log(\"Reported screen size is \" + YoctoVisualization.constants.deviceScreenWidth.toString() + \"x\" + YoctoVisualization.constants.deviceScreenHeight.toString() + \" at \" + YoctoVisualization.constants.screenDPI + \" dpi, (~\" + widthCm.toString() + \"x\" + heightCm.toString() + \"cm) \");\n        YoctoVisualization.logForm.log(\"Reported pixel ratio is \" + window.devicePixelRatio.toString());\n        YoctoVisualization.logForm.log(YoctoVisualization.constants.isPhoneOrTablet ? \"Probably running on a tablet or a phone.\" : \"Probably running on a desktop.\");\n        YoctoVisualization.logForm.log((YoctoVisualization.constants.guiDPIFactorWasOverriden ? \"DPI based zoom overridden  to \" : \"DPI based zoom factor set to \") + YoctoVisualization.constants.guiDPIFactor.toFixed(1));\n        YoctoVisualization.logForm.log(\"Reported window inner size =\" + window.innerWidth.toString() + \"x\" + window.innerHeight.toString() + \"px\");\n        YWebPage.applicationGlobalinit();\n        YoctoVisualization.sensorsManager.run();\n        YWebPage.loadFromXML(xmlData);\n        //  window.addEventListener(\"beforeunload\", async (e: Event) => { await YWebPage.pageIsleaving(e); })\n        //  window.addEventListener(\"pagehide\", async (e: Event) => { await YWebPage.pageIsleaving(e); })\n        //#ifndef READONLY\n        //        YoctoVisualization.constants.edited = false;\n        //        YWebPage.CheckForNewVersion();\n        //        //#endif\n    }\n    static pageIsleaving(e) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //#ifndef READONLY\n            //        if (!(<any>e).persistent)\n            //        {\n            //            if (YoctoVisualization.constants.edited)\n            //            {\n            //                await YWebPage.save(false)\n            //                await YoctoAPI.YAPI.FreeAPI();\n            //\n            //            }\n            //        }\n            //        //#endif\n            //#ifndef READONLY\n            //        //if (!await this.save(false)) e.preventDefault();  not reliable :-/\n            //\n            //        //   if (YoctoVisualization.constants.edited)\n            //        //   {  e.preventDefault();\n            //\n            //        //   } else  await YoctoAPI.YAPI.FreeAPI();\n            //\n            //        //#endif\n        });\n    }\n    //#ifndef READONLY\n    //    public static refreshEditor()\n    //    {\n    //        if (YWebPage.readonly) return\n    //        if (YWebPage._editor == null) return\n    //        YWebPage._editor.refresh();\n    //    }\n    //\n    //    public static EditObject(widget: YoctoVisualization.YWidget, structData: object,\n    //                             setvalueCallBack: YoctoVisualization.SetValueCallBack2,\n    //                             getvalueCallBack: YoctoVisualization.GetValueCallBack2,\n    //                             EditStoppedCallBack: YoctoVisualization.EditorWasClosedCallback): void\n    //    {\n    //        if (YWebPage.readonly) return\n    //        if (YWebPage._editor == null) return\n    //        YWebPage._editor.showWindow(widget, structData, setvalueCallBack, getvalueCallBack, EditStoppedCallBack);\n    //    }\n    //\n    //    public static get_XmlData(): string\n    //    {\n    //        let XmlConfigFile: string = \"<?xml version=\\\"1.0\\\" ?>\\n\"\n    //            + \"<!--\\n\"\n    //            + \"   **************************************************\\n\"\n    //            + \"   Yocto-Visualization (for web)  configuration file\\n\"\n    //            + \"   **************************************************\\n\"\n    //            + \"-->\\n\"\n    //            + \"<ROOT version='2.1'>\\n\"\n    //            + \"<!-- in 2.1 version, floating point values are saved in CultureInfo.InvariantCulture form -->\\n\";\n    //        XmlConfigFile += YoctoVisualization.constants.GetXMLConfiguration();\n    //        for (let i: number = 0; i < YWebPage.widgets.length; i++)\n    //        {\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.graphWidget) XmlConfigFile += (YWebPage.widgets[i] as YoctoVisualization.graphWidget).getConfigData();\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.angularGaugeWidget) XmlConfigFile += (YWebPage.widgets[i] as YoctoVisualization.angularGaugeWidget).getConfigData();\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.gaugeWidget) XmlConfigFile += (YWebPage.widgets[i] as YoctoVisualization.gaugeWidget).getConfigData();\n    //            if (YWebPage.widgets[i] instanceof YoctoVisualization.digitalDisplayWidget) XmlConfigFile += (YWebPage.widgets[i] as YoctoVisualization.digitalDisplayWidget).getConfigData();\n    //        }\n    //        //  XmlConfigFile += propWindow2.getConfigData();   // no really important\n    //        XmlConfigFile += YoctoVisualization.sensorsManager.getXMLSensorsConfig();\n    //        XmlConfigFile += \"</ROOT>\\n\";\n    //        return XmlConfigFile;\n    //    }\n    //\n    ////#endif\n    static get readonly() {\n        let res = true;\n        //#ifndef READONLY\n        //        res = (YWebPage._saveFunction == null);\n        ////#endif\n        return res;\n    }\n    //#ifndef READONLY\n    //    // stub for dev tests\n    //    private static async runInternalTest()\n    //        {\n    //\n    //         // put test code here\n    //\n    //        }\n    //    //#endif\n    static save(force) {\n        return __awaiter(this, void 0, void 0, function* () {\n            //#ifndef READONLY\n            //        if (YWebPage.readonly) return true;\n            //        let xml: string = this.get_XmlData();\n            //        let newCRC: number = YoctoVisualization.constants.crc32(xml);\n            //        if (!force && newCRC == YWebPage.xmlDataCRC) return true;\n            //\n            //\n            //        let saveDoneCallback  = (ok:boolean,message:string) =>\n            //          {\n            //            let div: HTMLDivElement = document.createElement(\"DIV\") as HTMLDivElement;\n            //            div.style.position = \"Fixed\"\n            //            div.style.left = \"5px\";\n            //            div.style.top = \"5px\";\n            //            div.style.padding = \"2px 5px 2px 5px\";\n            //            div.style.margin = \"2px 2px 2px 2px\";\n            //            div.style.border = \"1px solid darkgreen\";\n            //            div.style.fontFamily = \"Arial\"\n            //            div.style.fontSize = (12 * YoctoVisualization.constants.guiDPIFactor).toString();\n            //            div.style.whiteSpace = \"nowrap\";\n            //            div.style.zIndex = \"200000\";\n            //            div.style.textAlign = \"center\";\n            //            div.style.opacity = \"1\";\n            //            let  fgcolor : string = ok?  \"darkgreen\":\"darkred\";\n            //            let  bgcolor : string = ok?  \"#b9eea9\":\"#eea9a9\";\n            //            div.style.opacity = \"1\";\n            //            div.style.backgroundColor = bgcolor;\n            //            div.style.border = \"1px solid \"+fgcolor;\n            //            div.style.color = fgcolor;\n            //            div.innerText = message;\n            //            document.body.appendChild(div)\n            //            setTimeout(() => {YWebPage.handleSavedNotification(div)}, 100)\n            //          };\n            //\n            //\n            //        try\n            //        {\n            //            if (YWebPage._saveFunction != null)\n            //            {\n            //               return  await YWebPage._saveFunction(this.get_XmlData(),saveDoneCallback);\n            //\n            //            }\n            //        }\n            //        catch (e)\n            //        {   saveDoneCallback(false,\"Save failed\" )\n            //            YoctoVisualization.alert.show(\"Configuration save failed, sorry\\n\" + (e as Error).message)\n            //            return false;\n            //        }\n            //        YWebPage.xmlDataCRC = newCRC\n            //        YoctoVisualization.logForm.log(\"Configuration saved.\");\n            //        YoctoVisualization.constants.edited = false;\n            //\n            //        //#endif\n            return true;\n        });\n    }\n    static handleSavedNotification(div) {\n        let opacity = parseFloat(div.style.opacity) - 0.05;\n        if (opacity < 0) {\n            document.body.removeChild(div);\n            return;\n        }\n        div.style.opacity = opacity.toString();\n        setTimeout(() => { YWebPage.handleSavedNotification(div); }, 100);\n    }\n}\nYWebPage.baseSize = 18 * YoctoVisualization.constants.generalSizeCoef;\nYWebPage.xmlDataCRC = 0;\nYWebPage.widgets = [];\nYWebPage._markersSubMenuItems = [];\nYWebPage._MarkerCountPerXaxis = 0;\nYWebPage.ConfigChangedConfirmWindows = null;\nexport class HTTPrequestResult {\n    constructor(data, status, statusText) {\n        this._data = data;\n        this._status = status;\n        this._statusText = statusText;\n    }\n    get data() { return this._data; }\n    ;\n    get status() { return this._status; }\n    ;\n    get statusText() { return this._statusText; }\n    ;\n}\nexport class HubInfo {\n    get protocol() { return this._protocol; }\n    get addr() { return this._addr; }\n    get port() { return this._port; }\n    get path() { return this._path; }\n    get userPassword() { return this._userPassword; }\n    get adminPassword() { return this._adminPassword; }\n    get serial() { return this._serial; }\n    get srvUsername() { return this._srvusername != null ? this._srvusername : \"\"; }\n    get srvPassword() { return this._srvpassword != null ? this._srvpassword : \"\"; }\n    constructor(protocol, addr, port, path, srvusername, srvpassword) {\n        this._userPassword = false;\n        this._adminPassword = false;\n        this._cred = \"\";\n        this._serial = \"\";\n        this._srvusername = null;\n        this._srvpassword = null;\n        if (protocol.slice(-1) == ':')\n            protocol = protocol.slice(0, -1);\n        this._protocol = protocol;\n        this._addr = addr;\n        this._port = port;\n        this._protocol = protocol;\n        this._path = path;\n        if (srvusername !== undefined)\n            this._srvusername = srvusername;\n        if (srvpassword !== undefined)\n            this._srvpassword = srvpassword;\n        if (this._path != \"\") {\n            if (this._path.charAt(0) == \"/\") {\n                this._path = this._path.slice(1);\n            }\n        }\n        if (this._path != \"\") {\n            if (this._path.slice(-1) == '/') {\n                this._path = this._path.slice(0, -1);\n            }\n        }\n    }\n    get_hubUrl(user, password) {\n        let url = this.protocol + \"://\";\n        if ((typeof (user) != \"undefined\") && (user != \"\")) {\n            if (user != \"\") {\n                url += user + \":\" + password + \"@\";\n            }\n        }\n        url += this.addr + \":\" + this.port.toString();\n        if (this.path != \"\")\n            url += \"/\" + this.path;\n        return url;\n    }\n    makeRequest() {\n        return __awaiter(this, void 0, void 0, function* () {\n            let url = this._protocol + \"://\" + this._addr + \":\" + this._port.toString();\n            if (this._path != \"\")\n                url += \"/\" + this._path;\n            url += \"/info.json\";\n            let HubData = null;\n            let res = yield YoctoVisualization.YoctoHubFileHandler.makeRequest(\"GET\", url, this._srvusername, this._srvpassword);\n            if (res.data != null) {\n                let data = new TextDecoder().decode(res.data);\n                HubData = JSON.parse(data);\n                if (HubData.port && HubData.port.length > 0) {\n                    let proto_port = HubData.port[0].split(':');\n                    this._protocol = proto_port[0];\n                    this._port = parseInt(proto_port[1]);\n                }\n                this._serial = HubData.serialNumber;\n                this._path = HubData.dir;\n                this._adminPassword = (HubData.adminPassword.toUpperCase() == \"TRUE\");\n                this._userPassword = (HubData.userPassword.toUpperCase() == \"TRUE\");\n                return true;\n            }\n            else {\n                // probably a hub or a virtualhub\n                if (this._protocol == 'https') {\n                    this._protocol = \"wss\";\n                }\n                else {\n                    this._protocol = \"ws\";\n                }\n            }\n            return false;\n        });\n    }\n    findChild(parent, name) {\n        let res = null;\n        parent.childNodes.forEach(node => {\n            if ((node.nodeName == name)) {\n                res = node;\n                return;\n            }\n        });\n        return res;\n    }\n    findOutCredentialsFromConfigFile(xmlData) {\n        if (xmlData == null)\n            return;\n        let parser = new DOMParser();\n        let doc = parser.parseFromString(xmlData, \"application/xml\");\n        let rootNode = this.findChild(doc, \"ROOT\");\n        if (rootNode == null)\n            return;\n        let configNode = this.findChild(rootNode, \"Config\");\n        if (configNode == null)\n            return;\n        let Hubs = this.findChild(configNode, \"Hubs\");\n        if (Hubs == null)\n            return;\n        let HubSection;\n        let list = Hubs.childNodes;\n        let sourceHubFound = false;\n        for (let i = 0; i < list.length; i++) {\n            if (list[i].nodeName == \"Hub\") {\n                let node = new YoctoVisualization.YXmlNode(list[i]);\n                let attributes = node.Attributes;\n                let addr = attributes.hasOwnProperty(\"addr\") ? attributes[\"addr\"] : \"\";\n                let port = attributes.hasOwnProperty(\"port\") ? attributes[\"port\"] : \"80\";\n                let protocol = attributes.hasOwnProperty(\"protocol\") ? attributes[\"protocol\"] : \"\";\n                let path = attributes.hasOwnProperty(\"path\") ? attributes[\"path\"] : \"\";\n                let username = attributes.hasOwnProperty(\"user\") ? attributes[\"user\"] : \"\";\n                let password = attributes.hasOwnProperty(\"password\") ? attributes[\"password\"] : \"\";\n                let a1 = addr.toUpperCase();\n                if (a1.substring(0, 4) == \"WWW.\")\n                    a1 = a1.substring(4);\n                let a2 = this._addr.toUpperCase();\n                if (a2.substring(0, 4) == \"WWW.\")\n                    a2 = a2.substring(4);\n                if ((a1 == a2) && (path == this._path)) {\n                    this._srvusername = username;\n                    this._srvpassword = YoctoVisualization.Hub.Decrypt(password, YoctoVisualization.Hub.loginCypherPassword);\n                }\n            }\n        }\n    }\n}\nexport class YoctoHubFileHandler {\n    //#ifndef READONLY\n    //    private fileSystem: YoctoAPI.YFiles | null = null;\n    //    private fileSystemReady: boolean = false;\n    //    private configFileCRC: number = -1;\n    //    //#endif\n    constructor(hubInfo) {\n        this.filename = '';\n        this.xmldata = '';\n        this.htmlSrcCode = '';\n        this.FileSystemAccessDenied = false;\n        this._XMLConfigFileChanged = null;\n        this.info = hubInfo;\n    }\n    init(defaultXmlConfigFileContents) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let url = location.href;\n            this.filename = url.substring(url.lastIndexOf('/') + 1);\n            let p = this.filename.indexOf(\"?\");\n            if (p > 0)\n                this.filename = this.filename.substring(0, p);\n            this.htmlSrcCode = document.documentElement.outerHTML;\n            if ((typeof (defaultXmlConfigFileContents) === \"undefined\") || (defaultXmlConfigFileContents == \"\")) {\n                this.xmldata =\n                    '<?xml version=\"1.0\" ?>\\n'\n                        + '<ROOT version=\"2.1\">\\n'\n                        + '<Config>\\n'\n                        + '<Hubs>\\n'\n                        + '<Hub protocol=\"' + this.info.protocol + '\" addr=\"' + this.info.addr + '\" port=\"' + this.info.port.toString() + '\"'\n                        + (this.info.path != \"\" ? ' path=\"' + this.info.path + '\"' : \"\")\n                        + ' removable=\"FALSE\"/>\\n'\n                        + '</Hubs>\\n'\n                        + '</Config>\\n'\n                        + '</ROOT>\\n';\n            }\n            else {\n                this.xmldata = defaultXmlConfigFileContents;\n            }\n            //#ifndef READONLY\n            //        this.fileSystem = null;\n            //        this.fileSystemReady = false;\n            //        await this.findSourceFileSystem(defaultXmlConfigFileContents);\n            //        //#endif\n        });\n    }\n    static start(defaultXmlConfigFileContents) {\n        return __awaiter(this, void 0, void 0, function* () {\n            let dirpath = location.pathname;\n            let defport = \"80\";\n            let slashpos = dirpath.lastIndexOf('/');\n            if (slashpos > 0) {\n                dirpath = dirpath.slice(0, slashpos);\n            }\n            else {\n                dirpath = \"\";\n            }\n            if (location.protocol == 'https:') {\n                defport = \"443\";\n            }\n            let hubinfo = new HubInfo(location.protocol, location.hostname, parseInt(location.port ? location.port : defport), dirpath);\n            yield hubinfo.makeRequest();\n            let filehandler = new YoctoHubFileHandler(hubinfo);\n            yield filehandler.init(defaultXmlConfigFileContents);\n            return filehandler;\n        });\n    }\n    get xmlConfigData() { return this.xmldata; }\n    static makeRequest(method, url, username, password) {\n        //console.log(method + \" \" + url)\n        return new Promise(function (resolve, reject) {\n            let xhr = new XMLHttpRequest();\n            if ((username !== undefined) && (password !== undefined) && (username != null) && (password !== null)) {\n                xhr.open(method, url, true, username, password);\n                xhr.withCredentials = true;\n            }\n            else {\n                xhr.open(method, url);\n            }\n            xhr.overrideMimeType('text/plain; charset=x-user-defined');\n            xhr.onload = function () {\n                if (this.status >= 200 && this.status < 300) {\n                    resolve(new HTTPrequestResult(YoctoAPI.YAPI.imm_str2bin(xhr.response), this.status, xhr.statusText));\n                }\n                else {\n                    resolve(new HTTPrequestResult(null, this.status, xhr.statusText));\n                }\n            };\n            xhr.onerror = function () {\n                resolve(new HTTPrequestResult(null, this.status, xhr.statusText));\n            };\n            xhr.send();\n        });\n    }\n}\nYoctoHubFileHandler.signatureStart = \"YoctoHubFileHandler.start(\";\nYoctoHubFileHandler.signatureEnd = \"</ROOT>\\\\n\\\");\";\n"],
  "mappings": "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",
  "names": []
}
